<div class="main_visual" id="visual" alt="시드니 노선 홍보(PC)" style="background-image:url(https://contents-image.twayair.com/contents/2022/1021/eca19c02-7d47-47be-9c66-c400f8e04157.jpg);">
    <div class="blind">시드니 노선 홍보(PC)</div>
    <div class="blind">IMG</div>
    <!-- special video visual --> 
    
    <!-- special video visual -->
    <!-- Main Text Slide -->
    <div class="main_slogan slick-initialized slick-slider" style="opacity: 1;"><div class="slick-list draggable"><div class="slick-track" style="opacity: 1; width: 34800px; transform: translate3d(-9600px, 0px, 0px);"><div class="slick-slide slick-cloned" data-slick-index="-1" aria-hidden="true" tabindex="-1" style="width: 1200px;"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/vRXNw_gFXTDNjWh1d8uKCA==/being/n?" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1019" alt="티웨이항공 전 노선 농협카드 결제 1만원 즉시 할인 " src="https://contents-image.twayair.com/contents/2022/1130/fb45c14c-c9f0-4f63-a20c-00c9862b8b55.png">
        </a></div></div><div class="slick-slide" data-slick-index="0" aria-hidden="true" style="width: 1200px;" data-gtm-vis-first-on-screen-30341174_117="2704674" tabindex="-1"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="Y" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/uGUhB-Umvdfu6WkTEnnNWg==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="835" alt="제주도 여행 최저가 도전" src="https://contents-image.twayair.com/contents/2022/1209/305156ec-3211-4b49-a6f5-54f840d6c7df.png">
        </a></div></div><div class="slick-slide" data-slick-index="1" aria-hidden="true" style="width: 1200px;" data-gtm-vis-first-on-screen-30341174_117="2705199" tabindex="-1"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/VBCLoBKdW2T2GN_Mrq8htQ==/being/n" style="cursor: pointer;" tabindex="0">
            
            <img gtm-promoid="1230" alt="대만 재취항 기념 특가 대구/제주-타이베이 왕복 10% 할인" src="https://contents-image.twayair.com/contents/2022/1204/f557ced1-b8fb-404b-8c6f-2767608b67d6.png">
        </a></div></div><div class="slick-slide" data-slick-index="2" aria-hidden="true" style="width: 1200px;" data-gtm-vis-first-on-screen-30341174_117="2709653" tabindex="-1"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/9kQuj0vaA-HXIXgNt-ImJA==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="923" alt="제주공항 쏘카존 1일 9,900원!" src="https://contents-image.twayair.com/contents/2022/1209/a3b2455c-357e-4970-81bb-69fef7ed258e.png">
        </a></div></div><div class="slick-slide" data-slick-index="3" aria-hidden="true" style="width: 1200px;" data-gtm-vis-first-on-screen-30341174_117="2713489" tabindex="-1"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="Y" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/hPCuf5JOzwgFFKgAfGdOLQ==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="472" alt="금토일 국내선 파격 할인, 국내선 주말 특가" src="https://contents-image.twayair.com/contents/2022/1021/9fbf9031-e5ac-445a-9613-f664ac12efec.png">
        </a></div></div><div class="slick-slide" data-slick-index="4" aria-hidden="true" style="width: 1200px;" data-gtm-vis-first-on-screen-30341174_117="2716599" tabindex="-1"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/vYioFfKUFcxIFKpAn8CrMQ==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1221" alt="재취항 기념 할인 이벤트, 다시 돌아온 구마모토" src="https://contents-image.twayair.com/contents/2022/1128/4a8756bf-f509-4579-84c1-aa1d9f35e1ac.png">
        </a></div></div><div class="slick-slide" data-slick-index="5" aria-hidden="true" style="width: 1200px;" data-gtm-vis-first-on-screen-30341174_117="3877403" tabindex="-1"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/cGASPol6wV8nr9G56xxPng==/being/n?" style="cursor: pointer;" tabindex="0">
            
            <img gtm-promoid="1206" alt="2023년 수능 수험생 최대 25% 할인 국내선, 국제선 원하는 곳 어디든!" src="https://contents-image.twayair.com/contents/2022/1121/f605b4ab-c9a1-455a-9721-f1abebf45960.png">
        </a></div></div><div class="slick-slide" data-slick-index="6" aria-hidden="true" style="width: 1200px;" data-gtm-vis-first-on-screen-30341174_117="3877682" tabindex="-1"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/P6M1HX8cyhzkCjzFlosIew==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1227" alt="12월 이달의 할인 혜택" src="https://contents-image.twayair.com/contents/2022/1130/55fd3ee8-6423-4fca-8f93-8f2815e63acf.png">
        </a></div></div><div class="slick-slide slick-current slick-active" data-slick-index="7" aria-hidden="false" style="width: 1200px;" data-gtm-vis-first-on-screen-30341174_117="3881538" data-gtm-vis-recent-on-screen-30341174_117="3981791" data-gtm-vis-total-visible-time-30341174_117="100" data-gtm-vis-has-fired-30341174_117="1"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/m0zBzXCDf0GydrvipNIwQQ==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1139" alt="호주 시드니 신규 취항! 유류세 반값, 기내식/수하물 무료" src="https://contents-image.twayair.com/contents/2022/1103/766abd33-3cd6-4e3e-aa07-f11c0efaf4c1.png">
        </a></div></div><div class="slick-slide" data-slick-index="8" aria-hidden="true" style="width: 1200px;" data-gtm-vis-first-on-screen-30341174_117="3885004" tabindex="-1"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="http://www.twayair.com/app/promotion/event/retrieve/XwcvQeiB4dGI7VyhXKRxkg==/being/n" style="cursor: pointer;" tabindex="0">
            
            <img gtm-promoid="1236" alt="케이빌리지 1만원 마일리지 증정" src="https://contents-image.twayair.com/contents/2022/1207/f7aeb2c4-8898-4f4b-a03f-148d1199d2ea.png">
        </a></div></div><div class="slick-slide" data-slick-index="9" aria-hidden="true" style="width: 1200px;" data-gtm-vis-first-on-screen-30341174_117="3889029" tabindex="-1"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/2pjmiKvbtZB6V-uk41h4vw==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1166" alt="싱가포르/호찌민 탑승객 한정 수하물 최대 30kg 무료 +항공권 3만원 추가 할인까지!" src="https://contents-image.twayair.com/contents/2022/1209/ef6b4128-e0dd-40f3-ac8b-ceaef2305223.png">
        </a></div></div><div class="slick-slide" data-slick-index="10" aria-hidden="true" style="width: 1200px;" data-gtm-vis-first-on-screen-30341174_117="3892619" tabindex="-1"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/J9YxFgGS7KoRSf7V5hmp1A==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="971" alt="매일 선착순 혜택 카카오페이 3만원 추가 할인" src="https://contents-image.twayair.com/contents/2022/1021/8888d0e2-6f09-4466-9b89-3aec911d0804.png">
        </a></div></div><div class="slick-slide" data-slick-index="11" aria-hidden="true" style="width: 1200px;" data-gtm-vis-first-on-screen-30341174_117="3896113" tabindex="-1"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/booking/searchItinerary?tripType=RT&amp;depAirportCode=CJU&amp;arrAirportCode=NRT" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1131" alt="제주/도쿄(나리타) 직항 1회 한정 운항" src="https://contents-image.twayair.com/contents/2022/1123/197e33f3-e293-4c96-909e-e1275ef9d1b7.png">
        </a></div></div><div class="slick-slide" data-slick-index="12" aria-hidden="true" style="width: 1200px;" data-gtm-vis-first-on-screen-30341174_117="3899778" tabindex="-1"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/jaa5hBNVpvnc-KYIxmgcoA==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="989" alt="티웨이 X 왓챠 티웨이 타면 왓챠 이용권 증정! 왓챠 프리미엄 10일 이용권 받자!" src="https://contents-image.twayair.com/contents/2022/1025/3cdcd55d-2888-4141-96cb-4aaff31d568c.png">
        </a></div></div><div class="slick-slide" data-slick-index="13" aria-hidden="true" style="width: 1200px;" data-gtm-vis-first-on-screen-30341174_117="3903140" tabindex="-1"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/vRXNw_gFXTDNjWh1d8uKCA==/being/n?" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1019" alt="티웨이항공 전 노선 농협카드 결제 1만원 즉시 할인 " src="https://contents-image.twayair.com/contents/2022/1130/fb45c14c-c9f0-4f63-a20c-00c9862b8b55.png">
        </a></div></div><div class="slick-slide slick-cloned" data-slick-index="14" aria-hidden="true" tabindex="-1" style="width: 1200px;" data-gtm-vis-first-on-screen-30341174_117="3906665"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="Y" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/uGUhB-Umvdfu6WkTEnnNWg==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="835" alt="제주도 여행 최저가 도전" src="https://contents-image.twayair.com/contents/2022/1209/305156ec-3211-4b49-a6f5-54f840d6c7df.png">
        </a></div></div><div class="slick-slide slick-cloned" data-slick-index="15" aria-hidden="true" tabindex="-1" style="width: 1200px;"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/VBCLoBKdW2T2GN_Mrq8htQ==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1230" alt="대만 재취항 기념 특가 대구/제주-타이베이 왕복 10% 할인" src="https://contents-image.twayair.com/contents/2022/1204/f557ced1-b8fb-404b-8c6f-2767608b67d6.png">
        </a></div></div><div class="slick-slide slick-cloned" data-slick-index="16" aria-hidden="true" tabindex="-1" style="width: 1200px;"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/9kQuj0vaA-HXIXgNt-ImJA==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="923" alt="제주공항 쏘카존 1일 9,900원!" src="https://contents-image.twayair.com/contents/2022/1209/a3b2455c-357e-4970-81bb-69fef7ed258e.png">
        </a></div></div><div class="slick-slide slick-cloned" data-slick-index="17" aria-hidden="true" tabindex="-1" style="width: 1200px;"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="Y" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/hPCuf5JOzwgFFKgAfGdOLQ==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="472" alt="금토일 국내선 파격 할인, 국내선 주말 특가" src="https://contents-image.twayair.com/contents/2022/1021/9fbf9031-e5ac-445a-9613-f664ac12efec.png">
        </a></div></div><div class="slick-slide slick-cloned" data-slick-index="18" aria-hidden="true" tabindex="-1" style="width: 1200px;"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/vYioFfKUFcxIFKpAn8CrMQ==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1221" alt="재취항 기념 할인 이벤트, 다시 돌아온 구마모토" src="https://contents-image.twayair.com/contents/2022/1128/4a8756bf-f509-4579-84c1-aa1d9f35e1ac.png">
        </a></div></div><div class="slick-slide slick-cloned" data-slick-index="19" aria-hidden="true" tabindex="-1" style="width: 1200px;"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/cGASPol6wV8nr9G56xxPng==/being/n?" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1206" alt="2023년 수능 수험생 최대 25% 할인 국내선, 국제선 원하는 곳 어디든!" src="https://contents-image.twayair.com/contents/2022/1121/f605b4ab-c9a1-455a-9721-f1abebf45960.png">
        </a></div></div><div class="slick-slide slick-cloned" data-slick-index="20" aria-hidden="true" tabindex="-1" style="width: 1200px;"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/P6M1HX8cyhzkCjzFlosIew==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1227" alt="12월 이달의 할인 혜택" src="https://contents-image.twayair.com/contents/2022/1130/55fd3ee8-6423-4fca-8f93-8f2815e63acf.png">
        </a></div></div><div class="slick-slide slick-cloned" data-slick-index="21" aria-hidden="true" tabindex="-1" style="width: 1200px;"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/m0zBzXCDf0GydrvipNIwQQ==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1139" alt="호주 시드니 신규 취항! 유류세 반값, 기내식/수하물 무료" src="https://contents-image.twayair.com/contents/2022/1103/766abd33-3cd6-4e3e-aa07-f11c0efaf4c1.png">
        </a></div></div><div class="slick-slide slick-cloned" data-slick-index="22" aria-hidden="true" tabindex="-1" style="width: 1200px;"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="http://www.twayair.com/app/promotion/event/retrieve/XwcvQeiB4dGI7VyhXKRxkg==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1236" alt="케이빌리지 1만원 마일리지 증정" src="https://contents-image.twayair.com/contents/2022/1207/f7aeb2c4-8898-4f4b-a03f-148d1199d2ea.png">
        </a></div></div><div class="slick-slide slick-cloned" data-slick-index="23" aria-hidden="true" tabindex="-1" style="width: 1200px;"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/2pjmiKvbtZB6V-uk41h4vw==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1166" alt="싱가포르/호찌민 탑승객 한정 수하물 최대 30kg 무료 +항공권 3만원 추가 할인까지!" src="https://contents-image.twayair.com/contents/2022/1209/ef6b4128-e0dd-40f3-ac8b-ceaef2305223.png">
        </a></div></div><div class="slick-slide slick-cloned" data-slick-index="24" aria-hidden="true" tabindex="-1" style="width: 1200px;"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/J9YxFgGS7KoRSf7V5hmp1A==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="971" alt="매일 선착순 혜택 카카오페이 3만원 추가 할인" src="https://contents-image.twayair.com/contents/2022/1021/8888d0e2-6f09-4466-9b89-3aec911d0804.png">
        </a></div></div><div class="slick-slide slick-cloned" data-slick-index="25" aria-hidden="true" tabindex="-1" style="width: 1200px;"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/booking/searchItinerary?tripType=RT&amp;depAirportCode=CJU&amp;arrAirportCode=NRT" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1131" alt="제주/도쿄(나리타) 직항 1회 한정 운항" src="https://contents-image.twayair.com/contents/2022/1123/197e33f3-e293-4c96-909e-e1275ef9d1b7.png">
        </a></div></div><div class="slick-slide slick-cloned" data-slick-index="26" aria-hidden="true" tabindex="-1" style="width: 1200px;"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/jaa5hBNVpvnc-KYIxmgcoA==/being/n" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="989" alt="티웨이 X 왓챠 티웨이 타면 왓챠 이용권 증정! 왓챠 프리미엄 10일 이용권 받자!" src="https://contents-image.twayair.com/contents/2022/1025/3cdcd55d-2888-4141-96cb-4aaff31d568c.png">
        </a></div></div><div class="slick-slide slick-cloned" data-slick-index="27" aria-hidden="true" tabindex="-1" style="width: 1200px;"><div><a class="main_slogan_txt" href="#none" onmouseover="style='cursor:pointer'" data-newwindispyn="N" data-linkurl="https://www.twayair.com/app/promotion/event/retrieve/vRXNw_gFXTDNjWh1d8uKCA==/being/n?" style="width: 100%; display: inline-block;" tabindex="0">
            
            <img gtm-promoid="1019" alt="티웨이항공 전 노선 농협카드 결제 1만원 즉시 할인 " src="https://contents-image.twayair.com/contents/2022/1130/fb45c14c-c9f0-4f63-a20c-00c9862b8b55.png">
        </a></div></div></div></div></div>
    <div class="main_slogan_control_wrapper">
        <div class="main_slogan_control">
            <button class="main_slogan_control_item -prev slick-arrow" style="display: inline-block;">이전</button>
            <button class="main_slogan_control_item -pause">정지</button>
            <button class="main_slogan_control_item -next slick-arrow" style="display: inline-block;">다음</button>
        </div>
        <a class="main_slogan_control" date-id="all_main_slogans" date-type="layer" href="#" onclick="javascript:mainCopyInfoLayer();">
            <span class="main_slogan_control_item -slide_number" id="slideNum">8</span>
            <span class="main_slogan_control_item -slide_number" style="width:2px;">/</span>
            <span class="main_slogan_control_item -slide_number">14</span>
            <span class="main_slogan_control_item -more">전체보기</span>
        </a>
    </div>
    <!--// Main Text Slide -->

    <!-- Main side banner 이벤트-->
    <script type="text/javascript">
        $(document).ready(function() {
            // 티웨이플러스 배너 클릭 이벤트, 2022-10-27, dhkim
            $("#linkTwayplus").on("click", function(){
                var plusUrl = 'https://plus.twayair.com';
                var pathRegion = 'main';
                var pathLang = 'ko';
                var sessionId = 'f8c57514-6c41-4a3f-af5a-eb01ed1c1358'
                window.open(plusUrl + "/app/"+pathRegion+"/"+pathLang+"/gate?webSessionId="+sessionId);
            });
        });
    </script>
    <!-- // Main side banner 이벤트 -->
    
    <!-- /* Main side banner - 191106 PJH */ -->
    <div class="nav_main">
    <ul class="lst_nav">
        <li>
            <a href="https://crewclass.twayair.com/" target="_blank">
                <span class="ci_img"><img src="https://contents-image.twayair.com/homepage/images/main/ico_crew.png" alt=""></span>
                <p class="desc">항공훈련센터</p>
            </a>
        </li>
        <li>
            <a href="/app/serviceInfo/contents/1070">
                  <span class="ci_img"><img src="https://contents-image.twayair.com/homepage/images/main/ico_main_pet.png" alt=""></span>
                  <p class="desc">반려동물 동반 여행</p>
            </a>
        </li>
        <li>
            <a href="/app/promotion/coupon">
                <span class="ci_img"><img src="https://contents-image.twayair.com/homepage/images/main/ico_main_cpn.png" alt=""></span>
                  <p class="desc">쿠폰 다운로드</p>
            </a>
        </li>
<li class="more"><a href="javascript:window.scrollTo( 0, 675 );">제휴 더보기 &gt;</a></li>
    </ul>
</div>



    <!-- /* Main side banner - 191101 PJH */ -->

    
    

<script type="text/javascript">
// tripType 선택 처리
$(document).ready(function(){
    $('a.setTripType').bind('click', function(e){
        var tripType = $(this).data('t');

        $('#display_tripType_'+tripType).prop('checked',true);
        $('#tripType_'+tripType).prop('checked',true);

        // 노선선택 등 레이어 강제 제거
        $('.commonComponentLayer').remove();

        checkTripType();
    });
});

var closeBookingLayer = function(){
    if($('#airAvailabilityRQ input[name="tripType"]:checked').val()=='MC'){
        $('#display_tripType_RT').prop('checked',true);
        $('.setTripType').eq(0).click();
    }
    if($('#top_passenger_type').css("display") != 'none') {
        $('#top_passenger_type').hide();
    }
}

//브라우저 IE 구분
var agent = navigator.userAgent.toLowerCase();
if((navigator.appName == 'Netscape' && navigator.userAgent.search('Trident') != -1) || (agent.indexOf("msie") != -1)){
    $('input.date').removeAttr('onfocus');
}
</script>

<!-- Main Booking -->
<div class="main_booking">
<!-- 박스 추가 main_booking_inside -->
<div class="main_booking_inside">
    
    <div class="tab_booking_cont">
        <!-- 왕복 편도 -->
        <div class="sel_booking">
            <span class="hidden">change begins with Tway</span>
            <div class="sel_opt">
                <div class="service_section">

                    <div class="sel_section">
                        <ul class="btn_tab">
                            <li class="on">
                                <a class="setTripType" data-t="RT" href="#main_reser01">
                                    <input aria-hidden="true" id="display_tripType_RT" name="tripTypeButton" tabindex="-1" type="radio" value="RT">
                                    <label for="display_tripType_RT">왕복</label>
                                </a>
                            </li>
                            <li>
                                <a class="setTripType" data-t="OW" href="#main_reser02">
                                    <input aria-hidden="true" id="display_tripType_OW" name="tripTypeButton" tabindex="-1" type="radio" value="OW">
                                    <label for="display_tripType_OW">편도</label>
                                </a>
                            </li>
                            <li>
                                <a href="#" onclick="beginLoadingAnimation(); location.href='/app/booking/searchItinerary?tripType=MC';">
                                    <input aria-hidden="true" id="display_tripType_MC" name="tripTypeButton" tabindex="-1" type="radio" value="MC">
                                    <label for="display_tripType_MC">다구간</label>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <div class="sel_group">
                        <input class="bookingTypeGroup" id="group" name="bookingTypeGroup" type="checkbox" value="">
                        <label for="group"><span class="icon">단체 항공권 선택 체크박스</span>단체(10명 이상)</label>
                    </div>
                    <div class="sale_code_wrap code">
                        <!-- <label for="sale_code">
                            <th:block th:utext="${@frontContents.id('hp.booking.itinerary.search-label.promoCode')}">할인코드</th:block>
                        </label> -->
                        <span class="sale_code">
                            <input class="input_sale_code" id="sale_code" maxlength="20" name="promoCode" onkeyup="onlyEngNumToUpper(this);" type="text" placeholder="할인코드 입력" title="할인코드 입력" value="">
                        </span>
                        <a class="btn_tooltip gray" href="#none">
                            <span class="blind">툴팁</span>
                                <div class="tooltip_layer" style="display:none;">
                                    <div class="tooltip_tit no_bd">
                                        <h5>할인코드란?</h5>
                                    </div>
                                    <div class="tooltip_cont">티웨이항공 탑승 고객을 대상으로 특정 기간 동안<br>추가 할인을 제공해 드리는 제도입니다.<br>예약 시 사전에 안내된 코드를 입력하시면,<br>할인 가격이 적용된 항공편을 선택하실 수 있습니다.</div>
                                </div>
                        </a>
                    </div>

                </div>
            </div>
            <h3 class="blind">왕복</h3>
            <section class="booking_wrap" id="main_reser01">

                
                <div class="input_wrap start">
                    <input class="booking start focus_start1" onblur="checkAirportPinStatus(this, 0);" onclick="gnbSelectAirport(this, 0,'search','main');" onkeypress="gnbSelectAirport(this, 0,'search','main');" readonly="" title="출발지 입력" type="text" value="" placeholder="출발지">
                    <a class="btn_pin start focus_start2" href="#none" onclick="gnbSelectAirport($(this).parent().find('input'), 0, 'region','main');" title="출발지 선택 레이어 열림">출발지 선택</a>

                    <!-- 선택지 레이어 -->
                    <div class="selected_area start">
                        <a href="#" onclick="gnbSelectAirport($(this).parent().parent().find('input'), 0,'search','main');">
                            <span class="eng">ICN</span>
                            <span class="area">서울/인천</span>
                        </a>
                    </div>
                    <!--// 선택지 레이어 -->
                </div>

                
                <div class="input_wrap end">
                    <input class="booking end focus_end1" onblur="checkAirportPinStatus(this, 0);" onclick="gnbSelectAirport(this, 0,'search','main');" onkeypress="gnbSelectAirport(this, 0,'search','main');" readonly="" title="도착지 입력" type="text" value="" placeholder="도착지">
                    <a class="btn_pin end focus_end2" href="#none" onclick="gnbSelectAirport($(this).parent().find('input'), 0, 'region','main');" title="도착지 선택 레이어 열림">도착지 선택</a>

                    <!-- 선택 레이어 -->
                    <div class="selected_area end">
                        <a href="#" onclick="gnbSelectAirport($(this).parent().parent().find('input'), 0,'search','main');">
                            <span class="eng">ICN</span>
                            <span class="area">서울/인천</span>
                        </a>
                    </div>
                    <!--// 선택 레이어 -->
                </div>

                
                <div class="input_wrap days">
                    <input class="booking date focus_date1" id="lostFlightDate1_1" placeholder="YYYY-MM-DD" readonly="readonly" title="출발일 입력" type="text" value="" onclick="gnbCallBackArrivalAirportConfirm(null, 'main', 'KRW', 'N');" onkeypress="gnbCallBackArrivalAirportConfirm(null, 'main', 'KRW', 'N');">
                    <span class="tilde">~</span>
                    <input class="booking date focus_date2" id="lostFlightDate1_2" placeholder="YYYY-MM-DD" readonly="readonly" title="도착일 입력" type="text" value="" onclick="gnbCallBackArrivalAirportConfirm(null, 'main', 'KRW', 'N');" onkeypress="gnbCallBackArrivalAirportConfirm(null, 'main', 'KRW', 'N');">
                    <a class="btn_date focus_date3" href="#none" title="출/도착 날짜 선택 레이어 선택" onclick="gnbCallBackArrivalAirportConfirm(null, 'main', 'KRW', 'N');">출/도착 날짜 선택</a>
                </div>

                <div class="input_wrap passengers">
                    <input class="passenger" placeholder="탑승객" readonly="readonly" tabindex="-1" title="탑승객" type="text" value="">

                    <!-- 탑승객 레이어 -->
                    <a class="selected_passenger on passengerCountStatus" href="#none" onclick="selectPassengerCount();" onkeypress="selectPassengerCount();" style="cursor:pointer;" title="탑승객 선택"><span>성인 1</span><span>소아 0</span><span>유아 0</span></a>
                    <!--// 탑승객 레이어 -->

                </div>

                <button class="btn_large gray2 ml20" id="btn_search_rt" onclick="chooseItinerary();">조회</button>

            </section>

            
            <h3 class="blind">편도</h3>
            <section class="booking_wrap" id="main_reser02" style="display: none;">

                
                <div class="input_wrap start">
                    <input class="booking start focus_start1" onblur="checkAirportPinStatus(this, 0);" onclick="gnbSelectAirport(this, 0,'search','main');" onkeypress="gnbSelectAirport(this, 0,'search','main');" readonly="" title="출발지 입력" type="text" value="" placeholder="출발지">
                    <a class="btn_pin start focus_start2" href="#none" onclick="gnbSelectAirport($(this).parent().find('input'), 0, 'region','main');" title="출발지 선택 레이어 열림">출발지선택</a>
                    <!-- 선택지 레이어 -->
                    <div class="selected_area start">
                        <a href="#" onclick="gnbSelectAirport($(this).parent().parent().find('input'), 0,'search','main');">
                            <span class="eng">ICN</span>
                            <span class="area">서울/인천</span>
                        </a>
                    </div>
                    <!--// 선택지 레이어 -->
                </div>

                
                <div class="input_wrap end">
                    <input class="booking end focus_end1" onblur="checkAirportPinStatus(this, 0);" onclick="gnbSelectAirport(this, 0,'search','main');" onkeypress="gnbSelectAirport(this, 0,'search','main');" readonly="" title="도착지 입력" type="text" value="" placeholder="도착지">
                    <a class="btn_pin end focus_end1" href="#none" onclick="gnbSelectAirport($(this).parent().find('input'), 0, 'region','main');" onkeypress="gnbSelectAirport($(this).parent().find('input'), 0, 'region','main');" title="도착지 선택 레이어 열림">도착지선택</a>

                    <!-- 선택 레이어 -->
                    <div class="selected_area end">
                        <a href="#" onclick="gnbSelectAirport($(this).parent().parent().find('input'), 0,'search','main');">
                            <span class="eng">ICN</span>
                            <span class="area">서울/인천</span>
                        </a>
                    </div>
                    <!--// 선택 레이어 -->
                </div>

                
                <div class="input_wrap days">
                    <input class="booking date focus_date1" id="lostFlightDate2_1" placeholder="YYYY-MM-DD" readonly="readonly" title="출발일 입력" type="text" value="" onclick="gnbCallBackArrivalAirportConfirm(null, 'main', 'KRW', 'N');" onkeypress="gnbCallBackArrivalAirportConfirm(null, 'main', 'KRW', 'N');">
                    <a class="btn_date focus_date3" href="#none" title="출/도착 날짜 선택 레이어 열림" onclick="gnbCallBackArrivalAirportConfirm(null, 'main', 'KRW', 'N');">출/도착 날짜 선택</a>
                </div>

                <div class="input_wrap passengers">
                    <input class="passenger" placeholder="탑승객" readonly="readonly" tabindex="-1" title="탑승객" type="text" value="">

                    <!-- 탑승객 레이어 -->
                    <a class="selected_passenger on passengerCountStatus" href="#none" onclick="selectPassengerCount();" onkeypress="selectPassengerCount();" style="cursor:pointer;" title="탑승객 선택"><span>성인 1</span><span>소아 0</span><span>유아 0</span></a>
                    <!--// 탑승객 레이어 -->

                </div>

                <button class="btn_large gray2 ml20" id="btn_search_ow" onclick="chooseItinerary();">조회</button>
            </section>

            <!-- 탑승객선택레이어 -->
            <article class="layer_start1 type" id="top_passenger_type" style="display:none;" tabindex="0">
                <div class="layer_cont">
                    <div class="input_booking_wrap type">
                        <!-- 인원수 입력 -->
                        <div class="booking_input">
                            <div class="dl_type_list pax">
                                <!-- 성인 -->
                                <dl>
                                    <dt>
                                        <label>성인</label>
                                    </dt>
                                    <dd class="sel_passenger">
                                        <a class="btn_minus" href="#none" onclick="changePaxCount('ADULT', -1);">빼기</a>
                                        <input class="booking passenger ADULT" data-div="ADULT" onkeyup="onlyNumReplace(this, 1);" title="인원수" type="text" value="1">
                                        <a class="btn_plus" href="#none" onclick="changePaxCount('ADULT', 1);">더하기</a>
                                    </dd>
                                </dl>
                                <!--// 성인 -->
                                <!-- 소아 -->
                                <dl>
                                    <dt>
                                        <label>
                                            소아
                                            <a class="btn_tooltip gray" href="#none">
                                                <span class="blind">툴팁</span>
                                                <div class="tooltip_layer" style="display: none;">
                                                    <div class="tooltip_tit">
                                                        <img alt="" src="https://contents-image.twayair.com/homepage/images/ico/ico_kid.png">
                                                        <h5>소아기준</h5>
                                                    </div>
                                                    <div class="tooltip_cont">
                                                        <dl>
                                                            <dt>국내선</dt>
                                                            <dd>만 2세~<span class="red">13세</span> 미만</dd>
                                                        </dl>
                                                        <dl>
                                                            <dt>국제선</dt>
                                                            <dd>만 2세~<span class="red">12세</span> 미만</dd>
                                                        </dl>
                                                        <ul class="info"><li>※ 소아/유아 기준</li>
<li>&nbsp; &nbsp; - 국내선 : 각 항공편의 탑승일 기준</li>
<li>&nbsp; &nbsp; - 국제선 : 최초 출발일 기준</li>
<li>※ 탑승 수속 시 생년월일 확인 가능한 서류 지참 필수</li></ul>
                                                    </div>
                                                </div>
                                            </a>
                                        </label>
                                    </dt>
                                    <dd class="sel_passenger">
                                        <a class="btn_minus" href="#none" onclick="changePaxCount('CHILD', -1);">빼기</a>
                                        <input class="booking passenger CHILD" data-div="CHILD" id="kid" onkeyup="onlyNumReplace(this, 0);" title="인원수" type="text" value="0">
                                        <a class="btn_plus" href="#none" onclick="changePaxCount('CHILD', 1);">더하기</a>
                                    </dd>
                                </dl>
                                <!--// 소아 -->
                                <!-- 유아 -->
                                <dl>
                                    <dt>
                                        <label>
                                            유아
                                            <a class="btn_tooltip gray" href="#none">
                                                <span class="blind">툴팁</span>
                                                <div class="tooltip_layer" style="display: none;">
                                                    <div class="tooltip_tit">
                                                        <img alt="" src="https://contents-image.twayair.com/homepage/images/ico/ico_baby.png">
                                                            <h5>유아기준</h5>
                                                    </div>
                                                    <div class="tooltip_cont">
                                                        <dl>
                                                            <dt>국내선</dt>
                                                            <dd>생후 <span class="red">7일</span>~ 만 2세 미만</dd>
                                                        </dl>
                                                        <dl>
                                                            <dt>국제선</dt>
                                                            <dd>생후 <span class="red">14일</span>~ 만 2세 미만</dd>
                                                        </dl>
                                                        <ul class="info"><li>※ 소아/유아 기준</li>
<li>&nbsp; &nbsp; - 국내선 : 각 항공편의 탑승일 기준</li>
<li>&nbsp; &nbsp; - 국제선 : 최초 출발일 기준</li>
<li>※ 탑승 수속 시 생년월일 확인 가능한 서류 지참 필수</li></ul>
                                                    </div>
                                                </div>
                                            </a>
                                        </label>
                                    </dt>
                                    <dd class="sel_passenger">
                                        <a class="btn_minus" href="#none" onclick="changePaxCount('INFANT', -1);">빼기</a>
                                        <input class="booking passenger INFANT" data-div="INFANT" id="baby" onkeyup="onlyNumReplace(this, 0);" title="인원수" type="text" value="0">
                                        <a class="btn_plus" href="#none" onclick="changePaxCount('INFANT', 1);">더하기</a>
                                    </dd>
                                </dl>
                                <!--// 유아 -->
                            </div>

                            <button class="sbtn_cont age_cal" date-id="age_calculater_layer" date-type="layer" onclick="howOldAreYou();" title="레이어 팝업 열림" type="button">나이 계산기</button>
                        </div>
                        <!--// 인원수 입력 -->

                        <!-- 20190318 : 닫기 추가 -->
                        <a class="btn_passenger_close" href="#none" onclick="selectPassengerCountClose();">닫기</a>
                        <!--// 20190318 : 닫기 추가 -->
                    </div>
                </div>
            </article>
        </div>
        <!--// 왕복 편도 -->
    </div>
    <a class="btn_layer_close" href="#none" onclick="closeBookingLayer()">닫기</a>

</div>

</div>
<!--// Main Booking -->









<script type="text/javascript">

/**
 * bookingTicket 초기화
 */
$(document).ready(function(){
    var _t = 'afb018bd-48fc-4032-9c27-e6a098211531';
    $('input.bookingTicket').val(_t);
});

/**
 * 인원수 증감 기호 cursor:pointer 적용
 */
$(document).ready(function(){
    $('span.btn_minus,span.btn_plus').css('cursor','pointer');
});

//입력값이 있을때 표시
$('.input_wrap input.booking').on('keydown keyup change', function(){
    var Length = $(this).val().length;
    if(Length > 0){
        $(this).parents('.input_wrap').addClass('on');
    }else{
        $(this).parents('.input_wrap').removeClass('on');
    }
});

//포커스 추가
//$(".input_wrap .btn_minus, .input_wrap .btn_plus").attr("tabindex", 0);

/**
 * 공항 검색 input box focus out 된 경우 아이콘 처리
 */
var checkAirportPinStatus = function(inputObj, routeIndex){

    var tripType = $('input[name="tripType"]:checked').val();

    if($(inputObj).hasClass('start') && $('input[name="availabilitySearches['+routeIndex+'].depAirport"]').val()!=''){
        $(inputObj).parents('div.input_wrap').find('div.selected_area').addClass('on');
        $(inputObj).parents('div.input_wrap').addClass('focus');
    }
    else if($(inputObj).hasClass('end') && $('input[name="availabilitySearches['+routeIndex+'].arrAirport"]').val()!=''){
        $(inputObj).parents('div.input_wrap').find('div.selected_area').addClass('on');
        $(inputObj).parents('div.input_wrap').addClass('focus');
    }
    else{
        $(inputObj).parents('div.input_wrap').find('div.selected_area').removeClass('on');
        $(inputObj).parents('div.input_wrap').removeClass('focus');
    }

};

/**
 * 레이어 바깥부분 클릭한 경우 모든 레이어 숨김
 */
$(document).ready(function(){
    $.fn.bookingCommonLayerClick();
});

/**
 * 한국지역 선택시에만 단체 선택 노출
 */
$(document).ready(function(){
    /*
    // 한국지역이 아닌경우 단체 미노출, if('KR' != 'KR'){
    if('KR' != 'KR'){
        $('div.res_grouping').hide();
    }
    */

    $('.setTripType').on('click', function() {
        $('.btn_tab li').removeClass('on');

        $('.dim02').fadeIn(200);
        $('.btn_layer_close').fadeIn(200);
        //$('body, html').css({'overflow-y':'hidden'});
        $( 'html, body' ).animate({scrollTop:0}, 400 );
        //$('.main_booking').css({'position':'fixed','z-index': '150'});
        //$('.main_booking').css({'z-index': '150'});
        //$('.main_booking').animate({'top': '140'});
        //$('.main_booking').animate({'top': '0','margin-top': '90px'});
        $('.main_booking').attr('tabindex','0');
        $(this).parents('.main_booking').addClass('focus');

        $(this).parent('li').addClass('on');
        checkTripType();
    });

    $('.input_wrap.start, .input_wrap.end').on('click focus', function() {
        $('.dim02').fadeIn(200);
        $('.btn_layer_close').fadeIn(200);
        //$('body, html').css({'overflow-y':'hidden'});
        $( 'html, body' ).animate({scrollTop:0}, 400 );
        //$('.main_booking').css({'position':'fixed','z-index': '150'});
        //$('.main_booking').css({'z-index': '150'});
        //$('.main_booking').animate({'top': '140'});
        //$('.main_booking').animate({'top': '0','margin-top': '90px'});
        $('.main_booking').attr('tabindex','0');
        $(this).parents('.main_booking').addClass('focus');

        var tripType = $('input[name="tripType"]:checked').val();
        if(tripType != 'MC') {
            gnbSelectAirport($(this).find('input'), 0, 'search', 'main');
        } else {
            gnbSelectAirport($(this).find('input'), currentItineraryNumber, 'search', 'main');
        }
    });

    $('.input_wrap.days, .input_wrap.passengers').on('click', function() {
        $('.dim02').fadeIn(200);
        $('.btn_layer_close').fadeIn(200);
        //$('body, html').css({'overflow-y':'hidden'});
        $( 'html, body' ).animate({scrollTop:0}, 400 );
        //$('.main_booking').css({'position':'fixed','z-index': '150'});
        //$('.main_booking').css({'z-index': '150'});
        //$('.main_booking').animate({'top': '140'});
        //$('.main_booking').animate({'top': '0','margin-top': '90px'});
        $('.main_booking').attr('tabindex','0');
        $(this).parents('.main_booking').addClass('focus');
    });



    $('.btn_layer_close').on('click', function() {
        //$('body, html').css({'overflow-y':'auto'});
        //$('.btn_tab li:first').addClass('on');
        //$('.btn_tab li:last').removeClass('on');
        /*
        $('#main_reser01').show();
        $('#main_reser02,#main_reser03').hide();
        */
        $('.dim02').fadeOut(200);
        $('.btn_layer_close').fadeOut(200);
        //$('.main_booking').css({'position':'absolute','z-index': '50'});
        //$('.main_booking').css({'z-index': '19'});
        //$('.main_booking').animate({'top':'560'});
        $('.main_booking').removeAttr('tabindex');
        $(this).parents('.main_booking').removeClass('focus');
        //$('.section.lowest_price .goods_tab .sort.list').focus();
        $('.srv_list_wrap .slick-slide:first-child a').focus();
    });
});

/**
 * trip type 선택 event handling
 */
$(document).ready(function(){

    var frm = $('#airAvailabilityRQ');

    // $('div.sel_section.booking_option input[name="tripTypeButton"]').on('change', function(){
    //     var tripType = $('div.sel_section.booking_option input[name="tripTypeButton"]:checked').val();
    //
    //     alert(tripType);
    //
    //     $.each(frm.find('input[name="tripType"]'),function(index,el){
    //         if($(el).val()==tripType){
    //             $(el).prop('checked',true);
    //             checkTripType();
    //         }
    //     });
    //
    // });

    // 다구간 검색 진입 처리
    var paramTripType = '';
    $.each(frm.find('input[name="tripType"]'),function(index,el){
        if($(el).val()==paramTripType){
            $(el).prop('checked',true);
            checkTripType();
            return false;
        }
    });

});


/**
 * 출발노선선택 레이어 준비
 */
$(document).ready(function(){
    // gnbRouteDeparture($('input[name="tripType"]:checked').val());
});

/**
 * TripType 선택시 출발노선 레이어 준비
 */
// $('input[name="tripType"]').change(function(){
//     removeLayer('route_departure');
//     gnbRouteDeparture($(this).val());
// });

/**
 * 탑승객 수 선택 event handling
 */
$(document).ready(function(){

    // RQ
    var pax_count = {};
    pax_count = {'ADULT' : 0, 'CHILD' : 0, 'INFANT' : 0 };

    var _pax_list = [{'paxCount':1,'paxType':'ADULT'},{'paxCount':0,'paxType':'CHILD'},{'paxCount':0,'paxType':'INFANT'}];

    $.each(_pax_list, function(pi,pp){
        if($.trim(pp.paxType)!=''){
            pax_count[pp.paxType] = pp.paxCount;
        }
    });

    $.each($('.pax input'), function(){
        if(parseInt(pax_count[$(this).data('div')],10) > 0){
            $(this).val(pax_count[$(this).data('div')]);
        }
    });

    // 성인 탑승자수 변경 이벤트 처리
    $('.pax input').change(function(){
        choosePaxCount($(this));
    });

});

var changePaxCount = function(div, count){

    // console.log('#### changePaxCount : ' + div +'/'+count);
    var paxCount = parseInt($('.pax input.'+div).val(),10);


    if(count>0){
        $('.pax input.'+div).val(paxCount+1);
    }
    else if(div =='ADULT' && count<0 && paxCount>1){
        $('.pax input.'+div).val(paxCount-1);
    }
    else if(div !='ADULT' && count<0 && paxCount>0){
        $('.pax input.'+div).val(paxCount-1);
    }

    choosePaxCount($('.pax input.'+div));

};


/**
 * 상단 단체 체크박스 이벤트 처리
 */
$(document).ready(function(){
    $('input.bookingTypeGroup').change(function(){

        /**
         * 개인 -> 단체 예약 전환
         * 성인 소아 유아 : 10 0 0 으로 설정 및 form 초기화
         */
        if($(this).prop('checked')){

            var deepLinkInfo = null;
            var alert_msg_group_corporate = '\uB2E8\uCCB4\uD56D\uACF5\uAD8C\uC740 \uAE30\uC5C5 \uC6B0\uB300 \uD560\uC778\uC774 \uC801\uC6A9\uB418\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.';	//단체항공권은 기업 우대 할인이 적용되지 않습니다.

            if(deepLinkInfo != null && deepLinkInfo.deepLinkDiv == 'C'){
                alert(alert_msg_group_corporate);
            }

            $('.pax input.ADULT').val(10);
            $('.pax input.CHILD').val(0);
            $('.pax input.INFANT').val(0);

            initSearchForm();
        }
        /**
         * 단체 -> 개인 예약 전환
         * 성인 소아 유아 : 1 0 0 으로 설정, 구간, 일정 form은 초기화 하지 않습니다.
         */
        else{
            $('.pax input.ADULT').val(1);
            $('.pax input.CHILD').val(0);
            $('.pax input.INFANT').val(0);

            setBookingType();
        }
    });
});

/**
 * 인원선택 변경에 따른 bookingType 전환
 */
var setBookingType = function(){

    var paxCount = parseInt($('.pax input.ADULT').val(),10) + parseInt($('.pax input.CHILD').val(),10);

    // console.log('setBookingType : ' + paxCount);

    $.each($('input[name="bookingType"]'), function(index,el){

        // 개인
        if($(el).val()=='HI' && paxCount<10){

            $('input.bookingTypeGroup').prop('checked', false);

            $(el).prop('checked', true);
            // $('.controlRouteCountButtonSection').show(); // 다구간 구간 증/감 버튼 영역 노출

            $('input[name="paxCountDetails[0].paxCount"]').val($('.pax input.ADULT').val());
            $('input[name="paxCountDetails[1].paxCount"]').val($('.pax input.CHILD').val());
            $('input[name="paxCountDetails[2].paxCount"]').val($('.pax input.INFANT').val());
        }
        // 단체
        else if($(el).val()=='HG' && paxCount>=10){
            $(el).prop('checked', true);
            // $('.controlRouteCountButtonSection').hide(); // 다구간 구간 증/감 버튼 영역 비노출
        }
    });

    pax_count_before_change[0] = parseInt($('input[name="paxCountDetails[0].paxCount"]').val(),10);
    pax_count_before_change[1] = parseInt($('input[name="paxCountDetails[1].paxCount"]').val(),10);
    pax_count_before_change[2] = parseInt($('input[name="paxCountDetails[2].paxCount"]').val(),10);

    choosePaxCount();
};

var pax_count_individual = 9; // 개인 최대 인원 수
var pax_count_group = 30; // 단체 최대 인원 수
var pax_count_before_change = [1,0,0]; // 인원수 변경 이전 최종 여행객 수
var alert_msg_max_pax = '\uC131\uC778\uACFC \uC18C\uC544 \uC778\uC6D0\uC744 \uD569\uD574 30\uBA85\uAE4C\uC9C0 \uC120\uD0DD \uAC00\uB2A5\uD569\uB2C8\uB2E4.';//'성인과 소아 인원을 합해 30명까지 선택 가능합니다.';
var alert_msg_max_infant_pax = '\uC720\uC544 1\uBA85\uB2F9 \uC131\uC778 1\uBA85\uC774 \uBC18\uB4DC\uC2DC \uB3D9\uBC18\uB418\uC5B4\uC57C \uD569\uB2C8\uB2E4.';//'유아 1명당 성인 1명이 반드시 동반되어야 합니다.';
var alert_msg_chage_group_booking = '\uB2E8\uCCB4 \uD56D\uACF5\uAD8C \uAC80\uC0C9\uC744 \uC704\uD574 \uC120\uD0DD\uD55C \uC815\uBCF4\uB97C \uCD08\uAE30\uD654 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?';//'단체 항공권 검색을 위해 선택한 정보를 초기화 하시겠습니까?';
var alert_msg_chage_individual_booking = '\uD56D\uACF5\uAD8C \uC7AC \uAC80\uC0C9\uC744 \uC704\uD574 \uC120\uD0DD\uD55C \uC815\uBCF4\uB97C \uCD08\uAE30\uD654 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?';// '항공권 재 검색을 위해 선택한 정보를 초기화 하시겠습니까?';

$(document).ready(function(){
    pax_count_before_change[0] = parseInt($('input[name="paxCountDetails[0].paxCount"]').val(),10);
    pax_count_before_change[1] = parseInt($('input[name="paxCountDetails[1].paxCount"]').val(),10);
    pax_count_before_change[2] = parseInt($('input[name="paxCountDetails[2].paxCount"]').val(),10);
});

var choosePaxCount = function(el){


    // 구분별 탑승자수
    var pax_count = [];
    pax_count.push(parseInt($('.pax input.ADULT').val(),10)); // 성인
    pax_count.push(parseInt($('.pax input.CHILD').val(),10)); // 소아
    pax_count.push(parseInt($('.pax input.INFANT').val(),10)); // 유아

    // console.log('여행객 수 변경 '+(pax_count_before_change[0]+pax_count_before_change[1])+'->'+(pax_count[0]+pax_count[1]))

    // console.log(pax_count[0]+'/'+pax_count[1]+'/'+pax_count[2]);

    // 개인 -> 단체 전환
    if((pax_count_before_change[0]+pax_count_before_change[1])<=pax_count_individual && pax_count[0] + pax_count[1] > pax_count_individual){
        // console.log('개인 -> 단체 전환');

        // 개인 -> 단체 전환
        if(confirm(alert_msg_chage_group_booking)){

            // 단체 checkbox check !!
            $('input[name="bookingTypeGroup"]').prop('checked', true);

            // 최종 변경된 여행객 수 저장
            pax_count_before_change[0] = pax_count[0];
            pax_count_before_change[1] = pax_count[1];
            pax_count_before_change[2] = pax_count[2];

            initSearchForm();

        }
        else{

            // 단체 checkbox check 해제 !!
            $('input[name="bookingTypeGroup"]').prop('checked', false);

            // 이전 선택 여행객수로 되돌려줍니다.
            $('.pax input.ADULT').val(pax_count_before_change[0]);
            $('.pax input.CHILD').val(pax_count_before_change[1]);
            $('.pax input.INFANT').val(pax_count_before_change[2]);

            $('input[name="paxCountDetails[0].paxCount"]').val(pax_count_before_change[0]);
            $('input[name="paxCountDetails[1].paxCount"]').val(pax_count_before_change[1]);
            $('input[name="paxCountDetails[2].paxCount"]').val(pax_count_before_change[2]);

            return false;
        }


    }
    // 단체 -> 개인 전환
    else if((pax_count_before_change[0]+pax_count_before_change[1])>pax_count_individual && pax_count[0] + pax_count[1] <= pax_count_individual){
        // console.log('단체 -> 개인 전환');


        /**
         * 단체 -> 개인 전환시 form 초기화 하지 않기로 정책 변경. 2019-01-11
         */

        /*

        // 단체 -> 개인 전환
        if(confirm(alert_msg_chage_individual_booking)){

            // 단체 checkbox check !!
            $('input[name="bookingType"]').prop('checked', false);

            // 최종 변경된 여행객 수 저장
            pax_count_before_change[0] = pax_count[0];
            pax_count_before_change[1] = pax_count[1];
            pax_count_before_change[2] = pax_count[2];

            initSearchForm();

        }
        else{

            // 단체 checkbox check 해제 !!
            $('input[name="bookingType"]').prop('checked', true);

            // 이전 선택 여행객수로 되돌려줍니다.
            $('.pax select.ADULT').val(pax_count_before_change[0]);
            $('.pax select.CHILD').val(pax_count_before_change[1]);
            $('.pax select.INFANT').val(pax_count_before_change[2]);

            return false;
        }
        */
        setBookingType();

    }

    // 30인 이상 초과
    if(pax_count[0] + pax_count[1] > pax_count_group){

        alert(alert_msg_max_pax);

        // 이전 선택 여행객수로 되돌려줍니다.
        $('.pax input.ADULT').val(pax_count_before_change[0]);
        $('.pax input.CHILD').val(pax_count_before_change[1]);
        $('.pax input.INFANT').val(pax_count_before_change[2]);

        return false;
    }

    // 성인 탑승자수 변경 이벤트 처리
    if($(el).attr('class') == 'ADULT'){
    };

    // 소아 탑승자수 변경 이벤트 처리
    if($(el).attr('class') == 'CHILD'){

    };

    // 유아 탑승자수 변경 이벤트 처리
    // if($(el).hasClass('INFANT')){
        // 성인 숫자보다 많은 경우
        if(pax_count[0] < pax_count[2]){
            alert(alert_msg_max_infant_pax);
            pax_count[2] = pax_count[0];
            $('.pax input.INFANT').val(pax_count[2]);
            pax_count_before_change[2] = pax_count[2];
        }
    // };

    $('input[name="paxCountDetails[0].paxCount"]').val(pax_count[0]);
    $('input[name="paxCountDetails[1].paxCount"]').val(pax_count[1]);
    $('input[name="paxCountDetails[2].paxCount"]').val(pax_count[2]);

 // 선택한 탑승객 표출
    var label_adult = '\uC131\uC778';//'성인';
    var label_child = '\uC18C\uC544';//'소아';
    var label_infant = '\uC720\uC544';//'유아';


    var passenger_display_html = '<span>'+label_adult+' '+pax_count[0]+'</span>';
    passenger_display_html += '<span>'+label_child+' '+pax_count[1]+'</span>';
    passenger_display_html += '<span>'+label_infant+' '+pax_count[2]+'</span>';

    $('.passengerCountStatus').html(passenger_display_html);

};

$(document).ready(function(){
    choosePaxCount();
})
/**
 * 입력폼 초기화
 */
var initSearchForm = function(){

    /**
     * airAvailabilityRQ form reset
     */
    $('#airAvailabilityRQ input.reset_target').val('');

    /**
     * display 영역 초기화
     */
    // tripType = RT
    // $('div.tab_section ul.chk_rdo_list input[name="tripTypeButton"]').eq(0).prop('checked', true);
    // $('div.tab_section ul.chk_rdo_list input[name="tripTypeButton"]').trigger('change');
    checkTripType();

    // 왕복/편도 공항, 출도착일 정보
    var alert_msg_city_airport = '\uB3C4\uC2DC/\uACF5\uD56D';

    $('#main_reser01 div.start').removeClass('focus');
    $('#main_reser01 div.start div.selected_area').removeClass('on');

    $('#main_reser01 div.end').removeClass('focus');
    $('#main_reser01 div.end div.selected_area').removeClass('on');

    $('#main_reser01 div.date').removeClass('focus');
    $('#main_reser01 div.date input').val('');


    $('#main_reser02 div.start').removeClass('focus');
    $('#main_reser02 div.start div.selected_area').removeClass('on');

    $('#main_reser02 div.end').removeClass('focus');
    $('#main_reser02 div.end div.selected_area').removeClass('on');

    $('#main_reser02 div.date').removeClass('focus');
    $('#main_reser02 div.date input').val('');

    $('input[name="paxCountDetails[0].paxCount"]').val($('.pax input.ADULT').val());
    $('input[name="paxCountDetails[1].paxCount"]').val($('.pax input.CHILD').val());
    $('input[name="paxCountDetails[2].paxCount"]').val($('.pax input.INFANT').val());

    $("section.booking_wrap .input_wrap.days input").val('');

    setBookingType();

};

/**
 * tripType 선택에 따른 form control
 */
$(document).ready(function(){

    // set event handler
    $('input[name="tripType"]').change(function(){
        checkTripType();
    });

    checkTripType();
});

var checkTripType = function(){
    var tripType = $('input[name="tripType"]:checked').val();
    $('ul.sel_section li').removeClass('on');
    $('ul.sel_section li a').removeAttr('title');

    // 왕복
    if(tripType == 'RT'){
        $('#main_reser01').show();
        $('#main_reser02').hide();

        $('ul.sel_section li').eq(0).addClass('on');
        $('ul.sel_section li.on a').attr('title','선택됨');



        // 편도 출발정보가 있는 경우 돌아오는편 정보에 설정
        if($('input[name="availabilitySearches[0].depAirport"]').val()!='' && $('input[name="availabilitySearches[0].arrAirport"]').val()!=''){
            $('input[name="availabilitySearches[1].depAirport"]').val($('input[name="availabilitySearches[0].arrAirport"]').val());
            $('input[name="availabilitySearches[1].arrAirport"]').val($('input[name="availabilitySearches[0].depAirport"]').val());
        }

    }
    // 편도
    else if(tripType == 'OW') {
        $('#main_reser01').hide();
        $('#main_reser02').show();
        $('ul.sel_section li').eq(1).addClass('on');
        $('ul.sel_section li.on a').attr('title','선택됨');


        // 날짜 표출 영역, 출발일만 노출
        // console.log($('#main_reser01 .multiple .wave').length);
        // console.log($('#main_reser01 .multiple .wave').html());

    }
};


/**
 * 여정선택완료, 다음으로 이동
 */
var chooseItinerary = function(){

    //check csrf Token - 200212 PJH
    try{
        checkCsrfToken('e226df2e-2467-4907-8d36-01296b8ec20a','_csrf');
    } catch (e) {
        console.log('checkCsrfToken Exception');
    }

    var alert_msg_choose_itinerary = '\uC5EC\uD589\uD558\uC2E4 \uB178\uC120\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.'; //여행하실 노선을 선택해주세요.
    var alert_msg_choose_schedule = '\uCD9C\uBC1C\uC77C\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.'; // 출발일을 선택해주세요.
    var alert_msg_choose_schedule_roundtrip = '\uCD9C/\uB3C4\uCC29\uC77C\uC744 \uBAA8\uB450 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.'; // 출/도착일을 모두 선택해주세요.
    var alert_msg_check_promocode = '\uC785\uB825\uD558\uC2E0 \uD504\uB85C\uBAA8\uC158\uCF54\uB4DC\uC758 \uD560\uC778\uADDC\uC815\uC744 \uD655\uC778\uD574\uC8FC\uC138\uC694.'; // '입력하신 프로모션코드의 할인규정을 확인해주세요.';
    var alert_msg_promocode_login = '\uD574\uB2F9 \uD504\uB85C\uBAA8\uC158 \uCF54\uB4DC\uB294 \uD68C\uC6D0 \uB85C\uADF8\uC778 \uC774\uD6C4 \uC0AC\uC6A9\uC774 \uAC00\uB2A5\uD569\uB2C8\uB2E4.'; // '해당 프로모션 코드는 로그인 이후 사용이 가능합니다.';
    var alert_msg_promocode_already_use = '\uD574\uB2F9 \uD504\uB85C\uBAA8\uC158 \uCF54\uB4DC\uB294 \uC774\uBBF8 \uC0AC\uC6A9\uD55C \uC774\uB825\uC774 \uC874\uC7AC\uD569\uB2C8\uB2E4.'; // '해당 프로모션 코드는 이미 사용한 이력이 존재합니다.';
    var alert_msg_connect_flight_surface = '{0}\uBC88\uC9F8 \uAD6C\uAC04\uC758 \uB3C4\uCC29\uACF5\uD56D\uACFC {1}\uBC88\uC9F8 \uAD6C\uAC04 \uCD9C\uBC1C\uACF5\uD56D\uC740 \uAC19\uC740 \uC9C0\uC5ED(\uB300\uB959)\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4.'; // '{0}번째 구간의 도착공항과 {1}번째 구간 출발공항은 같은 지역(대륙)이어야 합니다.';
    var alert_msg_connect_flight_surface_reverse = '{0}\uBC88\uC9F8 \uAD6C\uAC04\uC758 \uCD9C\uBC1C\uACF5\uD56D\uACFC {1}\uBC88\uC9F8 \uAD6C\uAC04 \uB3C4\uCC29\uACF5\uD56D\uC740 \uAC19\uC740 \uC9C0\uC5ED(\uB300\uB959)\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4.'; // '{0}번째 구간의 출발공항과 {1}번째 구간 도착공항은 같은 지역(대륙)이어야 합니다.';

    var alert_msg_max_length_stay = '\uCCAB\uBC88\uC9F8 \uAD6C\uAC04\uC758 \uCD9C\uBC1C\uC77C\uC5D0\uC11C \uB9C8\uC9C0\uB9C9 \uAD6C\uAC04\uC758 \uB3C4\uCC29\uC77C\uAE4C\uC9C0\uC758 \uAE30\uAC04\uC740 365\uC77C\uC744 \uCD08\uACFC\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.'; // '첫번째 구간의 출발일에서 마지막 구간의 도착일까지의 기간은 365일을 초과할 수 없습니다.';
    var alert_msg_connect_schedule = '\uAD6C\uAC04{0}\uC758 \uCD9C\uBC1C\uC77C\uC740 \uAD6C\uAC04{1}\uC758 \uCD9C\uBC1C\uC77C\uBCF4\uB2E4 \uBE60\uB978\uB0A0\uC9DC\uB97C \uC120\uD0DD\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.'; // '구간{0}의 출발일은 구간{1}의 출발일보다 빠른날짜를 선택할 수 없습니다.';
    var alert_msg_connect_combination = '\uB2E4\uAD6C\uAC04 \uC5EC\uC815\uC740 \uAD6D\uC81C\uC120, \uAD6D\uB0B4\uC120 \uB178\uC120\uC744 \uD568\uAED8 \uC608\uC57D\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.';// '다구간 여정은 국제선, 국내선 노선을 함께 예약할 수 없습니다.'
    var alert_msg_check_adult_cnt = '\uC131\uC778 \uD0D1\uC2B9\uAC1D \uC218\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694';// '성인 탑승객 수를 선택해주세요'

    var frm = $('#airAvailabilityRQ');

    frm.find('input.rqParam').remove();

    // 탑승객
    frm.append('<input type="hidden" name="pax" class="rqParam" value="'+ $('input[name="paxCountDetails[0].paxCount"]').val() +'"/>');
    frm.append('<input type="hidden" name="pax" class="rqParam" value="'+ $('input[name="paxCountDetails[1].paxCount"]').val() +'"/>');
    frm.append('<input type="hidden" name="pax" class="rqParam" value="'+ $('input[name="paxCountDetails[2].paxCount"]').val() +'"/>');

    // promoCode 입력된 경우 규정 확인 및 유효성 통과 여부 체크 - 개인만 적용, 유효성 체크하지 않는 것으로 변경합니다.
    // 기업우대 예약인 경우 promoCode 세팅
    var promoCode = '';
    var isPromocodeByUser = false;

    if(typeof $('div.code input[name="promoCode"]').val() != 'undefined' && $('div.code input[name="promoCode"]').val().length>0){
        promoCode = $('div.code input[name="promoCode"]').val();
        isPromocodeByUser = true;
    }

    if($('input[name="bookingType"]:checked').parent().attr('id') == 'bookingType_individual'){

        if(promoCode.length>0){
            var isValid = false;
            $.ajax({
                url : '/ajax/layerComponents/discountCodeRule', // ajax url
                dataType : 'json', // ajax 통신의 데이터 형식
                async : false,  // 동기(false):비동기(true)
                type : 'get',
                data : {
                    promoCode:promoCode,
                    isPromocodeByUser:isPromocodeByUser
                },
                success : function(data){
                    // console.log(data);
                    if(data.success){
                        frm.find('input[name="promoCode"]').val(promoCode);
                        isValid = true;
                    } else {
                        switch(data.messageCode){
                            case "BKG_CHECK_PROMOCODE" :
                                alert(alert_msg_check_promocode); break;
                            case "BKG_PROMOCODE_LOGIN" :
                                alert(alert_msg_promocode_login);
                                frm.find('input[name="returnUrl"]').remove();
                                frm.find('input[name="returnSubmitType"]').remove();
                                frm.append('<input type="hidden" name="returnUrl" value="/app/booking/searchItinerary"/>');
                                frm.append('<input type="hidden" name="returnSubmitType" value="GET"/>');

                                // loading
                                beginLoadingAnimation();

                                frm.attr('action','/app/login/memberLogin').submit();
                                break;
                            case "BKG_PROMOCODE_ALREADY_USE" :
                                alert(alert_msg_promocode_already_use); break;
                            default : break;
                        }
                    }
                }
            });

            if(!isValid) {
                return false;
            }
        }
    }

    $('input[name="searchDate"]').val(new Date().toISOString().slice(4, 10).replace(/-/g, ""));
    //왕복
    if($('#tripType_RT:checked').length==1) {

        // 노선 선택 여부
        if($('input[name="availabilitySearches[0].depAirport"]').val()=='' || $('input[name="availabilitySearches[1].depAirport"]').val()==''
            || $('input[name="availabilitySearches[0].arrAirport"]').val()=='' || $('input[name="availabilitySearches[1].arrAirport"]').val()==''){
            alert(alert_msg_choose_itinerary);
            $('#main_reser01 input.booking.start').focus();
            return false;
        }

        // 출/도착일 선택 여부
        if($('input[name="availabilitySearches[0].flightDate"]').val()=='' || $('input[name="availabilitySearches[1].flightDate"]').val()==''){
            alert(alert_msg_choose_schedule_roundtrip);
            $('#main_reser01 input.booking.end').focus();
            return false;
        }

        //출도착 공항이 같은 경우 편도로 변경하여 form submit
        if ($('input[name="availabilitySearches[0].depAirport"]').val() == $('input[name="availabilitySearches[0].arrAirport"]').val())
           {
            // 출발공항정보
            frm.append('<input type="hidden" name="deptAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[0].depAirport"]').val() +'"/>');
            // 도착공항정보
            frm.append('<input type="hidden" name="arriAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[0].arrAirport"]').val() +'"/>');
            // 출발일 정보
            frm.append('<input type="hidden" name="schedule" class="rqParam" value="'+ $('input[name="availabilitySearches[0].flightDate"]').val() +'"/>');

            $('#display_tripType_OW').prop('checked',true);
            $('#tripType_OW').prop('checked',true);
           }
        else
        {
            // 출발공항정보
            frm.append('<input type="hidden" name="deptAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[0].depAirport"]').val() +'"/>');
            frm.append('<input type="hidden" name="deptAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[1].depAirport"]').val() +'"/>');

            // 도착공항정보
            frm.append('<input type="hidden" name="arriAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[0].arrAirport"]').val() +'"/>');
            frm.append('<input type="hidden" name="arriAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[1].arrAirport"]').val() +'"/>');

            // 출발일 정보
            frm.append('<input type="hidden" name="schedule" class="rqParam" value="'+ $('input[name="availabilitySearches[0].flightDate"]').val() +'"/>');
            frm.append('<input type="hidden" name="schedule" class="rqParam" value="'+ $('input[name="availabilitySearches[1].flightDate"]').val() +'"/>');
        }
    }
    // 편도
    else if($('#tripType_OW:checked').length==1) {

        // 노선 선택 여부
        if($('input[name="availabilitySearches[0].depAirport"]').val()=='' || $('input[name="availabilitySearches[0].arrAirport"]').val()==''){
            alert(alert_msg_choose_itinerary);
            $('#main_reser02 input.booking.start').focus();
            return false;
        }

        // 출발일 선택 여부
        if($('input[name="availabilitySearches[0].flightDate"]').val()==''){
            alert(alert_msg_choose_schedule);
            $('#main_reser02 input.booking.date.focus_date1').focus();
            return false;
        }

        // 출발공항정보
        frm.append('<input type="hidden" name="deptAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[0].depAirport"]').val() +'"/>');

        // 도착공항정보
        frm.append('<input type="hidden" name="arriAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[0].arrAirport"]').val() +'"/>');

        // 출발일 정보
        frm.append('<input type="hidden" name="schedule" class="rqParam" value="'+ $('input[name="availabilitySearches[0].flightDate"]').val() +'"/>');

    }


    // 성인 탑승객 수 검사
    var adultCnt = $('input[name="paxCountDetails[0].paxCount"]').val();
    if(adultCnt < 1){
        alert(alert_msg_check_adult_cnt);
        return false;
    }


    /**
     * 단체항공권 관련 체크
     * 1. 로그인 여부
     * 2. 1일 최대 예약 건수 - 2회
     */
    var groupBookingFlag = parseInt($('input[name="paxCountDetails[0].paxCount"]').val(),10) + parseInt($('input[name="paxCountDetails[1].paxCount"]').val(),10) > 9;

    if(groupBookingFlag){

        var alert_msg_ruquest_login_grp_booking = '\uB2E8\uCCB4\uD56D\uACF5\uAD8C \uC608\uB9E4\uB294 \uB85C\uADF8\uC778 \uD6C4 \uC11C\uBE44\uC2A4 \uC774\uC6A9\uC774 \uAC00\uB2A5\uD569\uB2C8\uB2E4. \uB85C\uADF8\uC778\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?'; // 단체항공권 예매는 로그인 후 서비스 이용이 가능합니다. 로그인하시겠습니까?
        if('' !='customer'){
            if(confirm(alert_msg_ruquest_login_grp_booking)){

                $.ajax({
                    url : "/ajax/booking/setChooseItineraryParameters" // ajax url
                    , dataType : 'json' // ajax 통신의 데이터 형식
                    , async: true // 동기(false):비동기(true)
                    , type : 'post'
                    , data : frm.serialize()
                    , success : function(data){

                        // console.log(data);

                        /**
                         * 여정 및 번들정보 세션에 저장 후 로그인 화면으로 이동
                         */
                        frm.find('input[name="returnUrl"]').remove();
                        frm.find('input[name="returnSubmitType"]').remove();
                        frm.append('<input type="hidden" name="returnUrl" class="rqParam" value="/app/booking/groupBookingLoginLanding"/>');
                        frm.append('<input type="hidden" name="returnSubmitType" class="rqParam" value="POST"/>');

                        // loading
                        frm.attr('action','/app/login/memberLogin').submit();
                        beginLoadingAnimation();

                    }
                    , error : function(xhr, status, error){
                        var error_confirm=confirm('\uB370\uC774\uD130 \uC804\uC1A1 \uC624\uB958\uC785\uB2C8\uB2E4. \uD655\uC778\uC744 \uB204\uB974\uC2DC\uBA74 \uD398\uC774\uC9C0\uAC00 \uC0C8\uB85C\uACE0\uCE68\uB429\uB2C8\uB2E4.');
                        if(error_confirm==true){
                            document.location.reload();
                        }
                    }
                });

            }
        }
        /**
         * 로그인 상태라면 단체예약 1일 2건 제한 상태 확인
         * /ajax/booking/getGroupBookingCount
         */
        else{

            $.ajax({
                url: "/ajax/booking/getGroupBookingCount" // ajax url
                , dataType: 'json' // ajax 통신의 데이터 형식
                , async: true // 동기(false):비동기(true)
                , type: 'post'
                , data : frm.serialize()
                , success: function (data) {


                    if (data.data.cnt >= 2) {
                        alert('\uB2E8\uCCB4\uD56D\uACF5\uAD8C \uC608\uB9E4\uB294 1\uC77C 2\uD68C\uAE4C\uC9C0\uB9CC \uAC00\uB2A5\uD569\uB2C8\uB2E4.'); // 단체항공권 예매는 1일 2회까지만 가능합니다.
                    }
                    else{
                        frm.submit();
                        beginLoadingAnimation();
                    }

                }
                , error: function (xhr, status, error) {
                    var error_confirm = confirm('\uB370\uC774\uD130 \uC804\uC1A1 \uC624\uB958\uC785\uB2C8\uB2E4. \uD655\uC778\uC744 \uB204\uB974\uC2DC\uBA74 \uD398\uC774\uC9C0\uAC00 \uC0C8\uB85C\uACE0\uCE68\uB429\uB2C8\uB2E4.');
                    if (error_confirm == true) {
                        document.location.reload();
                    }
                }
            });
        }


    }else{
        frm.submit();
        beginLoadingAnimation();
    }
};

/**
 * 다구간여정 출/도착지, 출발일 선택
 */
var selectMultiTripAirport = function(obj, itineraryNumber, searchType, layerType){

    currentItineraryNumber = itineraryNumber;
    var i = itineraryNumber-1;

    if('date'==searchType && $('input[name="availabilitySearches['+i+'].depAirport"]').val()!=''
        && $('input[name="availabilitySearches['+i+'].arrAirport"]').val()!=''){
        callBackArrivalAirportConfirm(itineraryNumber);
    }
    else{
        gnbSelectAirport(obj, itineraryNumber, layerType, 'main');
    }
};

/**
 * 출/도착지 정보의 노출정보 TEXT 정리
 */
var airportDisplayText = function(el){

    var text = el['city'];
    if(el['city']!=el['airport']){
        text += '/'+el['airport'];
    }
    // text += ' '+el['airport_code'];
    return text;
};

/**
 * 나이계산기
 */
var alert_msg_select_route = '\uB178\uC120\uACFC \uCD9C\uBC1C\uC77C\uC744 \uBA3C\uC800 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.'; // 노선과 출발일을 먼저 선택해주세요.
var howOldAreYou = function(){

    var depAirport = $('input[name="availabilitySearches[0].depAirport"]').val();
    var arrAirport = $('input[name="availabilitySearches[0].arrAirport"]').val();
    var flightDate = $('input[name="availabilitySearches[0].flightDate"]').val();

    if(depAirport!='' && arrAirport!='' && flightDate!=''){

        flightDate = flightDate.replace(/\-/g,"");

        ageCalculater(flightDate, depAirport, arrAirport);
    }
    else{
        alert(alert_msg_select_route);
    }
};

/**
 * 프로모션코드 유효성 검사
 */

$(document).ready(function(){
    $('div.code input[name="promoCode"]').change(function(){
        $("input[name='validPromoCode']").val('N');
        $('input[name="promoCodeDetails.promoCode"]').val('');
    });
});

$('.txt_tooltip').on('click', function() {
    $('.discountCodeRule_area').empty();
    var alert_msg_promocode_required = '\uD560\uC778\uCF54\uB4DC\uB97C \uC785\uB825\uD574 \uC8FC\uC138\uC694.';//'프로모션코드를 입력해 주세요.';

    var promoCode = $('div.code input[name="promoCode"]').val();

    if(promoCode==''){
        alert(alert_msg_promocode_required);
        $('div.code input[name="promoCode"]').focus();
        return false;
    }
    else{
        discountCodeInfo(promoCode);
        $(this).parents().find('.tooltip_layer.txt').fadeToggle(150);
    }
});

$('.tooltip_layer.txt.checked').on('click', function() {
        $(this).parents().find('.tooltip_layer.txt').fadeToggle(150);
});

/**
 * 입력한 할인코드 안내
 * @param promoCode
 */
var discountCodeInfo = function(promoCode){

    if(promoCode == ''){
        var alert_msg_promocode_required = '\uD560\uC778\uCF54\uB4DC\uB97C \uC785\uB825\uD574 \uC8FC\uC138\uC694.';//'프로모션코드를 입력해 주세요.';
        alert(alert_msg_promocode_required);
        return false;
    } else {
        var alert_msg_check_promocode = '\uC785\uB825\uD558\uC2E0 \uD504\uB85C\uBAA8\uC158\uCF54\uB4DC\uC758 \uD560\uC778\uADDC\uC815\uC744 \uD655\uC778\uD574\uC8FC\uC138\uC694.'; // '입력하신 프로모션코드의 할인규정을 확인해주세요.';
        appendLayer('discount_code_rule');
        $.ajax({
            url : '/ajax/layerComponents/discountCodeRule', // ajax url
            dataType : 'json', // ajax 통신의 데이터 형식
            async : true,  // 동기(false):비동기(true)
            type : 'get',
            data : {
                promoCode:promoCode
            },
            success : function(data){
                // console.log(data);
                if(data.messageCode == "BKG_CHECK_PROMOCODE"){
                    $('.discountCodeRule_area').html('');
                } else {
                    $('.discountCodeRule_area').html(data.data.promocode.promoExplain);
                }
            }
        });
    }
};

/**
 * 입력한 할인코드의 유효성 확인
 */
var callbackDiscountCode = function(useYn){

    $("input[name='validPromoCode']").val(useYn);

    if(useYn != 'Y'){
        $('div.code input[name="promoCode"]').val('').focus();
    }
    else{
        var promoCode = $('div.code input[name="promoCode"]').val();
        $('input[name="promoCodeDetails.promoCode"]').val(promoCode);
    }
};



//--
//-- 시작 -  출/도착공항 선택, 여정선택 레이어 control
//--

/**
 * 출발 공항 선택 레이어 호출
 * itineraryNumber ; 여정구간번호, 왕복/편도는 parameter 넘어오지 않음.
 * layerType ; search 검색, region 전체지역
 */
var gnbSelectAirportObj;
var gnbSelectAirportLayerType;
var selectItineraryNumber;
var currency = 'KRW';
var alert_msg_select_departure = '\uCD9C\uBC1C\uC9C0\uB97C \uC120\uD0DD\uD558\uC138\uC694.';//'출발지를 선택하세요.';
var alert_msg_choose_departure_airport = '\uCD9C\uBC1C\uC9C0\uB97C \uC120\uD0DD\uD558\uC138\uC694.';//'출발지를 선택해주세요.';
var alert_msg_choose_arrival_airport = '\uB3C4\uCC29\uC9C0\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694.';//'도착지 공항을 선택해주세요.';

/**
 * 출/도착 공항정보 선택시 data 및 value 저장
 */
var setAirportData = function (airportObj, el){
    $(airportObj).data('city',$(el).data('city'));
    $(airportObj).data('airport',$(el).data('airport'));
    $(airportObj).data('airport_code',$(el).data('airport_code'));
    $(airportObj).data('conti',$(el).data('conti'));
    airportObj.val($(el).data('airport_code'));
};

/**
 * 일정선택 레이어의 확인버튼 이벤트 처리 callback function
 * @param schedule      array형태로 반환, 편도/다구간조회인 경우 size=1, 왕복인경우 size=2, YYYYMMDD
 * @param schedule_str  YYYY-MM-DD
 */
var gnbCallBackScheduleConfirm = function(schedule, schedule_str){


    //왕복
    if($('#tripType_RT:checked').length==1) {

        $('#main_reser01 div.days').addClass('focus');
        $('#main_reser01 div.days input').eq(0).val(schedule_str[0]);
        $('#main_reser01 div.days input').eq(1).val(schedule_str[1]);


        $('#main_reser02 div.days').addClass('focus');
        $('#main_reser02 div.days input').eq(0).val(schedule_str[0]);

        // RQ
        $('input[name="availabilitySearches[0].flightDate"]').val(schedule_str[0]);
        $('input[name="availabilitySearches[1].flightDate"]').val(schedule_str[1]);
    }
    // 편도
    else if($('#tripType_OW:checked').length==1) {

        $('#main_reser01 div.days').addClass('focus');
        $('#main_reser01 div.days input').eq(0).val(schedule_str[0]);

        $('#main_reser02 div.days').addClass('focus');
        $('#main_reser02 div.days input').eq(0).val(schedule_str[0]);

        // RQ
        $('input[name="availabilitySearches[0].flightDate"]').val(schedule_str[0]);

    }

    showLayer('wrap', 'schedule_calendar', true);
};

/**
 * 호출된 레이어에서 사용자 요청에 의해 프로세스 중단(창닫기)시 부모페이어를 재호출
 */
var callBackOpener = function(hideLayerName){
    // $('#'+hideLayerName).remove();

    $('#wrap').slideDown( "slow", function() {
        $('#'+hideLayerName).remove();
    });

    // $('#wrap').css('overflow','');
    $('body').removeClass('no_scroll');
};


//--
//-- 끝 -  출/도착공항 선택, 여정선택 레이어 control
//--


//--------------- from global.js

/**
 * 여정선택 출/도착일 선택하는 캘린더 레이어 호출
 * @param tripType
 * @param deptAirportCode
 * @param arriAirportCode
 */
var gnbScheduleCalendar = function(tripType, bookingType, currency, deptAirportCode, arriAirportCode){

    scheduleCalendar(tripType, bookingType, currency, deptAirportCode, arriAirportCode);

    // gnb job flag
    isGnbRequest = true;

};

//--------------- end global.js


/**
 * 저장된 RQ가 있는경우 정보 표출
 */
$(document).ready(function(){
    reformAirAvailabilityRQInfo();
});

var reformAirAvailabilityRQInfo = function(){

    // $('#display_tripType_'+$('#airAvailabilityRQ input[name="tripType"]:checked').val()).parents('a.setTripType').click().click();

    $.each($('div.sel_section input[name="tripTypeButton"]'),function(){

        if($('#airAvailabilityRQ input[name="tripType"]:checked').val()=='MC'){
            $('#airAvailabilityRQ input[name="tripType"]').eq(0).prop('checked',true);
            checkTripType();
        }

        if($(this).val()==$('#airAvailabilityRQ input[name="tripType"]:checked').val()){
            $('.btn_tab li').removeClass('on');
            $(this).prop('checked', true);
            $('#display_tripType_'+$(this).val()).parents('a.setTripType').parent().addClass('on');
        }
    });

    // checkTripType();


    // 노선정보
    if($('input[name="availabilitySearches[0].depAirport"]').val()!='' && $('input[name="availabilitySearches[0].arrAirport"]').val()!=''){

        $('#main_reser01 div.start').addClass('focus');
        $('#main_reser01 div.start div.selected_area').addClass('on');
        $('#main_reser01 div.start div.selected_area').find('span.area').text($('input[name="availabilitySearches[0].depAirportName"]').val());
        $('#main_reser01 div.start div.selected_area').find('span.eng').text($('input[name="availabilitySearches[0].depAirport"]').val());

        $('#main_reser01 div.end').addClass('focus');
        $('#main_reser01 div.end div.selected_area').addClass('on');
        $('#main_reser01 div.end div.selected_area').find('span.area').text($('input[name="availabilitySearches[0].arrAirportName"]').val());
        $('#main_reser01 div.end div.selected_area').find('span.eng').text($('input[name="availabilitySearches[0].arrAirport"]').val());


        $('#main_reser02 div.start').addClass('focus');
        $('#main_reser02 div.start div.selected_area').addClass('on');
        $('#main_reser02 div.start div.selected_area').find('span.area').text($('input[name="availabilitySearches[0].depAirportName"]').val());
        $('#main_reser02 div.start div.selected_area').find('span.eng').text($('input[name="availabilitySearches[0].depAirport"]').val());

        $('#main_reser02 div.end').addClass('focus');
        $('#main_reser02 div.end div.selected_area').addClass('on');
        $('#main_reser02 div.end div.selected_area').find('span.area').text($('input[name="availabilitySearches[0].arrAirportName"]').val());
        $('#main_reser02 div.end div.selected_area').find('span.eng').text($('input[name="availabilitySearches[0].arrAirport"]').val());

    }

    // 탑승일 정보
    if($('input[name="availabilitySearches[0].flightDate"]').val()!=''){

        $('#main_reser01 div.input_wrap.date').addClass('focus');
        $('#main_reser01 input.booking.date').eq(0).val($('input[name="availabilitySearches[0].flightDate"]').val());
        $('#main_reser01 input.booking.date').eq(1).val($('input[name="availabilitySearches[1].flightDate"]').val());

        if($('input[name="availabilitySearches[1].flightDate"]').val()!=''){
            $('#main_reser01 input.booking.date').eq(0).val($('input[name="availabilitySearches[0].flightDate"]').val());
        }


        $('#main_reser02 div.input_wrap.date').addClass('focus');
        $('#main_reser02 input.booking.date').eq(0).val($('input[name="availabilitySearches[0].flightDate"]').val());
        $('#main_reser02 input.booking.date').eq(1).val($('input[name="availabilitySearches[1].flightDate"]').val());

        if($('input[name="availabilitySearches[1].flightDate"]').val()!=''){
            $('#main_reser02 input.booking.date').eq(0).val($('input[name="availabilitySearches[0].flightDate"]').val());
        }

    }

};



$(function(){

    $('#route_departure_search, #route_departure').on('focusout', function() {
        $('.focus_start2').focus();
        $(this).remove();
    });

    $('#route_arrival_search, #route_arrival').on('focusout', function() {
        $('.focus_end2').focus();
        $(this).remove();
    });

    $('#schedule_calendar').on('focusout', function() {
        $('.focus_date3').focus();
        $(this).remove();
    });

    /* $('#top_passenger_type').on('focusout', function(){
        $('#top_passenger_type').hide();
    }); */
});

/**
 * 탑승객 카운트 선택 레이어 호출
 */
var selectPassengerCount = function(){
    $('#top_passenger_type').show().focus();
};

var selectPassengerCountClose = function() {
    $('a.selected_passenger').focus();
    $('#top_passenger_type').hide();
};

</script>


    
</div>