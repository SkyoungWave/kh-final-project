<html lang="ko-KR" style="overflow: visible;"><head><meta name="viewport" content="width=1400">
    <title>여행보험 | 부가서비스 선택 | 항공권 예매 | 티웨이항공</title>
    

    <!-- 홈페이지 메타태그 삽입 START -->
    <!-- MENU별 META태그 -->
    
    <meta name="description" content="안전하고 합리적인 대한민국 LCC 티웨이항공, 한국/일본/동남아 항공권 할인">
    
    <meta name="keywords" content="티웨이항공, 티웨이, Tway, Tway항공, t웨이항공, twayair, 제주도항공, 항공권예매, 항공권특가, 항공권예약, 저가항공, 제주항공권, 일본항공권, 동남아항공권, 특가항공권">

    
    <meta property="og:type" content="website">
    
    <meta property="og:url" content="http://www.twayair.com/">
    
    <meta property="og:description" content="안전하고 합리적인 대한민국 LCC 티웨이항공, 한국/일본/동남아 항공권 할인">
    <meta content="https://contents-image.twayair.com/mobile/images/common/twayair.png" property="og:image">

    <!-- 공통 컨텐츠 관리 내 공통 META태그 -->
    <meta name="google-site-verification" content="cNbjQR2z6KTEGNIkBqf2wXFvMYI76ChScNOXTMUR4WA">
<meta name="naver-site-verification" content="433941c0feb2e2ff95bffdb915e887afbdacf6b8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<link rel="canonical" href="https://www.twayair.com/app/main">

    <!-- 홈페이지 메타태그 삽입 END -->

    <meta charset="UTF-8">
    <!-- <meta th:unless="${#strings.indexOf(#httpServletRequest.requestURI,'/app/reservation/eTicket') != -1}" name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <meta th:if="${#strings.indexOf(#httpServletRequest.requestURI,'/app/reservation/eTicket') != -1}" name="viewport" content="width=1200"> -->
    
    <meta content="ie=edge" http-equiv="X-UA-Compatible">

    <meta content="c06c1120-125b-4267-9829-a688b28a0f09" name="_csrf">
    <meta content="X-CSRF-TOKEN" name="_csrf_header">

    <meta http-equiv="content-language" content="ko-KR">

    <!-- SNS Sharing -->
    

    <!-- CSS 영역 -->
    
<style type="text/css">
    input[type="date"]::-webkit-inner-spin-button,
    input[type="date"]::-webkit-calendar-picker-indicator {
        display: none;
        -webkit-appearance: none;
    }
</style>
<link rel="stylesheet" type="text/css" href="https://contents-image.twayair.com/homepage/css/style.css?ver=LYncRwo5Li8BIKCnFaifb18GfzMW7KZEoQhgbMDDXmFKuRZByCP0Jv6J7Ft1kmPq">
        <link rel="stylesheet" type="text/css" href="https://contents-image.twayair.com/homepage/css/waitMe.css">

        <style type="text/css">
            div.debug {
                display:none;
            }
        </style>
    



        <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script async="" src="//cdn.tbase.co.kr/tbase/l4cts.v5.2t.js"></script><script src="https://connect.facebook.net/signals/config/371419434194566?v=2.9.90&amp;r=stable" async=""></script><script async="" src="https://connect.facebook.net/en_US/fbevents.js"></script><script async="" src="//cdn.tbase.co.kr/tbase/common/1069_common.js"></script><script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script async="" src="https://www.googletagmanager.com/gtm.js?id=GTM-TC4XB6D"></script><script type="text/javascript" async="" src="https://www.googletagmanager.com/gtag/js?id=G-DMDBYR48JD&amp;l=dataLayer&amp;cx=c"></script><script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/lib/jquery-1.12.4.min.js"></script>
        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/app/jquery-tmpl/jquery.tmpl.js"></script>
        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/lib/jquery-ui.js"></script>

        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/app/waitMe.js"></script>

        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/lib/js.cookie.min.js"></script>
        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/lib/hangul.min.js"></script> <!--한글 자음/모음 분리/조합 자바스크립트 라이브러리-->
        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/lib/cmmUtils.js?ver=LYncRwo5Li8BIKCnFaifb18GfzMW7KZEoQhgbMDDXmFKuRZByCP0Jv6J7Ft1kmPq"></script>


        <!-- Global Js -->
        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/app/global.js?ver=LYncRwo5Li8BIKCnFaifb18GfzMW7KZEoQhgbMDDXmFKuRZByCP0Jv6J7Ft1kmPq"></script>
        

        <!-- fingerprint Js -->
        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/app/fingerprint.js"></script>
        
        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/app/java_hashcode.js"></script>
        

        <!--// twaygtm > GTM Js -->
        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/app/gtm.js"></script>
        

        <!-- begin, from Publishing -->
        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/lib/ui.common.js?ver=LYncRwo5Li8BIKCnFaifb18GfzMW7KZEoQhgbMDDXmFKuRZByCP0Jv6J7Ft1kmPq"></script>
        
        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/lib/swiper.js"></script>
        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/lib/jquery.mCustomScrollbar.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js"></script>
        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/lib/slick.js"></script>
        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/lib/rangeslider.min.js"></script>
        <!-- end, from Publishing -->

        <!--// datetimepicker -->
        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/lib/jquery.datetimepicker.full.min.js"></script>
        <link rel="stylesheet" href="https://contents-image.twayair.com/homepage/css/lib/jquery.datetimepicker.min.css">

        <!-- Validation Js -->
        <script type="text/javascript" src="https://contents-image.twayair.com/homepage/js/app/validation.js"></script>
        
        <!-- // Validation Js -->

    

    <script type="text/javascript">
        $(document).ready(function() {
        });
    </script>

    <!-- 홈페이지 추적 스크립트 삽입 -->
    <!-- google analytics - 공통스크립트 -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-18196299-2"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
setTimeout(function(){gtag('js', new Date());
gtag('config', 'UA-18196299-2');},500);
</script>
    <!-- 홈페이지 추적 스크립트 삽입 END -->

    <!-- <link rel="alternate" hreflang="lang_code"> -->
<meta http-equiv="origin-trial" content="A751Xsk4ZW3DVQ8WZng2Dk5s3YzAyqncTzgv+VaE6wavgTY0QHkDvUTET1o7HanhuJO8lgv1Vvc88Ij78W1FIAAAAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1RoaXJkUGFydHkiOnRydWV9"><script type="text/javascript" async="" src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/835074054/?random=1672035198055&amp;cv=11&amp;fst=1672035198055&amp;bg=ffffff&amp;guid=ON&amp;async=1&amp;gtm=2wgbu0&amp;u_w=1920&amp;u_h=1080&amp;hn=www.googleadservices.com&amp;frm=0&amp;url=https%3A%2F%2Fwww.twayair.com%2Fapp%2Fbooking%2FSSR&amp;tiba=%EC%A2%8C%EC%84%9D%20%7C%20%EB%B6%80%EA%B0%80%EC%84%9C%EB%B9%84%EC%8A%A4%20%EC%84%A0%ED%83%9D%20%7C%20%ED%95%AD%EA%B3%B5%EA%B6%8C%20%EC%98%88%EB%A7%A4%20%7C%20%ED%8B%B0%EC%9B%A8%EC%9D%B4%ED%95%AD%EA%B3%B5&amp;auid=994513797.1670405281&amp;uaa=x86&amp;uab=64&amp;uafvl=Not%253FA_Brand%3B8.0.0.0%7CChromium%3B108.0.5359.125%7CGoogle%2520Chrome%3B108.0.5359.125&amp;uap=Windows&amp;uapv=14.0.0&amp;uaw=0&amp;rfmt=3&amp;fmt=4"></script><meta http-equiv="origin-trial" content="A751Xsk4ZW3DVQ8WZng2Dk5s3YzAyqncTzgv+VaE6wavgTY0QHkDvUTET1o7HanhuJO8lgv1Vvc88Ij78W1FIAAAAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A751Xsk4ZW3DVQ8WZng2Dk5s3YzAyqncTzgv+VaE6wavgTY0QHkDvUTET1o7HanhuJO8lgv1Vvc88Ij78W1FIAAAAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1RoaXJkUGFydHkiOnRydWV9"><script type="text/javascript" async="" src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/815758399/?random=1672035198073&amp;cv=11&amp;fst=1672035198073&amp;bg=ffffff&amp;guid=ON&amp;async=1&amp;gtm=2oabu0&amp;u_w=1920&amp;u_h=1080&amp;hn=www.googleadservices.com&amp;frm=0&amp;url=https%3A%2F%2Fwww.twayair.com%2Fapp%2Fbooking%2FSSR&amp;tiba=%EC%A2%8C%EC%84%9D%20%7C%20%EB%B6%80%EA%B0%80%EC%84%9C%EB%B9%84%EC%8A%A4%20%EC%84%A0%ED%83%9D%20%7C%20%ED%95%AD%EA%B3%B5%EA%B6%8C%20%EC%98%88%EB%A7%A4%20%7C%20%ED%8B%B0%EC%9B%A8%EC%9D%B4%ED%95%AD%EA%B3%B5&amp;auid=994513797.1670405281&amp;uaa=x86&amp;uab=64&amp;uafvl=Not%253FA_Brand%3B8.0.0.0%7CChromium%3B108.0.5359.125%7CGoogle%2520Chrome%3B108.0.5359.125&amp;uap=Windows&amp;uapv=14.0.0&amp;uaw=0&amp;data=event%3Dgtag.config&amp;rfmt=3&amp;fmt=4"></script><meta http-equiv="origin-trial" content="A751Xsk4ZW3DVQ8WZng2Dk5s3YzAyqncTzgv+VaE6wavgTY0QHkDvUTET1o7HanhuJO8lgv1Vvc88Ij78W1FIAAAAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A751Xsk4ZW3DVQ8WZng2Dk5s3YzAyqncTzgv+VaE6wavgTY0QHkDvUTET1o7HanhuJO8lgv1Vvc88Ij78W1FIAAAAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1RoaXJkUGFydHkiOnRydWV9"><script type="text/javascript" async="" src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/11008077408/?random=1672035198084&amp;cv=11&amp;fst=1672035198084&amp;bg=ffffff&amp;guid=ON&amp;async=1&amp;gtm=2oabu0&amp;u_w=1920&amp;u_h=1080&amp;hn=www.googleadservices.com&amp;frm=0&amp;url=https%3A%2F%2Fwww.twayair.com%2Fapp%2Fbooking%2FSSR&amp;tiba=%EC%A2%8C%EC%84%9D%20%7C%20%EB%B6%80%EA%B0%80%EC%84%9C%EB%B9%84%EC%8A%A4%20%EC%84%A0%ED%83%9D%20%7C%20%ED%95%AD%EA%B3%B5%EA%B6%8C%20%EC%98%88%EB%A7%A4%20%7C%20%ED%8B%B0%EC%9B%A8%EC%9D%B4%ED%95%AD%EA%B3%B5&amp;auid=994513797.1670405281&amp;uaa=x86&amp;uab=64&amp;uafvl=Not%253FA_Brand%3B8.0.0.0%7CChromium%3B108.0.5359.125%7CGoogle%2520Chrome%3B108.0.5359.125&amp;uap=Windows&amp;uapv=14.0.0&amp;uaw=0&amp;data=event%3Dgtag.config&amp;rfmt=3&amp;fmt=4"></script><meta http-equiv="origin-trial" content="A751Xsk4ZW3DVQ8WZng2Dk5s3YzAyqncTzgv+VaE6wavgTY0QHkDvUTET1o7HanhuJO8lgv1Vvc88Ij78W1FIAAAAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A751Xsk4ZW3DVQ8WZng2Dk5s3YzAyqncTzgv+VaE6wavgTY0QHkDvUTET1o7HanhuJO8lgv1Vvc88Ij78W1FIAAAAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1RoaXJkUGFydHkiOnRydWV9"><script type="text/javascript" async="" src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/11000412613/?random=1672035198092&amp;cv=11&amp;fst=1672035198092&amp;bg=ffffff&amp;guid=ON&amp;async=1&amp;gtm=2oabu0&amp;u_w=1920&amp;u_h=1080&amp;hn=www.googleadservices.com&amp;frm=0&amp;url=https%3A%2F%2Fwww.twayair.com%2Fapp%2Fbooking%2FSSR&amp;tiba=%EC%A2%8C%EC%84%9D%20%7C%20%EB%B6%80%EA%B0%80%EC%84%9C%EB%B9%84%EC%8A%A4%20%EC%84%A0%ED%83%9D%20%7C%20%ED%95%AD%EA%B3%B5%EA%B6%8C%20%EC%98%88%EB%A7%A4%20%7C%20%ED%8B%B0%EC%9B%A8%EC%9D%B4%ED%95%AD%EA%B3%B5&amp;auid=994513797.1670405281&amp;uaa=x86&amp;uab=64&amp;uafvl=Not%253FA_Brand%3B8.0.0.0%7CChromium%3B108.0.5359.125%7CGoogle%2520Chrome%3B108.0.5359.125&amp;uap=Windows&amp;uapv=14.0.0&amp;uaw=0&amp;data=event%3Dgtag.config&amp;rfmt=3&amp;fmt=4"></script><script type="text/javascript" async="" src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/11008077408/?random=1672035198621&amp;cv=11&amp;fst=1672035198621&amp;bg=ffffff&amp;guid=ON&amp;async=1&amp;gtm=2oabu0&amp;u_w=1920&amp;u_h=1080&amp;hn=www.googleadservices.com&amp;frm=0&amp;url=https%3A%2F%2Fwww.twayair.com%2Fapp%2Fbooking%2FSSR&amp;tiba=%EC%A2%8C%EC%84%9D%20%7C%20%EB%B6%80%EA%B0%80%EC%84%9C%EB%B9%84%EC%8A%A4%20%EC%84%A0%ED%83%9D%20%7C%20%ED%95%AD%EA%B3%B5%EA%B6%8C%20%EC%98%88%EB%A7%A4%20%7C%20%ED%8B%B0%EC%9B%A8%EC%9D%B4%ED%95%AD%EA%B3%B5&amp;auid=994513797.1670405281&amp;uaa=x86&amp;uab=64&amp;uafvl=Not%253FA_Brand%3B8.0.0.0%7CChromium%3B108.0.5359.125%7CGoogle%2520Chrome%3B108.0.5359.125&amp;uap=Windows&amp;uapv=14.0.0&amp;uaw=0&amp;data=event%3Dform_start&amp;rfmt=3&amp;fmt=4"></script><script type="text/javascript" async="" src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/11008077408/?random=1672035198628&amp;cv=11&amp;fst=1672035198628&amp;bg=ffffff&amp;guid=ON&amp;async=1&amp;gtm=2oabu0&amp;u_w=1920&amp;u_h=1080&amp;hn=www.googleadservices.com&amp;frm=0&amp;url=https%3A%2F%2Fwww.twayair.com%2Fapp%2Fbooking%2FSSR&amp;tiba=%EC%A2%8C%EC%84%9D%20%7C%20%EB%B6%80%EA%B0%80%EC%84%9C%EB%B9%84%EC%8A%A4%20%EC%84%A0%ED%83%9D%20%7C%20%ED%95%AD%EA%B3%B5%EA%B6%8C%20%EC%98%88%EB%A7%A4%20%7C%20%ED%8B%B0%EC%9B%A8%EC%9D%B4%ED%95%AD%EA%B3%B5&amp;auid=994513797.1670405281&amp;uaa=x86&amp;uab=64&amp;uafvl=Not%253FA_Brand%3B8.0.0.0%7CChromium%3B108.0.5359.125%7CGoogle%2520Chrome%3B108.0.5359.125&amp;uap=Windows&amp;uapv=14.0.0&amp;uaw=0&amp;data=event%3Dform_submit&amp;rfmt=3&amp;fmt=4"></script><script type="text/javascript" async="" src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/11000412613/?random=1672035198630&amp;cv=11&amp;fst=1672035198630&amp;bg=ffffff&amp;guid=ON&amp;async=1&amp;gtm=2oabu0&amp;u_w=1920&amp;u_h=1080&amp;hn=www.googleadservices.com&amp;frm=0&amp;url=https%3A%2F%2Fwww.twayair.com%2Fapp%2Fbooking%2FSSR&amp;tiba=%EC%A2%8C%EC%84%9D%20%7C%20%EB%B6%80%EA%B0%80%EC%84%9C%EB%B9%84%EC%8A%A4%20%EC%84%A0%ED%83%9D%20%7C%20%ED%95%AD%EA%B3%B5%EA%B6%8C%20%EC%98%88%EB%A7%A4%20%7C%20%ED%8B%B0%EC%9B%A8%EC%9D%B4%ED%95%AD%EA%B3%B5&amp;auid=994513797.1670405281&amp;uaa=x86&amp;uab=64&amp;uafvl=Not%253FA_Brand%3B8.0.0.0%7CChromium%3B108.0.5359.125%7CGoogle%2520Chrome%3B108.0.5359.125&amp;uap=Windows&amp;uapv=14.0.0&amp;uaw=0&amp;data=event%3Dform_start&amp;rfmt=3&amp;fmt=4"></script><script type="text/javascript" async="" src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/11000412613/?random=1672035198633&amp;cv=11&amp;fst=1672035198633&amp;bg=ffffff&amp;guid=ON&amp;async=1&amp;gtm=2oabu0&amp;u_w=1920&amp;u_h=1080&amp;hn=www.googleadservices.com&amp;frm=0&amp;url=https%3A%2F%2Fwww.twayair.com%2Fapp%2Fbooking%2FSSR&amp;tiba=%EC%A2%8C%EC%84%9D%20%7C%20%EB%B6%80%EA%B0%80%EC%84%9C%EB%B9%84%EC%8A%A4%20%EC%84%A0%ED%83%9D%20%7C%20%ED%95%AD%EA%B3%B5%EA%B6%8C%20%EC%98%88%EB%A7%A4%20%7C%20%ED%8B%B0%EC%9B%A8%EC%9D%B4%ED%95%AD%EA%B3%B5&amp;auid=994513797.1670405281&amp;uaa=x86&amp;uab=64&amp;uafvl=Not%253FA_Brand%3B8.0.0.0%7CChromium%3B108.0.5359.125%7CGoogle%2520Chrome%3B108.0.5359.125&amp;uap=Windows&amp;uapv=14.0.0&amp;uaw=0&amp;data=event%3Dform_submit&amp;rfmt=3&amp;fmt=4"></script><script type="text/javascript" async="" src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/11008077408/?random=1672037348240&amp;cv=11&amp;fst=1672037348240&amp;bg=ffffff&amp;guid=ON&amp;async=1&amp;gtm=2oabu0&amp;u_w=1920&amp;u_h=1080&amp;hn=www.googleadservices.com&amp;frm=0&amp;url=https%3A%2F%2Fwww.twayair.com%2Fapp%2Fbooking%2FSSR&amp;tiba=%EC%97%AC%ED%96%89%EB%B3%B4%ED%97%98%20%7C%20%EB%B6%80%EA%B0%80%EC%84%9C%EB%B9%84%EC%8A%A4%20%EC%84%A0%ED%83%9D%20%7C%20%ED%95%AD%EA%B3%B5%EA%B6%8C%20%EC%98%88%EB%A7%A4%20%7C%20%ED%8B%B0%EC%9B%A8%EC%9D%B4%ED%95%AD%EA%B3%B5&amp;auid=994513797.1670405281&amp;uaa=x86&amp;uab=64&amp;uafvl=Not%253FA_Brand%3B8.0.0.0%7CChromium%3B108.0.5359.125%7CGoogle%2520Chrome%3B108.0.5359.125&amp;uap=Windows&amp;uapv=14.0.0&amp;uaw=0&amp;data=event%3Dform_submit&amp;rfmt=3&amp;fmt=4"></script><script type="text/javascript" async="" src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/11000412613/?random=1672037348247&amp;cv=11&amp;fst=1672037348247&amp;bg=ffffff&amp;guid=ON&amp;async=1&amp;gtm=2oabu0&amp;u_w=1920&amp;u_h=1080&amp;hn=www.googleadservices.com&amp;frm=0&amp;url=https%3A%2F%2Fwww.twayair.com%2Fapp%2Fbooking%2FSSR&amp;tiba=%EC%97%AC%ED%96%89%EB%B3%B4%ED%97%98%20%7C%20%EB%B6%80%EA%B0%80%EC%84%9C%EB%B9%84%EC%8A%A4%20%EC%84%A0%ED%83%9D%20%7C%20%ED%95%AD%EA%B3%B5%EA%B6%8C%20%EC%98%88%EB%A7%A4%20%7C%20%ED%8B%B0%EC%9B%A8%EC%9D%B4%ED%95%AD%EA%B3%B5&amp;auid=994513797.1670405281&amp;uaa=x86&amp;uab=64&amp;uafvl=Not%253FA_Brand%3B8.0.0.0%7CChromium%3B108.0.5359.125%7CGoogle%2520Chrome%3B108.0.5359.125&amp;uap=Windows&amp;uapv=14.0.0&amp;uaw=0&amp;data=event%3Dform_submit&amp;rfmt=3&amp;fmt=4"></script><script type="text/javascript" async="" src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/11008077408/?random=1672037589435&amp;cv=11&amp;fst=1672037589435&amp;bg=ffffff&amp;guid=ON&amp;async=1&amp;gtm=2oabu0&amp;u_w=1920&amp;u_h=1080&amp;hn=www.googleadservices.com&amp;frm=0&amp;url=https%3A%2F%2Fwww.twayair.com%2Fapp%2Fbooking%2FSSR&amp;tiba=%EC%97%AC%ED%96%89%EB%B3%B4%ED%97%98%20%7C%20%EB%B6%80%EA%B0%80%EC%84%9C%EB%B9%84%EC%8A%A4%20%EC%84%A0%ED%83%9D%20%7C%20%ED%95%AD%EA%B3%B5%EA%B6%8C%20%EC%98%88%EB%A7%A4%20%7C%20%ED%8B%B0%EC%9B%A8%EC%9D%B4%ED%95%AD%EA%B3%B5&amp;auid=994513797.1670405281&amp;uaa=x86&amp;uab=64&amp;uafvl=Not%253FA_Brand%3B8.0.0.0%7CChromium%3B108.0.5359.125%7CGoogle%2520Chrome%3B108.0.5359.125&amp;uap=Windows&amp;uapv=14.0.0&amp;uaw=0&amp;data=event%3Dform_submit&amp;rfmt=3&amp;fmt=4"></script><script type="text/javascript" async="" src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/11000412613/?random=1672037589444&amp;cv=11&amp;fst=1672037589444&amp;bg=ffffff&amp;guid=ON&amp;async=1&amp;gtm=2oabu0&amp;u_w=1920&amp;u_h=1080&amp;hn=www.googleadservices.com&amp;frm=0&amp;url=https%3A%2F%2Fwww.twayair.com%2Fapp%2Fbooking%2FSSR&amp;tiba=%EC%97%AC%ED%96%89%EB%B3%B4%ED%97%98%20%7C%20%EB%B6%80%EA%B0%80%EC%84%9C%EB%B9%84%EC%8A%A4%20%EC%84%A0%ED%83%9D%20%7C%20%ED%95%AD%EA%B3%B5%EA%B6%8C%20%EC%98%88%EB%A7%A4%20%7C%20%ED%8B%B0%EC%9B%A8%EC%9D%B4%ED%95%AD%EA%B3%B5&amp;auid=994513797.1670405281&amp;uaa=x86&amp;uab=64&amp;uafvl=Not%253FA_Brand%3B8.0.0.0%7CChromium%3B108.0.5359.125%7CGoogle%2520Chrome%3B108.0.5359.125&amp;uap=Windows&amp;uapv=14.0.0&amp;uaw=0&amp;data=event%3Dform_submit&amp;rfmt=3&amp;fmt=4"></script></head>


<body class="booking" style="overflow: visible;">

    <!--// twaygtm > dataForm > gtmDataForm -->
    

<!-- GTM 공통영역 데이터 -->
<input id="gtmCommonData" name="gtmCommonData" type="hidden" value="ZQ2pOiH97Z71h7wyWCT+zA==;2022-12-07;KR_ko-KR;HP;KR_ko-KR">

<!-- Google Tag Manager (noscript) -->
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-TC4XB6D" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


    <!--// twaygtm > dataForm > gtmDataForm -->

    <!-- 본문 바로가기 -->
    <div class="skip_nav" title="스킵메뉴">
        <a href="#content">본문 바로가기</a>
    </div>
    <!--// 본문 바로가기 -->

    <div id="wrap">
        <!--// begin headerFragment -->
        
            
            
            
                <header id="header">
    <div class="header booking">
        <div class="header_inner">
            <!-- Logo -->
            <a href="/app/main">
                <h1 class="top_logo">티웨이 항공</h1>
            </a>
            <!-- 기업우대 -->
            
            <!-- //기업우대 -->
            <!--//  Logo -->

            <script type="text/javascript">

                var menu = [{'delYn':'N','pMenuSeq':1244,'menuSeq':1245,'menuUrl':'/app/booking/searchItinerary','menuTitle':'\uD56D\uACF5\uAD8C \uC608\uB9E4','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1244,'menuSeq':1428,'menuUrl':'/app/promotion/event/being','menuTitle':'\uC774\uBCA4\uD2B8/\uD504\uB85C\uBAA8\uC158','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1244,'menuSeq':1139,'menuUrl':'/app/serviceInfo/feeInfo','menuTitle':'\uC6B4\uC784 \uBC0F \uC218\uC218\uB8CC \uC548\uB0B4','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1014,'metaKeywords':'\uD2F0\uC6E8\uC774\uD56D\uACF5, \uD2F0\uC6E8\uC774, Tway, Tway\uD56D\uACF5, t\uC6E8\uC774\uD56D\uACF5, twayair, \uC608\uC57D\uC870\uD68C, \uC608\uC57D\uD655\uC778, \uC628\uB77C\uC778 \uCCB4\uD06C\uC778, \uD56D\uACF5\uAD8C \uC608\uC57D, \uBAA8\uBC14\uC77C\uCCB4\uD06C\uC778, \uD0A4\uC624\uC2A4\uD06C','menuSeq':1015,'menuUrl':'/app/reservation/reservationList','menuTitle':'\uC608\uC57D \uC870\uD68C','menuDepth':4,'newWindowYn':'N','metaDescription':'\uD56D\uACF5\uAD8C \uC608\uC57D \uC870\uD68C \uBC0F \uC628\uB77C\uC778 \uCCB4\uD06C\uC778\uC744 \uC2E0\uCCAD\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4.'},{'delYn':'N','pMenuSeq':1014,'menuSeq':1065,'menuUrl':'/app/reservation/searchCheckinItinerary','menuTitle':'\uC628\uB77C\uC778 \uCCB4\uD06C\uC778','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1014,'menuSeq':1430,'menuUrl':'/app/reservation/reservationList','menuTitle':'\uBD80\uAC00\uC11C\uBE44\uC2A4 \uCD94\uAC00 \uAD6C\uB9E4','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1009,'menuSeq':1010,'menuUrl':'/app/serviceInfo/contents/1119','menuTitle':'\uC5EC\uD589 \uC900\uBE44','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1010,'menuSeq':1119,'menuUrl':'/app/serviceInfo/contents/1119','menuTitle':'\uD56D\uACF5\uAD8C \uC608\uB9E4 \uC548\uB0B4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1010,'menuSeq':1277,'menuUrl':'/app/serviceInfo/contents/1277','menuTitle':'\uB2E8\uCCB4 \uD56D\uACF5\uAD8C \uC608\uB9E4 \uC548\uB0B4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1010,'menuSeq':1068,'menuUrl':'/app/serviceInfo/familyTravel','menuTitle':'\uAC00\uC871 \uB3D9\uBC18 \uC5EC\uD589','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1010,'menuSeq':1069,'menuUrl':'/app/serviceInfo/contents/1069','menuTitle':'\uB3C4\uC6C0\uC774 \uD544\uC694\uD55C \uACE0\uAC1D','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1010,'menuSeq':1070,'menuUrl':'/app/serviceInfo/contents/1070','menuTitle':'t\u2019pet(\uBC18\uB824\uB3D9\uBB3C \uB3D9\uBC18 \uC5EC\uD589)','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1010,'menuSeq':1429,'menuUrl':'/app/serviceInfo/contents/1069','menuTitle':'\uD63C\uC790 \uC5EC\uD589\uD558\uB294 \uC5B4\uB9B0\uC774','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1010,'menuSeq':1444,'menuUrl':'/app/serviceInfo/contents/1444','menuTitle':'\uD2F0\uC6E8\uC774\uD398\uC774','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1010,'menuSeq':1322,'menuUrl':'/app/serviceInfo/contents/1322','menuTitle':'\uD56D\uACF5\uAE30 \uC815\uBCF4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1009,'menuSeq':1125,'menuUrl':'/app/serviceInfo/flightSchedule','menuTitle':'\uD56D\uACF5\uD3B8 \uBC0F \uACF5\uD56D \uC815\uBCF4','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1125,'menuSeq':1126,'menuUrl':'/app/serviceInfo/flightSchedule','menuTitle':'\uC6B4\uD56D\uC2A4\uCF00\uC904 \uC870\uD68C','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1125,'menuSeq':1127,'menuUrl':'/app/serviceInfo/flightStatus','menuTitle':'\uCD9C/\uB3C4\uCC29 \uC870\uD68C','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1125,'menuSeq':1129,'menuUrl':'/app/serviceInfo/contents/1129','menuTitle':'\uC140\uD504 \uCCB4\uD06C\uC778 \uC548\uB0B4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1125,'menuSeq':1121,'menuUrl':'/app/serviceInfo/contents/1121','menuTitle':'\uC628\uB77C\uC778 \uCCB4\uD06C\uC778 \uC548\uB0B4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1125,'menuSeq':1130,'menuUrl':'/app/serviceInfo/contents/1130','menuTitle':'\uD0D1\uC2B9 \uC218\uC18D \uC548\uB0B4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1125,'menuSeq':1135,'menuUrl':'/app/serviceInfo/airportCounter','menuTitle':'\uACF5\uD56D \uCE74\uC6B4\uD130 \uC815\uBCF4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1125,'menuSeq':1450,'menuUrl':'/app/serviceInfo/contents/1450','menuTitle':'\uCF54\uB85C\uB098 19 \uC885\uD569 \uC548\uB0B4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1009,'menuSeq':1152,'menuUrl':'/app/serviceInfo/ancBund','menuTitle':'\uBD80\uAC00\uC11C\uBE44\uC2A4','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1152,'menuSeq':1153,'menuUrl':'/app/serviceInfo/ancBund','menuTitle':'\uBD80\uAC00\uC11C\uBE44\uC2A4 \uBC88\uB4E4 \uAD6C\uB9E4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1152,'menuSeq':1154,'menuUrl':'/app/serviceInfo/wantedSeat','menuTitle':'\uC0AC\uC804\uC88C\uC11D \uAD6C\uB9E4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1154,'menuSeq':1155,'menuUrl':'/app/serviceInfo/wantedSeat','menuTitle':'\uC0AC\uC804\uC88C\uC11D \uAD6C\uB9E4','menuDepth':6,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1152,'menuSeq':1159,'menuUrl':'/app/serviceInfo/luggageAmtCal','menuTitle':'\uC218\uD558\uBB3C \uCD94\uAC00 \uAD6C\uB9E4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1152,'menuSeq':1160,'menuUrl':'/app/serviceInfo/mealInfo','menuTitle':'\uAE30\uB0B4\uC2DD \uC0AC\uC804 \uC8FC\uBB38','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1160,'menuSeq':1161,'menuUrl':'/app/serviceInfo/mealInfo','menuTitle':'\uAE30\uB0B4\uC2DD \uC0AC\uC804 \uC8FC\uBB38','menuDepth':6,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1152,'menuSeq':1431,'menuUrl':'/app/serviceInfo/contents/1431','menuTitle':'\uACB0\uC81C\uC2DC\uD55C\uC5F0\uC7A5 \uC11C\uBE44\uC2A4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1152,'menuSeq':1163,'menuUrl':'/app/serviceInfo/contents/1163','menuTitle':'\uC606\uC88C\uC11D \uAD6C\uB9E4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1152,'menuSeq':1165,'menuUrl':'/app/serviceInfo/contents/1165','menuTitle':'t\'carrier(\uD3AB \uC6B4\uC1A1\uC6A9\uAE30)/\uD3EC\uC7A5\uC6A9 \uBE44\uB2D0 \uAD6C\uB9E4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1152,'menuSeq':1316,'menuUrl':'/app/serviceInfo/contents/1316','menuTitle':'t\u2019care \uC11C\uBE44\uC2A4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1152,'menuSeq':1353,'menuUrl':'/app/affiliate/insurance','menuTitle':'\uC6D0\uD074\uB9AD \uC5EC\uD589\uC790\uBCF4\uD5D8','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1009,'menuSeq':1147,'menuUrl':'/app/serviceInfo/contents/1148','menuTitle':'\uC218\uD558\uBB3C \uC548\uB0B4','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1147,'menuSeq':1148,'menuUrl':'/app/serviceInfo/contents/1148','menuTitle':'\uBB34\uB8CC \uC218\uD558\uBB3C','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1147,'menuSeq':1459,'menuUrl':'/app/serviceInfo/luggageAmtCal','menuTitle':'\uCD08\uACFC \uC218\uD558\uBB3C','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1147,'menuSeq':1149,'menuUrl':'/app/serviceInfo/contents/1149','menuTitle':'\uD2B9\uC218 \uC218\uD558\uBB3C','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1147,'menuSeq':1150,'menuUrl':'/app/serviceInfo/contents/1150','menuTitle':'\uC6B4\uC1A1 \uC81C\uD55C \uBB3C\uD488','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1147,'menuSeq':1151,'menuUrl':'/app/serviceInfo/contents/1151','menuTitle':'\uC218\uD558\uBB3C \uBC30\uC0C1','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1009,'menuSeq':1140,'menuUrl':'/app/serviceInfo/contents/1141','menuTitle':'\uAE30\uB0B4 \uC11C\uBE44\uC2A4','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1140,'menuSeq':1141,'menuUrl':'/app/serviceInfo/contents/1141','menuTitle':'\uAE30\uB0B4 \uC81C\uACF5 \uC11C\uBE44\uC2A4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1140,'menuSeq':1142,'menuUrl':'/app/serviceInfo/contents/1142','menuTitle':'t\u2019shop','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1140,'menuSeq':1145,'menuUrl':'/app/serviceInfo/contents/1145','menuTitle':'\uAE30\uB0B4 \uBA74\uC138\uD488 \uC608\uC57D \uBC0F \uAD6C\uB9E4 \uC548\uB0B4','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1140,'menuSeq':1227,'menuUrl':'/app/board/inflightEvent','menuTitle':'\uAE30\uB0B4 \uC774\uBCA4\uD2B8','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1009,'menuSeq':1463,'menuUrl':'/app/serviceInfo/contents/1464','menuTitle':'\uD558\uB298 \uB098\uB294 \uD53C\uCE74\uCE04 \uD504\uB85C\uC81D\uD2B8','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1463,'menuSeq':1464,'menuUrl':'/app/serviceInfo/contents/1464','menuTitle':'\uD504\uB85C\uC81D\uD2B8 \uC18C\uAC1C','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1463,'menuSeq':1465,'menuUrl':'/app/serviceInfo/specialFlightSchedule','menuTitle':'\uC6B4\uD56D\uC2A4\uCF00\uC904','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1400,'menuSeq':1411,'menuUrl':'/app/dutyFree/productList/A','menuTitle':'\uCE74\uD14C\uACE0\uB9AC','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1411,'menuSeq':1421,'menuUrl':'/app/dutyFree/productList/A','menuTitle':'\uC8FC\uB958','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1411,'menuSeq':1422,'menuUrl':'/app/dutyFree/productList/Z','menuTitle':'\uD654\uC7A5\uD488 & \uD5A5\uC218','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1411,'menuSeq':1423,'menuUrl':'/app/dutyFree/productList/Y','menuTitle':'\uC96C\uC5BC\uB9AC & \uC120\uBB3C\uC6A9\uD488','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1411,'menuSeq':1425,'menuUrl':'/app/dutyFree/productList/H','menuTitle':'\uAC74\uAC15\uC81C\uD488\uB958','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1400,'menuSeq':1413,'menuUrl':'/app/dutyFree/orderList','menuTitle':'\uB098\uC758 \uC8FC\uBB38','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1413,'menuSeq':1426,'menuUrl':'/app/dutyFree/orderList','menuTitle':'\uC8FC\uBB38 \uC870\uD68C','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1400,'menuSeq':1405,'menuUrl':'/app/dutyFree/event/being','menuTitle':'\uC774\uBCA4\uD2B8','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1400,'menuSeq':1401,'menuUrl':'/app/dutyFree/notice','menuTitle':'\uACF5\uC9C0\uC0AC\uD56D','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1400,'menuSeq':1408,'menuUrl':'/app/dutyFree/contents/1409','menuTitle':'\uC774\uC6A9 \uC548\uB0B4','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1408,'menuSeq':1432,'menuUrl':'https://www.twayair.com/app/customerCenter/faq?priCategoryId=F0900','menuTitle':'FAQ','menuDepth':5,'newWindowYn':'Y'},{'delYn':'N','pMenuSeq':1223,'menuSeq':1224,'menuUrl':'/app/promotion/event/being','menuTitle':'\uC774\uBCA4\uD2B8/\uD504\uB85C\uBAA8\uC158','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1224,'menuSeq':1225,'menuUrl':'','menuTitle':'\uC0C1\uC138','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1223,'menuSeq':1233,'menuUrl':'/app/promotion/coupon','menuTitle':'\uCFE0\uD3F0','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1233,'metaKeywords':'\uD2F0\uC6E8\uC774\uD56D\uACF5, \uD2F0\uC6E8\uC774, Tway, Tway\uD56D\uACF5, t\uC6E8\uC774\uD56D\uACF5, twayair, \uCFE0\uD3F0, \uD504\uB85C\uBAA8\uC158, \uC774\uBCA4\uD2B8, \uD560\uC778\uCFE0\uD3F0, \uBD80\uAC00\uC11C\uBE44\uC2A4, \uC218\uD558\uBB3C, \uAE30\uB0B4\uC2DD','menuSeq':1250,'menuUrl':'/app/promotion/coupon/guide','menuTitle':'\uCFE0\uD3F0 \uC548\uB0B4','menuDepth':5,'newWindowYn':'N','metaDescription':'\uD56D\uACF5\uAD8C \uD560\uC778\uCFE0\uD3F0, \uBD80\uAC00\uC11C\uBE44\uC2A4 \uCFE0\uD3F0 \uB4F1 \uC0C1\uC2DC \uC81C\uACF5\uB429\uB2C8\uB2E4.'},{'delYn':'N','pMenuSeq':1233,'menuSeq':1251,'menuUrl':'/app/promotion/coupon','menuTitle':'\uCFE0\uD3F0\uBD81','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1092,'menuSeq':1094,'menuUrl':'/app/customerCenter','menuTitle':'\uACE0\uAC1D\uC13C\uD130','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1094,'menuSeq':1114,'menuUrl':'/app/customerCenter/notice','menuTitle':'\uACF5\uC9C0\uC0AC\uD56D','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1094,'menuSeq':1174,'menuUrl':'/app/customerCenter/lost','menuTitle':'\uC720\uC2E4\uBB3C \uC13C\uD130','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1094,'menuSeq':1096,'menuUrl':'/app/customerCenter/inquiry','menuTitle':'\uACE0\uAC1D\uC758 \uB9D0\uC500','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1094,'menuSeq':1103,'menuUrl':'/app/customerCenter/cooperate','menuTitle':'\uC81C\uD734 \uBB38\uC758','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1103,'menuSeq':1104,'menuUrl':'/app/customerCenter/cooperate','menuTitle':'\uB4F1\uB85D','menuDepth':6,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1103,'menuSeq':1113,'menuUrl':'app/cscenter/partnership/complete','menuTitle':'\uC811\uC218\uC644\uB8CC','menuDepth':6,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1094,'menuSeq':1095,'menuUrl':'/app/customerCenter/faq','menuTitle':'FAQ','menuDepth':5,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1095,'menuSeq':1101,'menuUrl':'/app/customerCenter/faq','menuTitle':'\uBAA9\uB85D','menuDepth':6,'newWindowYn':'Y'},{'delYn':'N','pMenuSeq':1092,'menuSeq':1178,'menuUrl':'/app/customerCenter/dataform','menuTitle':'\uC11C\uC2DD \uC790\uB8CC\uC2E4','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1092,'menuSeq':1179,'menuUrl':'/app/board/regulation','menuTitle':'\uC11C\uBE44\uC2A4 \uC774\uC6A9 \uC57D\uAD00','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1445,'menuSeq':1456,'menuUrl':'/app/allianceCompany/HOTL','menuTitle':'\uD638\uD154','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1445,'menuSeq':1457,'menuUrl':'/app/allianceCompany/RENT','menuTitle':'\uB80C\uD130\uCE74','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1445,'menuSeq':1449,'menuUrl':'/app/allianceCompany/FNNC','menuTitle':'\uAE08\uC735 \uBC0F \uC5EC\uD589\uC790\uBCF4\uD5D8','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1445,'menuSeq':1448,'menuUrl':'/app/allianceCompany/SHPN','menuTitle':'\uC1FC\uD551 \uBC0F \uD3B8\uC758','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1445,'menuSeq':1454,'menuUrl':'/app/allianceCompany/ACTY','menuTitle':'\uC561\uD2F0\uBE44\uD2F0','menuDepth':4,'newWindowYn':'N'},{'delYn':'N','pMenuSeq':1445,'menuSeq':1455,'menuUrl':'/app/allianceCompany/WIFI','menuTitle':'OTT & WIFI','menuDepth':4,'newWindowYn':'N'}];
                /**
                 * GNB 및 좌측 FullMenu tree 메뉴 구성
                 */
                $(document).ready(function(){
                    //header_fixed();
                    /**
                     * GNB
                     */
                    $.each(menu, function(index, m){
                        // 2depth
                        if(m.menuDepth == 4){
                            var parent = $('.dep1_'+m.pMenuSeq+' .dep2 ul');
                            if(m.delYn == 'N') {
                                parent.append(
                                    '<li id="gnb_'+m.menuSeq+'" class="gnb2depth dep2_'+m.menuSeq+'" data-pMenuSeq="'+m.pMenuSeq+'" data-menuurl="'+m.menuUrl+'" data-new-window-yn="' + m.newWindowYn+'" data-del-yn="' + m.delYn + '">' +
                                        '<a href="#none"><strong>'+m.menuTitle+'</strong></a>'+
                                    '</li>'
                                );
                            }
                        }
                        // 3depth
                        else if(m.menuDepth == 5){
                            if(m.delYn == 'N') {
                                $('.dep2_'+m.pMenuSeq).append('<a href="javascript:gnbCall(\''+m.menuUrl+'\', \'' + m.newWindowYn + '\');" id="gnb_'+m.menuSeq+'" data-pMenuSeq="'+m.pMenuSeq+'" class="gnb3depth" data-new-window-yn="' + m.newWindowYn+'" data-del-yn="'+m.delYn+'"><span>'+m.menuTitle+'</span></a>');
                            }
                        }
                    });

                    // 3depth 가 없는 2depth 메뉴의 class 추가 및 anchor 추가
                    $.each($('.gnb2depth'), function(index,el){
                        if($(el).find('.gnb3depth').length==0){
                            $(el).addClass('last_depth');
                            $(el).bind('click',function(){
                                gnbCall($(el).data('menuurl'), $(el).data('newWindowYn'));
                            });
                        }
                    });

                    //gnb - 2dept가 4개 초과면 customer 클래스 추가
                    $.each($('.gnb1depth'), function(index,el){
                        if($(el).find('.gnb2depth').length > 4){
                            $(el).find('.dep2').addClass('customer');
                        }
                    });
                    //전체메뉴 - 2dept가 4개 초과면 customer 클래스 추가
                    $.each($('.section_menu'), function(index,el){
                        if($(el).find('.gnb2depth').length > 4){
                            $(el).find('.menu_list').addClass('customer');
                        }
                    });
                });

                /**
                 * GNB 통한 메뉴 이동 요청 처리
                 * @param url
                 */
                var gnbCall = function(url, newWindowYn) {
                    // 고객 문의 비회원 진입시 알럿
                     if('customer' == 'guestCustomer' && url == "/app/customerCenter/inquiry") {
                         alert('\uACE0\uAC1D \uBB38\uC758\uB294 \uD68C\uC6D0 \uC804\uC6A9 \uC11C\uBE44\uC2A4\uC785\uB2C8\uB2E4. \uD68C\uC6D0 \uB85C\uADF8\uC778 \uD6C4 \uB2E4\uC2DC \uC774\uC6A9\uD574 \uC8FC\uC2DC\uAE30 \uBC14\uB78D\uB2C8\uB2E4.');
                     } else {
                        $('#getForm').attr('action',url).attr('target', (newWindowYn == 'Y' ? '_blank' : '_top')).submit();
                     }
                };

                /**
                 * 현재 선택된 GNB 메뉴 및 좌측 Full Menu의 상위메뉴 영역을 활성화시키는 함수
                 * @param menuSeq
                 */
                var activeMenuSeq = 1254;

                $(document).ready(function(){
                    if(activeMenuSeq == 0){
                        console.error('controller에서 "activeMenuSeq" 값을 지정해주세요.');
                        // activeMenuSeq = 128;
                    }

                    gnbActiviation(activeMenuSeq);
                });

                var gnbActiviation = function(menuSeq){

                    /**
                     * GNB
                     */
                    if($('#gnb_'+menuSeq).length == 0){
                        console.error('지정한 menuSeq 존재하지 않음');
                    }
                    else{
                        var menu = $('#gnb_'+menuSeq);

                        if(menu.hasClass('gnb3depth')){
                            menu.addClass('on');
                            var parent = menu.parents('.gnb2depth');
                            parent.addClass('on');
                            menu = parent;
                        }

                        // 2depth 이상 공통 처리
                        menu.addClass('on');
//                          $('.dep1'+ menu.data('pmenuseq')).addClass('on');
//                          $('.dep2'+ menu.data('pmenuseq')).addClass('on');
                        $('.allmenu .dep1 li:first-child').removeClass('on');
                         $('.allmenu .dep1 #allmenu_'+ menu.data('pmenuseq')).addClass('on'); //전체메뉴 상단

                    }
                };
                /**
                 * 호출된 레이어에서 사용자 요청에 의해 프로세스 중단(창닫기)시 부모페이어를 재호출
                 */
                var callBackOpener = function(hideLayerName){
                    $('#'+hideLayerName).remove();
                };
            </script>

            <script type="text/javascript">
                $(document).ready(function() {
                    isLoginChk();
                });
                var isLoginChk = function() {
                    $.ajax({
                        url : "/ajax/login/loginStatus" // ajax url
                        , async: true // 동기(false):비동기(true)
                        , type : 'get'
                        , success : function(data){
                            if(data != '' && data.length > 0) {
                                $('.util_menu .btn_login').addClass('on');
                                $('.util_menu .btn_login').attr('href', 'javascript:logoutLayer();');
                                $('.util_menu .btn_login').text("로그인 상태 상세보기");
                            }
                        }
                    });
                }
            </script>

            <script type="text/javascript">
                ///////////// BEGIN - summary 영역 공통 function script /////////////////
                $(function(){
                    // 서머리 탑승객 아코디언
                    $.fn.summaryPaxList = function() {
                        $(this).find('.passenger_list a.title').on('click', function (e) {
                            e.preventDefault();

                            function slideDown(target) {
                                slideUp();
                                $(target).addClass('on').next().slideDown(100);
                            }

                            function slideUp() {
                                $('.passenger_list a.title').removeClass('on').next().slideUp(100);
                            }

                            $(this).hasClass('on') ? slideUp(100) : slideDown(this);
                        });
                    };

                    //레이어 버튼 포커스 추가
                    $('button.sbtn_cont').on('click', function(){
                        $(this).addClass('focus');
                    });

                    $(".agreePetcRule").on('click', function(){
                        $(this).addClass('focus');
                    });

                    // summary 영억 내 첫번째 구간 정보 표시
                    $('#summary_default').find('div.tab_wrap').find('ul.tab').find('li').eq(0).find('a').click();
                });
                ///////////// END - summary 영역 공통 function script /////////////////
            </script>

            <!-- Header Menu -->
            <div class="util_wrap">
                <!-- 언어 선택 -->
                <div class="sel_lang_wrap">
                    <ul>
                        <li>
                            <a href="#none" id="gnbRegion" onclick="javascript:gateLayer(this);">한국</a>
                        </li>
                        <li>
                            <a href="#none" id="gnbLanguage" onclick="javascript:gateLayer(this);">한국어</a>
                        </li>
                    </ul>
                </div>
                <!-- 언어 선택 -->
                <!-- 유틸 메뉴 -->
                <div class="util_menu">
                    <!-- 로그인 on / off 클래스 변경 -->
                    <!-- date-id layer_main1 / layer_main2 변경 -->
                    <a class="btn_login on" href="javascript:logoutLayer();">로그인 상태 상세보기</a>
                    <a class="btn_search" href="#none">검색</a>
                    <a class="btn_allmenu" href="#none">전체메뉴</a>
                    <!--// 로그인 전 -->

                    <!-- 검색 레이어 -->
                    <div class="layer_search">
                        <div class="cbox" style="display:none;">
                            <div class="input_wrap">
                                <span class="inline">
                                    <input checked="checked" id="checkbox_homepage" name="systemDivCheck" type="radio" value="homepage">
                                    <label class="mr15" for="checkbox_homepage"><span class="icon"></span>홈페이지 컨텐츠</label>
                                </span>
                                
                                    <span class="inline">
                                        <input id="checkbox_dutyfree" name="systemDivCheck" type="radio" value="dutyfree">
                                        <label class="mr15" for="checkbox_dutyfree"><span class="icon"></span>온라인면세점</label>
                                    </span>
                                
                            </div>
                        </div>
                        <span class="select disabled" id="dutyFreeCategorySelect" style="display: none;">
                            <select class="disabled" id="sectionDivisionCode" title="검색할 분류를 선택해주세요">
                                <option value="">전체</option>
                                <option value="DA">주류</option>
                                <option value="DH">건강제품</option>
                                <option value="DY">쥬얼리, 선물용품</option>
                                <option value="DZ">화장품 &amp; 향수</option>
                            </select>
                        </span>
                        <span>
                            <input class="w300" id="gnbKeywordSearch" name="keyword" onkeyup="checkBytes(this, 100);" type="text" placeholder="검색어를 입력하세요." title="검색어를 입력하세요.">
                            <button class="btn_small gray2 totalSearch" type="button">검색</button>
                            <a class="btn_search_close" href="#none">닫기</a>
                        </span>
                    </div>
                    <!--// 검색 레이어 -->
                </div>
                <!-- 유틸 메뉴 -->
            </div>
            <!--// Header Menu -->
        </div>
    </div>
</header>
            
            
            
        
        
        
        <!--// end headerFragment -->

        <!--// begin content -->
        


<!-- Contnent -->
<div id="container">

    
    <div class="segmentInfo debug" style="display: none;" data-flightsegmentgroupid="502" data-segmentid="500" data-routenum="1"></div>

    
    <div class="segmentInfo debug" style="display: none;" data-flightsegmentgroupid="503" data-segmentid="501" data-routenum="2"></div>

    <div class="content" id="content">
        <!-- 컨텐츠 영역 -->

        <!-- Title & Step -->
        <div class="tit_booking_wrap">
            <h2 class="pg_tit">항공권 예매</h2>
            <div class="step_booking">
                <ol>
                    <li class="step01 on">
                        <span class="text_step">01</span>
                    </li>
                    <li class="step02 on">
                        <span class="text_step">02</span>
                    </li>
                    <li class="step03 on">
                        <span class="blind">현재페이지</span>
                        <span class="text_step">03 부가서비스</span>
                    </li>
                    <li class="step04">
                        <span class="text_step">04</span>
                    </li>
                    <li class="step05">
                        <span class="text_step">05</span>
                    </li>
                    <li class="step06">
                        <span class="text_step">06</span>
                    </li>
                </ol>
            </div>
        </div>
        <!-- Title & Step -->

        <!-- 부가서비스 선택 -->
        <div class="sel_service_section">
            <!-- 구간선택 -->
            <div class="service_section_wrap service_section_wrap--simple">
                <!-- 구간선택 슬라이드 -->
                <div class="service_section_slide swiper-container swiper-container-horizontal swiper-no-swiping">
                    <ul class="swiper-wrapper swiper-no-swiping" id="routeSlider" style="transition-duration: 0ms; transform: translate3d(0px, 0px, 0px);"><li class="swiper-slide swiper-slide-duplicate swiper-slide-active" id="route_1" data-swiper-slide-index="0">
                                <!-- 구간선택 박스 -->
                                <div class="service_section_box">
                                    <!-- 구간 -->
                                    <span class="bul_section">구간1</span>
                                    <!--// 구간 -->
                                    <!-- 출발 -->
                                    <div class="service_name first">
                                        <strong class="tit airport departure">ICN</strong>
                                        <span class="addition">서울/인천</span>
                                    </div>
                                    <!-- 출발 -->
                                    <!-- 설명 -->
                                    <div class="service_exp route_plain_info">
                                        <p class="top fltNumber">TW501</p>
                                        <p class="bttm departureDate">2022-12-26(월)</p>
                                    </div>
                                    <!--// 설명 -->
                                    <!-- 도착 -->
                                    <div class="service_name last">
                                        <strong class="tit airport arrival">SYD</strong>
                                        <span class="addition">시드니</span>
                                    </div>
                                    <!-- 도착 -->
                                </div>
                                <!--// 구간선택 박스 -->
                            </li><li class="swiper-slide swiper-slide-duplicate swiper-slide-next" id="route_2" data-swiper-slide-index="1">
                                <!-- 구간선택 박스 -->
                                <div class="service_section_box">
                                    <!-- 구간 -->
                                    <span class="bul_section">구간2</span>
                                    <!--// 구간 -->
                                    <!-- 출발 -->
                                    <div class="service_name first">
                                        <strong class="tit airport departure">SYD</strong>
                                        <span class="addition">시드니</span>
                                    </div>
                                    <!-- 출발 -->
                                    <!-- 설명 -->
                                    <div class="service_exp route_plain_info">
                                        <p class="top fltNumber">TW502</p>
                                        <p class="bttm departureDate">2023-01-15(일)</p>
                                    </div>
                                    <!--// 설명 -->
                                    <!-- 도착 -->
                                    <div class="service_name last">
                                        <strong class="tit airport arrival">ICN</strong>
                                        <span class="addition">서울/인천</span>
                                    </div>
                                    <!-- 도착 -->
                                </div>
                                <!--// 구간선택 박스 -->
                            </li>
                        
                        

                            <li class="swiper-slide swiper-slide-duplicate-active" id="route_1" data-swiper-slide-index="0">
                                <!-- 구간선택 박스 -->
                                <div class="service_section_box">
                                    <!-- 구간 -->
                                    <span class="bul_section">구간1</span>
                                    <!--// 구간 -->
                                    <!-- 출발 -->
                                    <div class="service_name first">
                                        <strong class="tit airport departure">ICN</strong>
                                        <span class="addition">서울/인천</span>
                                    </div>
                                    <!-- 출발 -->
                                    <!-- 설명 -->
                                    <div class="service_exp route_plain_info">
                                        <p class="top fltNumber">TW501</p>
                                        <p class="bttm departureDate">2022-12-26(월)</p>
                                    </div>
                                    <!--// 설명 -->
                                    <!-- 도착 -->
                                    <div class="service_name last">
                                        <strong class="tit airport arrival">SYD</strong>
                                        <span class="addition">시드니</span>
                                    </div>
                                    <!-- 도착 -->
                                </div>
                                <!--// 구간선택 박스 -->
                            </li>

                        
                        
                        

                            <li class="swiper-slide swiper-slide-duplicate-next swiper-slide-duplicate-prev" id="route_2" data-swiper-slide-index="1">
                                <!-- 구간선택 박스 -->
                                <div class="service_section_box">
                                    <!-- 구간 -->
                                    <span class="bul_section">구간2</span>
                                    <!--// 구간 -->
                                    <!-- 출발 -->
                                    <div class="service_name first">
                                        <strong class="tit airport departure">SYD</strong>
                                        <span class="addition">시드니</span>
                                    </div>
                                    <!-- 출발 -->
                                    <!-- 설명 -->
                                    <div class="service_exp route_plain_info">
                                        <p class="top fltNumber">TW502</p>
                                        <p class="bttm departureDate">2023-01-15(일)</p>
                                    </div>
                                    <!--// 설명 -->
                                    <!-- 도착 -->
                                    <div class="service_name last">
                                        <strong class="tit airport arrival">ICN</strong>
                                        <span class="addition">서울/인천</span>
                                    </div>
                                    <!-- 도착 -->
                                </div>
                                <!--// 구간선택 박스 -->
                            </li>

                        
                    <li class="swiper-slide swiper-slide-duplicate" id="route_1" data-swiper-slide-index="0">
                                <!-- 구간선택 박스 -->
                                <div class="service_section_box">
                                    <!-- 구간 -->
                                    <span class="bul_section">구간1</span>
                                    <!--// 구간 -->
                                    <!-- 출발 -->
                                    <div class="service_name first">
                                        <strong class="tit airport departure">ICN</strong>
                                        <span class="addition">서울/인천</span>
                                    </div>
                                    <!-- 출발 -->
                                    <!-- 설명 -->
                                    <div class="service_exp route_plain_info">
                                        <p class="top fltNumber">TW501</p>
                                        <p class="bttm departureDate">2022-12-26(월)</p>
                                    </div>
                                    <!--// 설명 -->
                                    <!-- 도착 -->
                                    <div class="service_name last">
                                        <strong class="tit airport arrival">SYD</strong>
                                        <span class="addition">시드니</span>
                                    </div>
                                    <!-- 도착 -->
                                </div>
                                <!--// 구간선택 박스 -->
                            </li><li class="swiper-slide swiper-slide-duplicate swiper-slide-prev" id="route_2" data-swiper-slide-index="1">
                                <!-- 구간선택 박스 -->
                                <div class="service_section_box">
                                    <!-- 구간 -->
                                    <span class="bul_section">구간2</span>
                                    <!--// 구간 -->
                                    <!-- 출발 -->
                                    <div class="service_name first">
                                        <strong class="tit airport departure">SYD</strong>
                                        <span class="addition">시드니</span>
                                    </div>
                                    <!-- 출발 -->
                                    <!-- 설명 -->
                                    <div class="service_exp route_plain_info">
                                        <p class="top fltNumber">TW502</p>
                                        <p class="bttm departureDate">2023-01-15(일)</p>
                                    </div>
                                    <!--// 설명 -->
                                    <!-- 도착 -->
                                    <div class="service_name last">
                                        <strong class="tit airport arrival">ICN</strong>
                                        <span class="addition">서울/인천</span>
                                    </div>
                                    <!-- 도착 -->
                                </div>
                                <!--// 구간선택 박스 -->
                            </li></ul>
                    <!-- <div class="swiper-pagination"></div> -->
                <span class="swiper-notification" aria-live="assertive" aria-atomic="true" style="display: none;"></span></div>
                <!--// 구간선택 슬라이드 -->

                <!-- 여정 재검색 -->
                <div class="btn_refresh">
                    <button class="btn_small refresh red">여정 재검색</button>
                </div>
                <!--// 여정 재검색 -->

                <!-- 슬라이드 버튼 -->
                <a class="btn_slide_prev" href="#none" tabindex="0" role="button" aria-label="Previous slide" style="display: none;">이전</a>
                <a class="btn_slide_next" href="#none" tabindex="0" role="button" aria-label="Next slide" style="display: none;">다음</a>
                <!--// 슬라이드 버튼 -->

                <!-- 구간 더보기 -->
                <div class="swiper-pagination-wrapper" style="display: none;">
                    <div class="swiper-pagination swiper-pagination-clickable swiper-pagination-bullets"><span class="swiper-pagination-bullet swiper-pagination-bullet-active" tabindex="0" role="button" aria-label="Go to slide 1"></span><span class="swiper-pagination-bullet" tabindex="0" role="button" aria-label="Go to slide 2"></span></div>
                    <a class="btn_section_more" href="#none">더보기</a>
                </div>
                <!--// 구간 더보기 -->

                <!-- 구간 더보기 Layer -->
                <div class="layer_section_list">
                    <ul>
                        <!-- loop -->
                        
                            <li style="cursor: pointer;" id="box_route_1">
                                <a href="#" onclick="routeSlider.slideTo(0,400,false); $(this).parents('div.layer_section_list').find('a.btn_close').click();">
                                    <!-- 구간선택 박스 -->
                                    <div class="service_section_box">
                                        <!-- 구간 -->
                                        <span class="bul_section">구간1</span>
                                        <!--// 구간 -->

                                        <!-- 출발 -->
                                        <div class="service_name first">
                                            <strong class="tit airport departure">ICN</strong>
                                            <span class="addition">서울/인천</span>
                                        </div>
                                        <!-- 출발 -->

                                        <!-- 설명 -->
                                        <div class="service_exp route_plain_info">
                                            <p class="top fltNumber">TW501</p>
                                            <p class="bttm departureDate">2022-12-26(월)</p>
                                        </div>
                                        <!--// 설명 -->

                                        <!-- 도착 -->
                                        <div class="service_name last">
                                            <strong class="tit airport arrival">SYD</strong>
                                            <span class="addition">시드니</span>
                                        </div>
                                        <!-- 도착 -->
                                    </div>
                                    <!--// 구간선택 박스 -->
                                </a>
                            </li>
                        
                        
                            <li style="cursor: pointer;" id="box_route_2">
                                <a href="#" onclick="routeSlider.slideTo(1,400,false); $(this).parents('div.layer_section_list').find('a.btn_close').click();">
                                    <!-- 구간선택 박스 -->
                                    <div class="service_section_box">
                                        <!-- 구간 -->
                                        <span class="bul_section">구간2</span>
                                        <!--// 구간 -->

                                        <!-- 출발 -->
                                        <div class="service_name first">
                                            <strong class="tit airport departure">SYD</strong>
                                            <span class="addition">시드니</span>
                                        </div>
                                        <!-- 출발 -->

                                        <!-- 설명 -->
                                        <div class="service_exp route_plain_info">
                                            <p class="top fltNumber">TW502</p>
                                            <p class="bttm departureDate">2023-01-15(일)</p>
                                        </div>
                                        <!--// 설명 -->

                                        <!-- 도착 -->
                                        <div class="service_name last">
                                            <strong class="tit airport arrival">ICN</strong>
                                            <span class="addition">서울/인천</span>
                                        </div>
                                        <!-- 도착 -->
                                    </div>
                                    <!--// 구간선택 박스 -->
                                </a>
                            </li>
                        
                        <!-- // loop -->
                    </ul>
                    <a class="btn_close" href="#none">닫기</a>
                </div>
                <!-- 구간 리스트 Layer -->
            </div>
            <!--// 구간선택 -->
        </div>
        <!--// 부가서비스 선택 -->

        <!-- 탑승자 선택 -->
        <div class="tab_wrap">
            <ul class="tab mt20 added4" id="tab_ancillary">
                <li id="tab_ancillary_seat" class=""><a href="#tab_seat" onclick="seatAvailability();" title="">좌석</a></li>
                <li id="tab_ancillary_baggage"><a href="#tab_baggage" onclick="baggageAvailability();" title="">수하물</a></li>
                <li id="tab_ancillary_meal"><a href="#tab_meal" onclick="mealAvailability();" title="">기내식</a></li>
                <li id="tab_ancillary_insurance" class="on"><a href="#tab_insurance" onclick="insuranceAvailability();" title="선택됨">여행보험</a></li>
            </ul>
            <div class="sel_passenger_wrap mt20" style="display: none;">
                <!-- 탑승자 선택 슬라이드 -->
                <div class="sel_passenger_slide swiper-container swiper-container-horizontal swiper-no-swiping">
                    <ul class="swiper-wrapper swiper-no-swiping" style="transition-duration: 0ms; transform: translate3d(240px, 0px, 0px);">
                        
                            
                            
                                <li class="swiper-slide swiper-slide-prev" data-passengernumber="302996389" title="탑승객 선택됨" style="width: 240px;">
                                    <div class="sel_passenger_box">
                                        <i class="num">1</i>
                                        <div class="name ADULT_M">
                                            <div class="pet" style="display: none;">
                                                <p class="petc"><span class="blind">반려동물동반탑승</span></p>
                                            </div>
                                            <p class="first">KIM</p>
                                            <p class="last">SEONKYOUNG</p>
                                        </div>
                                        <div class="add_service">
                                            <p class="add_service">
                                                <!-- 티웨이플러스 로고 -->
                                                <span class="logo_twayplus" style="display: none;"><img alt="티웨이플러스" src="https://contents-image.twayair.com/homepage/images/ico/ico_twayPlus4.png"></span>
                                                <!-- // 티웨이플러스 로고 -->
                                                <span class="sel_print ico_add_bus"></span>
                                                <span class="ico"><p>1E</p></span>
                                                <a class="btn_del" href="#none" onclick="cancelSelectedSsr(this);" style="display: none;">삭제</a>
                                                <span class="ico_add_petc"></span>
                                            </p>
                                            <p class="add_price" style="display: none;">
                                                <span class="currency">KRW</span>
                                                <span class="price"></span>
                                            </p>
                                        </div>
                                    </div>
                                </li>
                            
                        
                        
                            
                            
                                <li class="swiper-slide swiper-slide-active" data-passengernumber="302996390" style="width: 240px;">
                                    <div class="sel_passenger_box">
                                        <i class="num">2</i>
                                        <div class="name ADULT_M">
                                            <div class="pet" style="display: none;">
                                                <p class="petc"><span class="blind">반려동물동반탑승</span></p>
                                            </div>
                                            <p class="first">KIM</p>
                                            <p class="last">SEON</p>
                                        </div>
                                        <div class="add_service">
                                            <p class="add_service">
                                                <!-- 티웨이플러스 로고 -->
                                                <span class="logo_twayplus" style="display: none;"><img alt="티웨이플러스" src="https://contents-image.twayair.com/homepage/images/ico/ico_twayPlus4.png"></span>
                                                <!-- // 티웨이플러스 로고 -->
                                                <span class="sel_print ico_add_bus"></span>
                                                <span class="ico"></span>
                                                <a class="btn_del" href="#none" onclick="cancelSelectedSsr(this);" style="display: none;">삭제</a>
                                                <span class="ico_add_petc"></span>
                                            </p>
                                            <p class="add_price" style="display: none;">
                                                <span class="currency">KRW</span>
                                                <span class="price"></span>
                                            </p>
                                        </div>
                                    </div>
                                </li>
                            
                        
                    </ul>
                <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span></div>
                <!--// 탑승자 선택 슬라이드 -->

                <!-- 슬라이드 버튼 -->
                <a class="btn_slide_prev" href="#none" tabindex="0" role="button" aria-label="Previous slide" aria-disabled="false" style="display: none;">이전</a>
                <a class="btn_slide_next swiper-button-disabled" href="#none" tabindex="0" role="button" aria-label="Next slide" aria-disabled="true" style="display: none;">다음</a>
                <!--// 슬라이드 버튼 -->

                <!-- 탑승자 더보기 -->
                <!-- <div class="passenger">
                    <a href="javascript:controlLayer('#layer_passenger_list', '1');" date-type="layer" date-id="layer_passenger_list" class="btn_passenger_more" title="탑승자 인원 더보기 레이어 열림">더보기</a>
                </div> -->
                <!--// 탑승자 더보기 -->

                <!-- 탑승인원 전체보기 Layer -->
                <div class="layer type03 layer_passenger" id="layer_passenger_list">
                    <div class="layer_header">
                        <h2>탑승인원 전체보기</h2>
                    </div>
                    <div class="layer_content" tabindex="0">
                        <div class="layer_passenger_list">
                            <ul>
                                
                                    <li data-bundle="|" data-paxsubtype="*" data-passengernumber="302996389" data-guestid="302996389" data-paxtype="ADULT">
                                        <a class="layer_close" href="#none" onclick="passengerSlider.slideTo(0,400,false);">
                                            <div class="sel_passenger_box">
                                                <i class="num">1</i>
                                                <div class="name ADULT_M">
                                                    <p class="first">KIM</p>
                                                    <p class="last">SEONKYOUNG</p>
                                                </div>
                                                <div class="add_service">
                                                    <p class="add_service">
                                                        <span class="ico">30KG</span>
                                                        <!--<span class="add_bundle">+ 30KG</span>-->
                                                    </p>
                                                    <p class="add_price">
                                                        <span class="currency">KRW</span>
                                                        <span class="price">1000</span>
                                                    </p>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                
                                
                                    <li data-bundle="|" data-paxsubtype="*" data-passengernumber="302996390" data-guestid="302996390" data-paxtype="ADULT">
                                        <a class="layer_close" href="#none" onclick="passengerSlider.slideTo(1,400,false);">
                                            <div class="sel_passenger_box">
                                                <i class="num">2</i>
                                                <div class="name ADULT_M">
                                                    <p class="first">KIM</p>
                                                    <p class="last">SEON</p>
                                                </div>
                                                <div class="add_service">
                                                    <p class="add_service">
                                                        <span class="ico">30KG</span>
                                                        <!--<span class="add_bundle">+ 30KG</span>-->
                                                    </p>
                                                    <p class="add_price">
                                                        <span class="currency">KRW</span>
                                                        <span class="price">1000</span>
                                                    </p>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                
                            </ul>
                        </div>
                    </div>
                    <a class="btn_layer_close" href="javascript:controlLayer('#layer_passenger_list', '0');">레이어 닫기</a>
                </div>
                <!--// 탑승인원 전체보기 Layer -->
            </div>
            <!--// 탑승자 선택 -->
        </div>

        
        
            <div class="debug">
                <br>
                <div style="float:left; padding-right:15px;">[구간1]</div>
            
                
                        
                        <div data-baggage_addtype="*" data-baggage_amount="0" data-baggage_ssrtype="EXBG" data-baggage_value="*" data-free_all_meal_yn="N" data-meal_amount1="0" data-meal_amount2="0" data-meal_bundlechildssrcode1="*" data-meal_bundlechildssrcode2="*" data-meal_groupssrcode1="*" data-meal_groupssrcode2="*" data-meal_menudiv1="*" data-meal_menudiv2="*" data-meal_name1="*" data-meal_name2="*" data-meal_ssrtype="MEAL" data-meal_time1="*" data-meal_time2="*" data-meal_value1="*" data-meal_value2="*" data-seat_amount="0" data-seat_isbenefit="false" data-seat_ssrtype="SEAT" data-seat_type="*" data-seat_value="*" style="float:left; padding-right:15px;" data-baggage-min="40" data-paxtype="ADULT" data-baggage-pcs-unit="PC" data-includemeal="true" data-exbgsaleunit="WT" data-baggage-default="40" data-firstname="SEONKYOUNG" data-addedmealcount="2" data-baggage-unit="KG" data-lastname="KIM" data-hasinfant="false" data-petcinfo="false" data-hasfreemealyn="Y" data-baggage-pcs="0" data-freemealcount="2" data-guestid="302996389" data-businessserviceinfo="AUB5A" data-mealcount="2" data-segmentid="500" data-cabinclass="BUSINESS" class="guestDetails debug route_1 ADULT">SEONKYOUNG/KIM</div>

                
                
            
            
                
                        
                        <div data-baggage_addtype="*" data-baggage_amount="0" data-baggage_ssrtype="EXBG" data-baggage_value="*" data-free_all_meal_yn="N" data-meal_amount1="0" data-meal_amount2="0" data-meal_bundlechildssrcode1="*" data-meal_bundlechildssrcode2="*" data-meal_groupssrcode1="*" data-meal_groupssrcode2="*" data-meal_menudiv1="*" data-meal_menudiv2="*" data-meal_name1="*" data-meal_name2="*" data-meal_ssrtype="MEAL" data-meal_time1="*" data-meal_time2="*" data-meal_value1="*" data-meal_value2="*" data-seat_amount="0" data-seat_isbenefit="false" data-seat_ssrtype="SEAT" data-seat_type="*" data-seat_value="*" style="float:left; padding-right:15px;" data-baggage-min="40" data-paxtype="ADULT" data-baggage-pcs-unit="PC" data-includemeal="true" data-exbgsaleunit="WT" data-baggage-default="40" data-firstname="SEON" data-addedmealcount="2" data-baggage-unit="KG" data-lastname="KIM" data-hasinfant="false" data-petcinfo="false" data-hasfreemealyn="Y" data-baggage-pcs="0" data-freemealcount="2" data-guestid="302996390" data-businessserviceinfo="AUB5A" data-mealcount="2" data-segmentid="500" data-cabinclass="BUSINESS" class="guestDetails debug route_1 ADULT">SEON/KIM</div>

                
                
            
            </div>
        

        
        
            <div class="debug">
                <br>
                <div style="float:left; padding-right:15px;">[구간2]</div>
            
                
                
                        
                        <div data-baggage_addtype="*" data-baggage_amount="0" data-baggage_ssrtype="EXBG" data-baggage_value="*" data-free_all_meal_yn="N" data-meal_amount1="0" data-meal_amount2="0" data-meal_bundlechildssrcode1="*" data-meal_bundlechildssrcode2="*" data-meal_groupssrcode1="*" data-meal_groupssrcode2="*" data-meal_menudiv1="*" data-meal_menudiv2="*" data-meal_name1="*" data-meal_name2="*" data-meal_ssrtype="MEAL" data-meal_time1="*" data-meal_time2="*" data-meal_value1="*" data-meal_value2="*" data-seat_amount="0" data-seat_isbenefit="false" data-seat_ssrtype="SEAT" data-seat_type="*" data-seat_value="*" style="float:left; padding-right:15px;" data-baggage-min="40" data-paxtype="ADULT" data-baggage-pcs-unit="PC" data-includemeal="true" data-exbgsaleunit="WT" data-baggage-default="40" data-firstname="SEONKYOUNG" data-mealinfo1="FREE" data-addedmealcount="1" data-baggage-unit="KG" data-lastname="KIM" data-hasinfant="false" data-petcinfo="false" data-mealinfo2="ZS01" data-hasfreemealyn="Y" data-baggage-pcs="0" data-freemealcount="2" data-guestid="302996389" data-businessserviceinfo="AUB5B" data-mealcount="2" data-segmentid="501" data-cabinclass="BUSINESS" class="guestDetails debug route_2 ADULT">SEONKYOUNG/KIM</div>

                
            
            
                
                
                        
                        <div data-baggage_addtype="*" data-baggage_amount="0" data-baggage_ssrtype="EXBG" data-baggage_value="*" data-free_all_meal_yn="N" data-meal_amount1="0" data-meal_amount2="0" data-meal_bundlechildssrcode1="*" data-meal_bundlechildssrcode2="*" data-meal_groupssrcode1="*" data-meal_groupssrcode2="*" data-meal_menudiv1="*" data-meal_menudiv2="*" data-meal_name1="*" data-meal_name2="*" data-meal_ssrtype="MEAL" data-meal_time1="*" data-meal_time2="*" data-meal_value1="*" data-meal_value2="*" data-seat_amount="0" data-seat_isbenefit="false" data-seat_ssrtype="SEAT" data-seat_type="*" data-seat_value="*" style="float:left; padding-right:15px;" data-baggage-min="40" data-paxtype="ADULT" data-baggage-pcs-unit="PC" data-includemeal="true" data-exbgsaleunit="WT" data-baggage-default="40" data-firstname="SEON" data-mealinfo1="FREE" data-addedmealcount="1" data-baggage-unit="KG" data-lastname="KIM" data-hasinfant="false" data-petcinfo="false" data-mealinfo2="ZS01" data-hasfreemealyn="Y" data-baggage-pcs="0" data-freemealcount="2" data-guestid="302996390" data-businessserviceinfo="AUB5B" data-mealcount="2" data-segmentid="501" data-cabinclass="BUSINESS" class="guestDetails debug route_2 ADULT">SEON/KIM</div>

                
            
            </div>
        

        
        <div id="ssr_detail">

            <div class="tab_wrap mt20">
                <!-- 사전 좌석 선택 -->
                <div class="tab_cont" id="tab_seat" tabindex="0" style="display: none;">



<!-- 사전 좌석 선택 -->
<h4 class="hidden">사전 좌석 선택</h4>
<section class="c-seat-wrapper">
    
        
            
                <article class="c-seat-legends-warpper seat_info nonbundle seatAvailability seatLegend seatLegend_500" style="display: none;">
                    <ul class="c-seat-legends -seat">
                        
                            
                        
                        
                            <li class="c-seat-legend -premium" data-segmentid="500" data-ssrcode="PRST">
                                <span>프리미엄 존</span>
                                <span>
                                    <small>KRW</small>
                                    <span data-membershipprice="0" data-baseprice="75,000" id="seatZonePrice_500_PRST">75,000</span>
                                </span>
                            </li>
                        
                        
                            
                        
                        
                            
                        
                        
                            
                        
                        <li class="c-seat-legend -disabled">
                            <span>선택불가 좌석</span>
                        </li>
                    </ul>
                    <div class="u-dashline mt20 mb20"></div>
                    <ul class="c-seat-legends -facilities">
                        
                            <li class="c-seat-legend -exit">비상구</li>
                        
                        
                            <li class="c-seat-legend -no-window">창문없는 좌석</li>
                        
                        
                            <li class="c-seat-legend -toilet">화장실</li>
                        
                        
                            <li class="c-seat-legend -galley">갤리</li>
                        
                        
                            <li class="c-seat-legend -bassinet">유아용 요람</li>
                        
                    </ul>
                    <div class="u-dashline mt20 mb20"></div>
                    <ul class="c-seat-legends">
                        <li class="c-seat-legend -tway-wing">
                            <a class="u-emphasis-link" date-id="aircraft_info_layer" date-type="layer" href="javascript:aircraftInfoLayer('A330-300');">A330-300 좌석 상세보기</a>
                        </li>
                    </ul>
                </article>
            
            <!-- 번들 범례 -->
            <article class="c-seat-legends-warpper seat_info bundle seatAvailability bundleLegend bundleLegend_500" style="">
                <ul class="c-seat-legends -seat">
                    <li class="c-seat-legend change_class -business">
                        <span>선택가능 좌석</span>
                    </li>
                    <li class="c-seat-legend -disabled">
                        <span>선택불가 좌석</span>
                    </li>
                </ul>
                <div class="u-dashline mt20 mb20"></div>
                <ul class="c-seat-legends -facilities">
                    
                        <li class="c-seat-legend -exit">비상구</li>
                    
                    
                        <li class="c-seat-legend -no-window">창문없는 좌석</li>
                    
                    
                        <li class="c-seat-legend -toilet">화장실</li>
                    
                    
                        <li class="c-seat-legend -galley">갤리</li>
                    
                    
                        <li class="c-seat-legend -bassinet">유아용 요람</li>
                    
                </ul>
                <div class="u-dashline mt20 mb20"></div>
                <ul class="c-seat-legends">
                    <li class="c-seat-legend -tway-wing">
                        <a class="u-emphasis-link" date-id="aircraft_info_layer" date-type="layer" href="javascript:aircraftInfoLayer('A330-300');">A330-300 좌석 상세보기</a>
                    </li>
                </ul>
            </article>
        
    
    
        
            
                <article class="c-seat-legends-warpper seat_info nonbundle seatAvailability seatLegend seatLegend_501" style="display: none;">
                    <ul class="c-seat-legends -seat">
                        
                            
                        
                        
                            <li class="c-seat-legend -premium" data-segmentid="501" data-ssrcode="PRST">
                                <span>프리미엄 존</span>
                                <span>
                                    <small>KRW</small>
                                    <span data-membershipprice="0" data-baseprice="75,000" id="seatZonePrice_501_PRST">75,000</span>
                                </span>
                            </li>
                        
                        
                            <li class="c-seat-legend -semipremium" data-segmentid="501" data-ssrcode="SPST">
                                <span>세미프리미엄 존</span>
                                <span>
                                    <small>KRW</small>
                                    <span data-membershipprice="0" data-baseprice="30,000" id="seatZonePrice_501_SPST">30,000</span>
                                </span>
                            </li>
                        
                        
                            <li class="c-seat-legend -front" data-segmentid="501" data-ssrcode="FNST">
                                <span>프론트 존</span>
                                <span>
                                    <small>KRW</small>
                                    <span data-membershipprice="0" data-baseprice="17,000" id="seatZonePrice_501_FNST">17,000</span>
                                </span>
                            </li>
                        
                        
                            <li class="c-seat-legend -standard" data-segmentid="501" data-ssrcode="NMST">
                                <span>스탠다드 존</span>
                                <span>
                                    <small>KRW</small>
                                    <span data-membershipprice="0" data-baseprice="10,000" id="seatZonePrice_501_NMST">10,000</span>
                                </span>
                            </li>
                        
                        <li class="c-seat-legend -disabled">
                            <span>선택불가 좌석</span>
                        </li>
                    </ul>
                    <div class="u-dashline mt20 mb20"></div>
                    <ul class="c-seat-legends -facilities">
                        
                            <li class="c-seat-legend -exit">비상구</li>
                        
                        
                            <li class="c-seat-legend -no-window">창문없는 좌석</li>
                        
                        
                            <li class="c-seat-legend -toilet">화장실</li>
                        
                        
                            <li class="c-seat-legend -galley">갤리</li>
                        
                        
                            <li class="c-seat-legend -bassinet">유아용 요람</li>
                        
                    </ul>
                    <div class="u-dashline mt20 mb20"></div>
                    <ul class="c-seat-legends">
                        <li class="c-seat-legend -tway-wing">
                            <a class="u-emphasis-link" date-id="aircraft_info_layer" date-type="layer" href="javascript:aircraftInfoLayer('A330-300');">A330-300 좌석 상세보기</a>
                        </li>
                    </ul>
                </article>
            
            <!-- 번들 범례 -->
            <article class="c-seat-legends-warpper seat_info bundle seatAvailability bundleLegend bundleLegend_501" style="display: none;">
                <ul class="c-seat-legends -seat">
                    <li class="c-seat-legend change_class">
                        <span>선택가능 좌석</span>
                    </li>
                    <li class="c-seat-legend -disabled">
                        <span>선택불가 좌석</span>
                    </li>
                </ul>
                <div class="u-dashline mt20 mb20"></div>
                <ul class="c-seat-legends -facilities">
                    
                        <li class="c-seat-legend -exit">비상구</li>
                    
                    
                        <li class="c-seat-legend -no-window">창문없는 좌석</li>
                    
                    
                        <li class="c-seat-legend -toilet">화장실</li>
                    
                    
                        <li class="c-seat-legend -galley">갤리</li>
                    
                    
                        <li class="c-seat-legend -bassinet">유아용 요람</li>
                    
                </ul>
                <div class="u-dashline mt20 mb20"></div>
                <ul class="c-seat-legends">
                    <li class="c-seat-legend -tway-wing">
                        <a class="u-emphasis-link" date-id="aircraft_info_layer" date-type="layer" href="javascript:aircraftInfoLayer('A330-300');">A330-300 좌석 상세보기</a>
                    </li>
                </ul>
            </article>
        
    

    
        
            <article class="c-seatmap-wrapper seatAvailability seatAvailability_500" style="display: block;">
                <div class="c-seatmap__bg">
                     
                        <table class="c-seatmap c-seatmap--business">
                            <caption class="c-seatmap__title">
                                BUSINESS SAVER ZONE
                            </caption>
                            <thead class="c-seatmap__col-number">
                                <tr>
                                    
                                        <th>A</th>
                                    
                                    
                                        <th>B</th>
                                    
                                    
                                        <th class="--business -aisle"></th>
                                    
                                    
                                        <th>D</th>
                                    
                                    
                                        <th>E</th>
                                    
                                    
                                        <th class="--business -aisle"></th>
                                    
                                    
                                        <th>G</th>
                                    
                                    
                                        <th>H</th>
                                    
                                </tr>
                            </thead>
                            <tbody>
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -toilet"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -galley"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -galley"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -galley"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities  -exit-left"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities  -exit-right"></span>
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -galley"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -galley"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -bassinet"></span>
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="1A" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="A" data-cabinclass="BUSINESS" class="c-seat -business Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="1A 좌석, 선택 불가">1A</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="1B" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="B" data-cabinclass="BUSINESS" class="c-seat -business Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="1B 좌석, 선택 불가">1B</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">1</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="1D" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="D" data-cabinclass="BUSINESS" class="c-seat -business Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="1D 좌석, 선택 불가">1D</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="1E" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="E" data-cabinclass="BUSINESS" class="c-seat -business Available -business -selected" onclick="showSeatInfoLayer(this);" title="1E 좌석, 선택됨" style="cursor: pointer;">1</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">1</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="1G" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="G" data-cabinclass="BUSINESS" class="c-seat -business Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="1G 좌석, 선택 불가">1G</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="1H" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*V*Q*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="H" data-cabinclass="BUSINESS" class="c-seat -business Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="1H 좌석, 선택 불가">1H</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="2A" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*V*B*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="A" data-cabinclass="BUSINESS" class="c-seat -business Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="2A 좌석, 선택 불가">2A</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="2B" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*B*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="B" data-cabinclass="BUSINESS" class="c-seat -business Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="2B 좌석, 선택 불가">2B</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">2</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="2D" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="D" data-cabinclass="BUSINESS" class="c-seat -business Available -business" onclick="showSeatInfoLayer(this);" title="2D 좌석, 선택 가능" style="cursor: pointer;">2D</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="2E" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="E" data-cabinclass="BUSINESS" class="c-seat -business Available -business" onclick="showSeatInfoLayer(this);" title="2E 좌석, 선택 가능" style="cursor: pointer;">2E</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">2</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="2G" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="G" data-cabinclass="BUSINESS" class="c-seat -business Available -business" onclick="showSeatInfoLayer(this);" title="2G 좌석, 선택 가능" style="cursor: pointer;">2G</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="2H" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="H" data-cabinclass="BUSINESS" class="c-seat -business Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="2H 좌석, 선택 불가">2H</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                            </tbody>
                        </table>
                    
                     
                        <table class="c-seatmap c-seatmap--economy -block">
                            <caption class="c-seatmap__title">
                                ECONOMY ZONE
                            </caption>
                            <thead class="c-seatmap__col-number">
                                <tr>
                                    
                                        <th>A</th>
                                    
                                    
                                        <th>B</th>
                                    
                                    
                                        <th class="--economy -aisle"></th>
                                    
                                    
                                        <th>C</th>
                                    
                                    
                                        <th>D</th>
                                    
                                    
                                        <th>E</th>
                                    
                                    
                                        <th>F</th>
                                    
                                    
                                        <th class="--economy -aisle"></th>
                                    
                                    
                                        <th>G</th>
                                    
                                    
                                        <th>H</th>
                                    
                                </tr>
                            </thead>
                            <tbody>
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7A" data-locationattribute="*W*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-price="75000.0" data-cabinzone="Y" data-column="A" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="7A 좌석, 선택 불가">7A</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7B" data-locationattribute="*A*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-price="75000.0" data-cabinzone="Y" data-column="B" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="7B 좌석, 선택 불가">7B</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">7</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7C" data-locationattribute="*A*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-price="75000.0" data-cabinzone="Y" data-column="C" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="7C 좌석, 선택 불가">7C</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7D" data-locationattribute="*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-allocatedpassengertype="C" data-price="75000.0" data-cabinzone="Y" data-column="D" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="7D 좌석, 선택 불가">7D</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7E" data-locationattribute="*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-allocatedpassengertype="C" data-price="75000.0" data-cabinzone="Y" data-column="E" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="7E 좌석, 선택 불가">7E</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7F" data-locationattribute="*A*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-price="75000.0" data-cabinzone="Y" data-column="F" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="7F 좌석, 선택 불가">7F</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">7</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7G" data-locationattribute="*A*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-price="75000.0" data-cabinzone="Y" data-column="G" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="7G 좌석, 선택 불가">7G</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7H" data-locationattribute="*W*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-allocatedpassengertype="C" data-price="75000.0" data-cabinzone="Y" data-column="H" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="7H 좌석, 선택 불가">7H</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8A" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*J*F*" data-seattype="SPST" data-baby="N" data-allocatedpassengertype="G" data-price="0.0" data-cabinzone="Y" data-column="A" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="8A 좌석, 선택 불가">8A</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8B" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-allocatedpassengertype="G" data-price="0.0" data-cabinzone="Y" data-column="B" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="8B 좌석, 선택 불가">8B</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">8</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8C" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-allocatedpassengertype="G" data-price="0.0" data-cabinzone="Y" data-column="C" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="8C 좌석, 선택 불가">8C</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8D" data-locationattribute="**" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-price="0.0" data-cabinzone="Y" data-column="D" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="8D 좌석, 선택 불가">8D</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8E" data-locationattribute="**" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-allocatedpassengertype="G" data-price="0.0" data-cabinzone="Y" data-column="E" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="8E 좌석, 선택 불가">8E</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8F" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-allocatedpassengertype="G" data-price="0.0" data-cabinzone="Y" data-column="F" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="8F 좌석, 선택 불가">8F</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">8</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8G" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-price="0.0" data-cabinzone="Y" data-column="G" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="8G 좌석, 선택 불가">8G</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8H" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*J*F*" data-seattype="SPST" data-baby="N" data-price="0.0" data-cabinzone="Y" data-column="H" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="8H 좌석, 선택 불가">8H</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9A" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*J*F*" data-seattype="SPST" data-baby="N" data-allocatedpassengertype="G" data-price="0.0" data-cabinzone="Y" data-column="A" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="9A 좌석, 선택 불가">9A</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9B" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-allocatedpassengertype="G" data-price="0.0" data-cabinzone="Y" data-column="B" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="9B 좌석, 선택 불가">9B</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">9</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9C" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-price="0.0" data-cabinzone="Y" data-column="C" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="9C 좌석, 선택 불가">9C</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9D" data-locationattribute="**" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-allocatedpassengertype="G" data-price="0.0" data-cabinzone="Y" data-column="D" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="9D 좌석, 선택 불가">9D</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9E" data-locationattribute="**" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-allocatedpassengertype="G" data-price="0.0" data-cabinzone="Y" data-column="E" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="9E 좌석, 선택 불가">9E</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9F" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-allocatedpassengertype="G" data-price="0.0" data-cabinzone="Y" data-column="F" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="9F 좌석, 선택 불가">9F</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">9</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9G" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-allocatedpassengertype="G" data-price="0.0" data-cabinzone="Y" data-column="G" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="9G 좌석, 선택 불가">9G</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9H" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*J*F*" data-seattype="SPST" data-baby="N" data-allocatedpassengertype="G" data-price="0.0" data-cabinzone="Y" data-column="H" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="" onclick="showSeatInfoLayer(this);" style="cursor: default;" title="9H 좌석, 선택 불가">9H</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                            </tbody>
                        </table>
                    
                </div>
                <button class="btn_top" onclick="goTop();"></button>
            </article>
        
    

    
        
            <article class="c-seatmap-wrapper seatAvailability seatAvailability_501" style="display: none;">
                <div class="c-seatmap__bg">
                     
                        <table class="c-seatmap c-seatmap--business">
                            <caption class="c-seatmap__title">
                                BUSINESS SAVER ZONE
                            </caption>
                            <thead class="c-seatmap__col-number">
                                <tr>
                                    
                                        <th>A</th>
                                    
                                    
                                        <th>B</th>
                                    
                                    
                                        <th class="--business -aisle"></th>
                                    
                                    
                                        <th>D</th>
                                    
                                    
                                        <th>E</th>
                                    
                                    
                                        <th class="--business -aisle"></th>
                                    
                                    
                                        <th>G</th>
                                    
                                    
                                        <th>H</th>
                                    
                                </tr>
                            </thead>
                            <tbody>
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -toilet"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -galley"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -galley"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -galley"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities  -exit-left"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities  -exit-right"></span>
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -galley"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -galley"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities"></span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -bassinet"></span>
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="1A" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="A" data-cabinclass="BUSINESS" class="c-seat -business Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">1A</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="1B" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="B" data-cabinclass="BUSINESS" class="c-seat -business Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">1B</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">1</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="1D" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="D" data-cabinclass="BUSINESS" class="c-seat -business Available -business" onclick="showSeatInfoLayer(this);">1D</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="1E" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="E" data-cabinclass="BUSINESS" class="c-seat -business Available -business" onclick="showSeatInfoLayer(this);">1E</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">1</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="1G" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="G" data-cabinclass="BUSINESS" class="c-seat -business Available -business" onclick="showSeatInfoLayer(this);">1G</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="1H" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*V*Q*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="H" data-cabinclass="BUSINESS" class="c-seat -business Available -business" onclick="showSeatInfoLayer(this);">1H</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="2A" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*V*B*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="A" data-cabinclass="BUSINESS" class="c-seat -business Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">2A</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="2B" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*B*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="B" data-cabinclass="BUSINESS" class="c-seat -business Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">2B</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">2</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="2D" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="D" data-cabinclass="BUSINESS" class="c-seat -business Available -business" onclick="showSeatInfoLayer(this);">2D</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="2E" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="E" data-cabinclass="BUSINESS" class="c-seat -business Available -business" onclick="showSeatInfoLayer(this);">2E</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">2</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="2G" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="G" data-cabinclass="BUSINESS" class="c-seat -business Available -business" onclick="showSeatInfoLayer(this);">2G</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="2H" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*V*" data-seattype="BZST" data-baby="N" data-price="0.0" data-cabinzone="C" data-column="H" data-cabinclass="BUSINESS" class="c-seat -business Available -business" onclick="showSeatInfoLayer(this);">2H</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                            </tbody>
                        </table>
                    
                     
                        <table class="c-seatmap c-seatmap--economy -block">
                            <caption class="c-seatmap__title">
                                ECONOMY ZONE
                            </caption>
                            <thead class="c-seatmap__col-number">
                                <tr>
                                    
                                        <th>A</th>
                                    
                                    
                                        <th>B</th>
                                    
                                    
                                        <th class="--economy -aisle"></th>
                                    
                                    
                                        <th>C</th>
                                    
                                    
                                        <th>D</th>
                                    
                                    
                                        <th>E</th>
                                    
                                    
                                        <th>F</th>
                                    
                                    
                                        <th class="--economy -aisle"></th>
                                    
                                    
                                        <th>G</th>
                                    
                                    
                                        <th>H</th>
                                    
                                </tr>
                            </thead>
                            <tbody>
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7A" data-locationattribute="*W*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-price="75000.0" data-cabinzone="Y" data-column="A" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">7A</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7B" data-locationattribute="*A*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-price="75000.0" data-cabinzone="Y" data-column="B" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">7B</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">7</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7C" data-locationattribute="*A*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-price="75000.0" data-cabinzone="Y" data-column="C" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">7C</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7D" data-locationattribute="*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-price="75000.0" data-cabinzone="Y" data-column="D" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">7D</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7E" data-locationattribute="*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-price="75000.0" data-cabinzone="Y" data-column="E" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">7E</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7F" data-locationattribute="*A*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-price="75000.0" data-cabinzone="Y" data-column="F" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">7F</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">7</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7G" data-locationattribute="*A*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-price="75000.0" data-cabinzone="Y" data-column="G" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">7G</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="7H" data-locationattribute="*W*K*" data-currency="KRW" data-facilityattribute="*N*P*" data-seattype="PRST" data-baby="N" data-price="75000.0" data-cabinzone="Y" data-column="H" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">7H</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8A" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*J*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="A" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">8A</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8B" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="B" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">8B</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">8</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8C" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="C" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">8C</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8D" data-locationattribute="**" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="D" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">8D</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8E" data-locationattribute="**" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="E" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">8E</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8F" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="F" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">8F</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">8</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8G" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="G" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">8G</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="8H" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*J*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="H" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">8H</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                                
                                    <tr>
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9A" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*J*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="A" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">9A</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9B" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="B" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">9B</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">9</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9C" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="C" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">9C</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9D" data-locationattribute="**" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="D" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">9D</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9E" data-locationattribute="**" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="E" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">9E</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9F" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="F" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">9F</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                    
                                                        <span class="c-facilities -aisle">9</span>
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9G" data-locationattribute="*A*" data-currency="KRW" data-facilityattribute="*N*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="G" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">9G</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                        
                                            
                                                <td>
                                                    
                                                        <button date-id="lyr_seat_info" date-type="layer" data-seatnumber="9H" data-locationattribute="*W*" data-currency="KRW" data-facilityattribute="*N*J*F*" data-seattype="SPST" data-baby="N" data-price="30000.0" data-cabinzone="Y" data-column="H" data-cabinclass="ECONOMY" class="c-seat -economy Unvailable -disabled" disabled="disabled" onclick="showSeatInfoLayer(this);" style="cursor: default;">9H</button>
                                                    
                                                    
                                                </td>
                                            
                                        
                                    </tr>
                                
                            </tbody>
                        </table>
                    
                </div>
                <button class="btn_top" onclick="goTop();"></button>
            </article>
        
    
</section>


<div style="display: none;" class="seatAvailability seatAvailability_NA non_service_wrap">
    <div class="con_box">
        <p class="note"></p><p class="note">선택하신 구간은 좌석 사전 구매가 불가합니다.</p><p></p>
    </div>
</div>

<div class="tbl_top_area mt30">
    <button class="sbtn_cont fr" onclick="ruleLayer('ANCILLARY_SEAT_RULE');">사전 좌석 규정</button>
</div>

<!-- 알아두세요 -->
<div class="notice_box mt70">
    <strong>알아두세요</strong>
    <!--사용중인 메뉴 : 부가서비스 좌석 선택, 비즈니스 좌석선택, 좌석 추가구매-->

<ul class="ul_dot">
<li>비즈니스 운임의 경우 국내선 탑승 당일 35분 전, 국제선 3시간 전까지 선택 가능 합니다.</li>
<li>이노코미 운임(이벤트/스마트/일반운임)은 출발일이 임박한 경우(25시간 이내) 좌석 구매가 불가합니다.</li>
<li> 비상구 좌석은 승무원을 도와 다른 승객의 탈출을 돕는 자리로 조건에 맞지 않는 경우 현장에서 직원의 확인 후 거절될 수 있으며 환불되지 않습니다.<br>
<div class="btn_wrap_svc">
  <button type="button" date-type="layer" date-id="exit_seat_rule_layer" onclick="exitSeatRuleLayer();" title="레이어 팝업 열림" class="sbtn_cont"><span>비상구 좌석 배정 제한 규정보기</span></button>
</div>
</li>
<li>국제선 만 12세, 국내선 만 13세 미만의 소아는 반드시 성인 보호자 옆에 배정되어야 합니다.</li>
<li>항공기 기종에 따라 좌석의 앞뒤, 좌우 간격이 상이할 수 있습니다.</li>
<li>좌석 변경은 취소 후 재구매 해주시기 바랍니다.</li>
<li>A330-300 기종의 1G, 15D, 15F, 16B 좌석은 유아용 요람 옆 좌석이니 이용에 참고 바랍니다.</li>
<li>유아용 요람은 "유아용 요람 이용 가능한 좌석"을 구매한 후에 예약센터를 통해 추가 요금 없이 신청이 가능합니다.<br>(국제선만 유아용 요람 서비스 신청이 가능하며, 국내선은 유아용 요람 서비스를 제공하지 않습니다.)</li>
<li style="color:red;">동물 알레르기가 있거나 반려동물 동반 승객과의 좌석 거리두기를 원하시는 경우, 반드시 탑승 수속 시 해당사항을 직원에게 알려주시기 바랍니다. (단, 당일 운행 상황에 따라 좌석 변경이 어려울 수 있습니다.)</li>
</ul>
</div>
<!--// 알아두세요 -->

<script type="text/javascript">
    var goTop = function() {
        animteScrollTo('#content');
    }

    var closeSeat = function(seatnumber){
        var passengerInfo = getPassengerInfo();
        var segmentId = $('.segmentInfo').eq(currentRouteIndex).data('segmentid');
        var el = '';
        $.each($('article.seatAvailability_'+ segmentId +' tr td button'), function(index, s){
            if($(s).data('seatnumber') == seatnumber){
                el = $(this);
            }
        });

        $(el).text('');
        $(el).removeClass('-selected');
        $(el).data('baby', 'N');
    }

     /**
     * 좌석선택 레이어 처리
     */
     var showSeatInfoLayer = function(el){
        var seatNumber = $(el).data('seatnumber');
        // 좌석 점유 표기
        if( !$(el).hasClass('-disabled') && !$(el).hasClass('-selected') && !$(el).hasClass('-petc_disabled')){
            var msg_seat_emergency_row_baby = '\uC720\uC544 \uB3D9\uBC18 \uD0D1\uC2B9\uAC1D\uC740 \uD574\uB2F9 \uC88C\uC11D(\uBE44\uC0C1\uAD6C\uC5F4)\uC744 \uC120\uD0DD\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.';//'유아 동반 탑승객은 해당 좌석(비상구열)을 선택할 수 없습니다.';
            var msg_seat_emergency_row_child = '\uC18C\uC544 \uD0D1\uC2B9\uAC1D\uC740 \uD574\uB2F9 \uC88C\uC11D(\uBE44\uC0C1\uAD6C\uC5F4)\uC744 \uC120\uD0DD\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.';//'소아 탑승객은 해당 좌석(비상구열)을 선택할 수 없습니다.';
            var msg_seat_no_more_baby = '\uD574\uB2F9 \uC5F4\uC5D0\uB294 \uC774\uBBF8 \uC720\uC544\uAC00 \uBC30\uC815\uB418\uC5B4 \uC788\uC2B5\uB2C8\uB2E4.';//'해당 열에는 이미 유아가 배정되어 있습니다.';
            var msg_seat_disabled = '\uD574\uB2F9 \uC88C\uC11D\uC740 \uC120\uD0DD\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.';//'해당 좌석은 선택할 수 없습니다.';

            var segmentId = $('.segmentInfo').eq(currentRouteIndex).data('segmentid');
            var seatType = $(el).data('seattype');

            var passengerInfo = getPassengerInfo();
            var isBundleUser = typeof passengerInfo.data('bundleinfo') != "undefined" && passengerInfo.data('bundleinfo') != 'BUND0';
            var bundleUserYn = isBundleUser ? 'Y' : 'N';
            var petcUserYn = passengerInfo.data('petcinfo') ? 'Y' : 'N';
            var isMembershipUser = typeof passengerInfo.data('membershipinfo') != "undefined" && passengerInfo.data('membershipinfo') != "";
            var ssrCode = $(el).data('seattype');
            var amount = $(el).data('price');
            var currency = $(el).data('currency');
            var locationAttribute = $(el).data('locationattribute');
            var facilityAttribute = $(el).data('facilityattribute');
            var benefitSeatYn = 'N';

            var passengerNumber = currentPassengerIndex+1;

            // 멤버십회원이며 무료 적용 좌석일 경우 금액 0원 처리
            if(isMembershipUser && $(el).hasClass("-membership")){
                benefitSeatYn = 'Y';
                passengerInfo.data('seat_isbenefit', true);
            } else {
                passengerInfo.data('seat_isbenefit', false);
            }

            /**
             * 현재 좌석을 고르고 있는 탑승객이 점유하고 있는 좌석의 번호 확인
             */
            var selectedSeatNumber = '';
            $.each($('article.seatAvailability_'+ segmentId +' td button.-selected'), function(index, s){
                if( $(s).text() == passengerNumber){
                    selectedSeatNumber = $(s).data('seatnumber');
                }
            });

            /**
             * 비즈니스 클래스 승객이 일반석을 지정 했을 경우
             * 이코노미 클래스 승객이 비즈니스석을 지정 했을 경우
             */
            var cabinClass = passengerInfo.data('cabinclass');
            var seatCabinClass = $(el).data('cabinclass');
            if(cabinClass != seatCabinClass) {
                alert(msg_seat_disabled);
                return false;
            }

            if( locationAttribute.indexOf('*E*') > -1 ){

                //-- 유아 동반 성인
                if(passengerInfo.data('paxtype')=='ADULT' && passengerInfo.data('hasinfant')==true) {
                    alert(msg_seat_emergency_row_baby); // 유아 동반 탑승객은 해당 좌석(비상구열)을 선택할 수 없습니다.
                    return false;
                }

                //-- 소아
                if(passengerInfo.data('paxtype')=='CHILD'){
                    alert(msg_seat_emergency_row_child); // 소아 탑승객은 해당 좌석(비상구열)을 선택할 수 없습니다.
                    return false;
                }

                /**
                 * 비상구좌석 선택 시 비상구좌석 승객 규정 알림
                 */
                var msg_inf_emergency_seat = '\uB9CC 15\uC138 \uBBF8\uB9CC, \uC784\uC0B0\uBD80, \uC720\uC544\uB3D9\uBC18 \uC131\uC778 \uB610\uB294 \uD55C\uAD6D\uC5B4\uB098 \uC601\uC5B4\uB85C \uC758\uC0AC\uC18C\uD1B5\uC774 \uBD88\uAC00\uB2A5\uD55C \uC190\uB2D8, \uC2B9\uAC1D\uC758 \uC0C1\uD0DC\uB098 \uCC45\uC784(\uC720,\uC18C\uC544 \uB3D9\uBC18\uC2B9\uAC1D, \uB178\uC57D\uC790 \uB4F1)\uC73C\uB85C \uC778\uD558\uC5EC \uC2B9\uBB34\uC6D0\uC758 \uC9C0\uC2DC\uC5D0 \uB530\uB974\uAE30\uC5D0 \uC5B4\uB824\uC6C0\uC774 \uC788\uB294 \uC190\uB2D8\uC740 \uBE44\uC0C1\uAD6C \uC88C\uC11D \uBC30\uC815\uC774 \uBD88\uAC00\uD569\uB2C8\uB2E4. \uBC18\uB4DC\uC2DC, \uD655\uC778\uD558\uC2DC\uACE0 \uC88C\uC11D\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.';// 만 15세 미만, 임산부, 유아동반 성인 또는 한국어나 영어로 의사소...
                //alert(msg_inf_emergency_seat);
            }

            if(passengerInfo.data('paxtype')=='ADULT' && passengerInfo.data('hasinfant')==true){
                /**
                 * 선택한 좌석의 유닛당 유아 최대 1명 validation
                 * 다른 PNR에 의해 유아 배정되었는지 확인
                 */
                var seatColumn = $(el).data('column');

                var flag = true;

                var segmentId = passengerInfo.data('segmentid');
                var cabinTableHeadForSegmentMap = {'500':{'C':['A','B','AS','D','E','AS','G','H'],'Y':['A','B','AS','C','D','E','F','AS','G','H']},'501':{'C':['A','B','AS','D','E','AS','G','H'],'Y':['A','B','AS','C','D','E','F','AS','G','H']}};
                var cabinTableHeadMap = cabinTableHeadForSegmentMap[segmentId]
                var tableHeadList = cabinTableHeadMap[$(el).data('cabinzone')];
                var tableArray = tableHeadList.toString().replace(/,/gi,"").split('AS'); // [A,B] [C,D,E,F] [G,H]

                for(var i=0; i<tableArray.length;i++) {
                    if(tableArray[i].indexOf(seatColumn) > -1) {
                        var selUnit = tableArray[i];
                        $.each($(el).parents('tr').find('button'), function(idx, seat){
                            if(selUnit.indexOf($(seat).data('column')) > -1
                            && ($(seat).data('baby')=='Y' || $(seat).data('allocatedpassengertype') == 'I')
                            && selectedSeatNumber != $(seat).data('seatnumber') ){
                                alert(msg_seat_no_more_baby); // 해당 열에는 이미 유아가 배정되어 있습니다.
                                flag = false;
                                return false;
                            }
                        });
                    }
                }
                if(!flag) {
                    return false;
                } else {
                    /**
                     * 해당 좌석에 유아 동반 성인 마킹
                     */
                    $(el).data('baby', 'Y');
                }
            }
            // 접근성 관련 추가
            $(el).addClass('focus');

            seatInfoLayer(seatNumber, ssrCode, amount, currency, locationAttribute, facilityAttribute, bundleUserYn, petcUserYn, benefitSeatYn);
        } else {
            seat(seatNumber);
        }
     }

    /**
     * 좌석선택 처리
     */
    var seat = function(seatnumber){
        var segmentId = $('.segmentInfo').eq(currentRouteIndex).data('segmentid');

        var el = '';
        $.each($('article.seatAvailability_'+ segmentId +' tr td button'), function(index, s){
            if($(s).data('seatnumber') == seatnumber){
                el = $(this);
            }
        });

        var seatType = $(el).data('seattype');

        // 좌석 선택 정보 저장
        var passengerInfo = getPassengerInfo();

        var passengerNumber = currentPassengerIndex+1;

        // 좌석 점유 표기
        if( !$(el).hasClass('-disabled') && !$(el).hasClass('-selected') && !$(el).hasClass('-petc_disabled')){
            /**
             * 현재 좌석을 고르고 있는 탑승객이 점유하고 있는 좌석의 번호 확인
             */
            var selectedSeatNumber = '';
            $.each($('article.seatAvailability_'+ segmentId +' td button.-selected'), function(index, s){
                if( $(s).text() == passengerNumber){
                    selectedSeatNumber = $(s).data('seatnumber');
                }
            });

            passengerInfo.data('seat_value', seatnumber);
            passengerInfo.data('seat_type', seatType);

            // 가격정보
            // 멤버십회원이며 무료 적용 좌석일 경우 금액 0원 처리
            var isMembershipUser = typeof passengerInfo.data('membershipinfo') != "undefined" && passengerInfo.data('membershipinfo') != "";
            var amount = $(el).data('price');
            if(isMembershipUser && $(el).hasClass("-membership")){
                passengerInfo.data('seat_isbenefit', true);
            } else {
                passengerInfo.data('seat_isbenefit', false);
            }
            passengerInfo.data('seat_amount', amount);

            displayPassengerBundleInfo(currentPassengerIndex);

            // 기존에 점유하고 있던 좌석 해제
            $.each($('article.seatAvailability_'+ segmentId +' td button.-selected'), function(index, s){
                if($(s).text() == passengerNumber
                    && selectedSeatNumber == $(s).data('seatnumber')){
                    $(s).text('');
                    $(s).removeClass('-selected');
                    $(s).data('baby', 'N');

                    if($(s).hasClass('bund_seat')) {
                        $(s).attr("title", selectedSeatNumber + " 좌석, 선택 가능");
                    } else {
                        var seatType = $(s).data('seattype');
                        var seatTypeStr = '프리미엄 존';
                        if(seatType == 'SPST') {
                            seatTypeStr = '세미프리미엄 존';
                        } else if (seatType == 'FNST') {
                            seatTypeStr = '프론트 존';
                        } else if (seatType == 'NMST') {
                            seatTypeStr = '스탠다드 존';
                        } else if(seatType == 'BZST') {
                            seatTypeStr = '비지니스 존';
                        }
                        $(s).attr("title", seatTypeStr + " " + selectedSeatNumber + " 좌석, 선택 가능");
                    }
                }
            });

            $(el).text(passengerNumber); // show
            $(el).addClass('-selected');

            if($(el).hasClass('bund_seat')) {
                $(el).attr("title", seatnumber + " 좌석, 선택됨");
            } else {
                var seatType = $(el).data('seattype');
                var seatTypeStr = '프리미엄 존';
                if(seatType == 'SPST') {
                    seatTypeStr = '세미프리미엄 존';
                } else if (seatType == 'FNST') {
                    seatTypeStr = '프론트 존';
                } else if (seatType == 'NMST') {
                    seatTypeStr = '스탠다드 존';
                } else if(seatType == 'BZST') {
                    seatTypeStr = '비지니스 존';
                }
                $(el).attr("title", seatTypeStr + " " + seatnumber + " 좌석, 선택됨");
            }

            // 다음 탑승객으로 슬라이드 이동
            showNextPassenger();
        }
        // 좌석 점유 해제
        else if( !$(el).hasClass('-disabled') && $(el).hasClass('-selected') && !$(el).hasClass('-petc_disabled')){

            console.log('release seat !!');

            // 해당 탑승객 좌석 점유 정보 해제
            var infantCount = 0;
            $.each($('.guestDetails.route_' + (currentRouteIndex+1)), function(ind, guest){
                passengerInfo = $(guest);

                if(passengerInfo.data('paxtype')=='INFANT'){
                    infantCount++;
                }

                if(seatnumber==passengerInfo.data('seat_value')){
                    passengerInfo.data('seat_value', '*');
                    passengerInfo.data('seat_type', '*');
                    passengerInfo.data('seat_amount', '0');
                    passengerInfo.data('seat_isbenefit', false);
                    displayPassengerBundleInfo(ind-infantCount);
                    passengerSlider.slideTo(ind-infantCount,400,false);
                }
            });

            // disabled seat release
            $(el).text('');
            $(el).removeClass('-selected');
            $(el).data('baby', 'N');

            if($(el).hasClass('bund_seat')) {
                $(el).attr("title", seatnumber + " 좌석, 선택 가능");
            } else {
                var seatType = $(el).data('seattype');
                var seatTypeStr = '프리미엄 존';
                if(seatType == 'SPST') {
                    seatTypeStr = '세미프리미엄 존';
                } else if (seatType == 'FNST') {
                    seatTypeStr = '프론트 존';
                } else if (seatType == 'NMST') {
                    seatTypeStr = '스탠다드 존';
                } else if(seatType == 'BZST') {
                    seatTypeStr = '비지니스 존';
                }
                $(el).attr("title", seatTypeStr + " " + seatnumber + " 좌석, 선택 가능 좌석");
            }
        }
    }



    //Scroll
    $(".advance_seat_wrap .sel_seat").mCustomScrollbar({
        scrollButtons:{enable:true,scrollType:"stepped"},
        keyboard:{scrollType:"stepped"},
        mouseWheel:{scrollAmount:300},
        //theme:"rounded-dark",
        autoExpandScrollbar:true,
        snapAmount:30,
        //snapOffset:20,
        // 스크롤 콜백
        callbacks:{
            whileScrolling:function(){
                if (this.mcs.draggerTop > 10) {
                    $('.seat_num').addClass('fixed');
                } else {
                    $('.seat_num').removeClass('fixed');
                }

                if (this.mcs.draggerTop > 10) {
                    $('.seat_num').addClass('fixed');
                } else {
                    $('.seat_num').removeClass('fixed');
                }
            },
            alwaysTriggerOffsets:false
        }
    });
</script>

<script>
$(function(){

    $('.sbtn_cont').on('click', function(){
        $(this).addClass('focus');
    });
    // 접근성 관련 추가
    $('a.u-emphasis-link').on('click', function(){
        $(this).addClass('focus');
    });

});

  //레이어 팝업창
var togglePopup = function(method, popupId){

    if( method == 'open' ){
        $("button[date-type='layer'][date-id='" + popupId + "']").click();
        $(".btn_layer_close").show();
        $("#" + popupId).blur();
    }else{
        $('.dim').hide();
        $('html, body').css('overflow', 'visible');
        $("#" + popupId).hide();
    }

}
</script>




<script type="text/javascript">
    $(document).ready(function() {
    });
</script>
</div>
                <!-- 사전 수하물 선택 -->
                <div class="tab_cont" id="tab_baggage" tabindex="-1" style="display: none;">
                </div>
                <!-- 사전 기내식 선택 -->
                <div class="tab_cont mt0" id="tab_meal" tabindex="-1" style="display: none;">
                </div>

                <!-- 여행자보험 선택 -->
                <div class="tab_cont" id="tab_insurance" tabindex="0" style="display: block;">
                    <h4 class="hidden">여행자 보험 선택</h4>
                    

                    <ul class="ul_dot mb20">    <li>보험은 일자별로 신청 가능하며 1일 적용 기준은 00시 ~ 24시 입니다.<br></li><li>여행기간 변경 시 기간에 따라 보험료가 변경될 수 있습니다.</li>
                        <li>편도 항공권 또는 귀국일 미확정인 경우 보험기간을 직접 선택하여 주세요.(국내선 최대1개월 / 국제선 최대3개월)</li>
                        <li><span style="color: rgb(192, 80, 77);">보험기간은 피보험자가 주거지를 출발하여 여행을 마치고 주거지에 도착할 때까지의 기간(이하 “여행기간”)으로 설정하시기 바랍니다.</span></li>
                        <li>피보험자가 입력한 기간의 전부 또는 일부가 여행기간이 아닌 경우 해당기간 동안 발생한 사고에 대해서는 보상을 받지 못할 수 있습니다.</li>
                        <li>실제 여행기간이 피보험자가 설정한 기간 이외의 기간을 포함할 경우 사전에 회사에 알리고 기간을 변경하셔야 해당 기간에 대한 보상이 가능합니다.</li>
                        <li>여행예정인 국가 중 보험인수 제한국가가 포함되어 있을 경우 보험가입이 불가합니다.&nbsp;&nbsp;<a class="btn_txt red" href="https://www.acedirect.co.kr/jsp/restrictCountry.jsp" target="_blank" role="button" aria-hidden="false">보험인수제한국가</a></li>
                    </ul>
                    <!-- <ul class="ul_dot mb20">
                        <li>손해보험협회 심의필 : 제 00000호 2020.07.02</li>
                        <li>편도 항공권 또는 귀국일 미확정인 경우 보험기간을 직접 선택하여 주세요.(최대 3개월까지 가입 가능)</li>
                        <li class="red">보험기간은 피보험자가 주거지를 출발하여 여행을 마치고 주거지에 도착할 때까지의 기간(이하 “여행기간”)으로 설정하시기 바랍니다.</li>
                        <li>피보험자가 입력한 기간의 전부 또는 일부가 여행기간이 아닌 경우 해당기간 동안 발생한 사고에 대해서는 보상을 받지 못할 수 있습니다.</li>
                        <li>실제 여행기간이 피보험자가 설정한 기간 이외의 기간을 포함할 경우 사전에 회사에 알리고 기간을 변경하셔야 해당 기간에 대한 보상이 가능합니다.</li>
                    </ul> -->
                    <form id="insureForm" method="post" name="insureForm">
                        <input id="pnrNumber" name="pnrNumber" type="hidden" value="C3T6HC">
                        <input id="currency" name="currency" type="hidden" value="KRW">
                        <input id="segmentId" name="segmentId" type="hidden" value="500">
                        <input id="nationCode" name="nationCode" type="hidden" value="AU">
                        <input id="email" name="email" type="hidden" value="psun0215@naver.com">
                        <input id="domIntDiv" name="domIntDiv" type="hidden" value="I">
                        <input id="accessToken" name="accessToken" type="hidden">

                        <div class="grid mb20">
                        <table class="tb_row">
                            <caption>여행 정보 및 휴대전화 정보 - 여행 기간, 여행국가, 휴대전화 입력 표 입니다.</caption>
                            <colgroup>
                                <col style="width:20%">
                                <col style="width:20%">
                                <col style="width:20%">
                                <col style="width:30%">
                            </colgroup>
                            <tbody>
                                <tr>
                                    <th>여행기간</th>
                                    <td colspan="3">
                                        <div class="input_wrap">
                                            <span class="input_date">
                                                <input class="w200" id="policyStartDate" name="policyStartDate" onchange="changePolicyDate();" onkeyup="onlyNumHyphen(this);" placeholder="YYYY-MM-DD" readonly="readonly" title="여행 출발날짜" type="text" value="2022-12-26">
                                            </span>
                                            <span class="ml10 mr10">~</span>
                                            <span class="input_date">
                                                <input class="w200" id="policyEndDate" name="policyEndDate" onchange="changePolicyDate();" onkeyup="onlyNumHyphen(this);" readonly="readonly" title="여행 종료날짜" type="text" value="2023-01-15">
                                                <a class="btn_date date_focus focus" id="end" onclick="showEndCalendar();">날짜선택</a>
                                            </span>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>여행국가</th>
                                    <td>호주</td>
                                    <th>휴대전화</th>
                                    <td>
                                        <input class="w260" id="phoneNo" name="phoneNo" onkeyup="onlyNum(this);" placeholder="ex)01012345678" title="휴대전화 번호 입력" type="text" value="01027157383">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </form>

                <div class="grid mb10">
                    <table class="tb_col st">
                        <caption>보험 종류 및 가입자 정보 - 가입자명, 성별, 생년월일, 고급형, 표준형, 실속형, 선택 표 입니다.</caption>
                        <colgroup>
                            <col style="width:auto">
                            <col style="width:5%">
                            <col style="width:10%">
                            <col style="width:7%">
                            <col style="width:9%">
                            <col style="width:7%">
                            <col style="width:9%">
                            <col style="width:7%">
                            <col style="width:9%">
                            <col style="width:11%">
                        </colgroup>
                        <thead>
                            <tr>
                                <th class="left pl30" rowspan="2">가입자명</th>
                                <th rowspan="2">성별</th>
                                <th rowspan="2">생년월일</th>
                                <th colspan="2" id="planTitle_1">실속형</th>
                                <th colspan="2" id="planTitle_2">표준형</th>
                                <th colspan="2" id="planTitle_3">고급형</th>
                                <th rowspan="2">선택</th>
                            </tr>
                            <tr>
                                <th>가입금액</th>
                                <th>보험료(KRW)</th>
                                <th>가입금액</th>
                                <th>보험료(KRW)</th>
                                <th>가입금액</th>
                                <th>보험료(KRW)</th>
                            </tr>
                        </thead>
                        <tbody>
                            
                                <input name="name" type="hidden" id="name_302996389" value="KIMSEONKYOUNG">
                                <input name="gender" type="hidden" id="gender_302996389" value="M">
                                <!-- 여행자 보험 가입 체크 여부 -->
                                <input name="agreeInscIndGuide" type="hidden" value="false" data-guestid="302996389" id="agreeInscIndGuide_302996389">
                                <tr>
                                    <td class="left">
                                        <div>
                                            <input name="chkInscPax" type="checkbox" data-guestid="302996389" id="check_302996389">
                                            <label class="mr15" for="check_302996389">
                                                <span class="icon"></span>
                                                <span class="name ADULT_M"></span>
                                                <span>KIM/SEONKYOUNG</span>
                                            </label>
                                        </div>
                                    </td>
                                    <td>남성</td>
                                    <td>
                                        <input class="date-input w190" max="2999-12-31" maxlength="10" min="1900-01-01" name="birth" onblur="(this.type='text')" onfocus="(this.type='date')" placeholder="ex)2021-12-31" style="width:160px" title="생년월일 입력" type="text" id="birth_302996389" onchange="getPlanList(302996389);" onkeyup="changeDateFormat(302996389);" value="1992-02-15">
                                    </td>
                                    <td id="planAmt_302996389_1" name="amt_302996389">-</td>
                                    <td id="insureAmt_302996389_1" name="amt_302996389">-</td>
                                    <td id="planAmt_302996389_2" name="amt_302996389">-</td>
                                    <td id="insureAmt_302996389_2" name="amt_302996389">-</td>
                                    <td id="planAmt_302996389_3" name="amt_302996389">-</td>
                                    <td id="insureAmt_302996389_3" name="amt_302996389">-</td>
                                    <td>
                                        <span class="select">
                                            <select name="planType" onchange="calculateFareSummary()" title="유형선택" data-guestid="302996389" id="planSelect_302996389" disabled="">
                                                
                                            <option value="">선택</option></select>
                                        </span>
                                    </td>
                                </tr>
                            
                            
                                <input name="name" type="hidden" id="name_302996390" value="KIMSEON">
                                <input name="gender" type="hidden" id="gender_302996390" value="M">
                                <!-- 여행자 보험 가입 체크 여부 -->
                                <input name="agreeInscIndGuide" type="hidden" value="false" data-guestid="302996390" id="agreeInscIndGuide_302996390">
                                <tr>
                                    <td class="left">
                                        <div>
                                            <input name="chkInscPax" type="checkbox" data-guestid="302996390" id="check_302996390">
                                            <label class="mr15" for="check_302996390">
                                                <span class="icon"></span>
                                                <span class="name ADULT_M"></span>
                                                <span>KIM/SEON</span>
                                            </label>
                                        </div>
                                    </td>
                                    <td>남성</td>
                                    <td>
                                        <input class="date-input w190" max="2999-12-31" maxlength="10" min="1900-01-01" name="birth" onblur="(this.type='text')" onfocus="(this.type='date')" placeholder="ex)2021-12-31" style="width:160px" title="생년월일 입력" type="text" id="birth_302996390" onchange="getPlanList(302996390);" onkeyup="changeDateFormat(302996390);" value="1996-11-12" disabled="">
                                    </td>
                                    <td id="planAmt_302996390_1" name="amt_302996390">-</td>
                                    <td id="insureAmt_302996390_1" name="amt_302996390">-</td>
                                    <td id="planAmt_302996390_2" name="amt_302996390">-</td>
                                    <td id="insureAmt_302996390_2" name="amt_302996390">-</td>
                                    <td id="planAmt_302996390_3" name="amt_302996390">-</td>
                                    <td id="insureAmt_302996390_3" name="amt_302996390">-</td>
                                    <td>
                                        <span class="select">
                                            <select disabled="" name="planType" onchange="calculateFareSummary()" title="유형선택" data-guestid="302996390" id="planSelect_302996390">
                                                
                                            <option value="">선택</option></select>
                                        </span>
                                    </td>
                                </tr>
                            
                        </tbody>
                    </table>
                </div>

                <div class="gray_input_box sum mb20">
                    <div class="sum_lft"><strong class="red" id="joinInscCnt">0</strong>명 가입</div>
                    <div class="sum_rig">납입보험료<strong class="red" id="totalInsureAmount">0 KRW</strong></div>
                </div>

                
                    <ul class="ul_dot mb40">
                    <li>가입 연령에 따라 담보 및 가입금액의 변경 또는 제한이 있을 수 있습니다.</li>
                    <li>상단 가입금액은 “상해사망 및 후유장해” 기준의 금액입니다.</li>
                    <li><a target="_blank" href="https://ec.aceinsurance.co.kr/jsp/b2ctway/contractplan/ContractPlanSHanaCoverageList.jsp?policyStartDate=&amp;policyStartHour=00&amp;policyEndDate=&amp;policyEndHour=24&amp;groupId=701139TAIR&amp;productCode=OTA461" class="btn_txt red">가입연령에 따른 플랜구성 및 세부 보장내역을 확인</a> 하세요.</li>
                </ul>
                    <!-- <ul class="ul_dot mb40">
                        <li>가입 연령에 따라 담보 및 가입금액의 변경 또는 제한이 있을 수 있습니다.</li>
                        <li>아래 가입금액은 “상해사망 및 후유장해” 기준의 금액입니다.</li>
                        <li><a target="_blank" href="https://ec.aceinsurance.co.kr/jsp/b2ctway/contractplan/ContractPlanSHanaCoverageList.jsp?policyStartDate=&policyStartHour=00&policyEndDate=&policyEndHour=24&groupId=701139TAIR&productCode=OTA461" class="btn_txt red">가입연령에 따른 플랜구성 및 세부 보장내역을 확인</a> 하세요.</li>
                    </ul> -->
                
                

                <div id="termsArea" name="termsArea" style="display: block;">
                    <div class="bx_type1 terms">
                        <div class="txt_agree">
                            <ul class="ul_dash">
                                <li>본인은 본 보험계약의 피보험자로 되는 것에 동의하며, 만일 본인이 타 여행객을 대신하여 보험 가입절차를 이행하는 경우 본인은 여행계약 체결에 대하여 타 여행객으로부터 적법하게 대리권을 수여받았음을 확인합니다.</li>
                                <li>만약 대리권이 존재하지 않는 경우, 그 범위 내에서 단체보험계약이 일부 무효로 되거나 보험사고시 보험금 지급이 거절될 수 있다는 점을 충분히 이해하였습니다.</li>
                            </ul>
                            <!-- <ul class="ul_dash">
                                <li>본인은 본 보험계약의 피보험자로 되는 것에 동의하며, 만일 본인이 타 여행객을 대신하여 보험 가입절차를 이행하는 경우 본인은 여행계약 체결에 대하여 타 여행객으로부터 적법하게 대리권을 수여받았음을 확인합니다.</li>
                                <li>만약 대리권이 존재하지 않는 경우, 그 범위 내에서 단체보험계약이 일부 무효로 되거나 보험사고시 보험금 지급이 거절될 수 있다는 점을 충분히 이해하였습니다.</li>
                            </ul> -->
                        </div>
                        <div>
                            <input id="agreeInscInfo" name="agreeInscInfo" type="checkbox">
                            <label class="mr15" for="agreeInscInfo"><span class="icon"></span>동의함</label>
                        </div>
                    </div>
                    <div class="bx_type1 terms">
                        <div class="txt_agree">
                            가입전  보험계약 중요 안내 사항을 확인하였습니다. <button class="sbtn_cont" date-id="lyr_insurance_guide" date-type="layer" onclick="showInsuranceGuide();" type="button">보험계약 중요 안내 사항</button>
                        </div>
                        <div>
                            <input id="agreeInscGuide" name="agreeInscGuide" type="checkbox">
                            <label class="mr15" for="agreeInscGuide"><span class="icon"></span>동의함</label>
                        </div>
                    </div>
                    <div class="bx_type1 terms mb40">
                        <!-- 여행보험 가입규약 동의 체크 여부 -->
                        <input id="agreeInscRule" name="agreeInscRule" type="hidden" value="false">
                        <!-- 개인정보 제3자 제공 동의 체크 여부 -->
                        <input id="agreeInscPrivacy" name="agreeInscPrivacy" type="hidden" value="false">
                        <div class="txt_agree">
                            여행보험 가입규약 및 개인정보 제3자 제공 동의를 확인하였습니다. <button class="sbtn_cont" date-id="lyr_insurance_agree" date-type="layer" onclick="showInsurancePrivacy();" type="button">가입 규약 및 제3자 제공 동의</button>
                        </div>
                        <div>
                            <input id="agreeInscRuleAndPrivacy" name="agreeInscRuleAndPrivacy" type="checkbox" value="false">
                            <label class="mr15" for="agreeInscRuleAndPrivacy"><span class="icon"></span>동의함</label>
                        </div>
                    </div>

                    <!-- 알아두세요 -->
                    <div class="notice_box">
                        <strong>알아두세요</strong>
                        <ul class="ul_dot">
                            <li>정확한 피보험자 정보인 경우에만 보험계약 조회 및 보험금 청구가 가능합니다. (단, 영문성명은 무관합니다.)</li>
                            <li>본 계약은 보험계약자를 티웨이항공으로, 피보험자 및 보험수익자를 티웨이항공 여객 탑승객 또는  온라인 회원으로 하는 단체(취급) 여행보험 계약으로 <span class="red">티웨이항공 여객 탑승객 또는 온라인 회원만 피보험자로 가입 가능합니다.</span><br>티웨이항공 탑승객 또는 온라인 회원이 아닌 경우 가입이 불가합니다.</li>
                            <li>기존 보험계약을 해지하고 새로운 보험계약을 체결하는 경우 보험인수가 거절되거나 보험료가 인상될 수 있으며, 보장내용 (면책기간 재적용 등)이 달라질 수 있습니다.</li>
                            <li>계약체결 전 약관 및 상품설명서를 반드시 참고하여 주시기 바랍니다.</li>
                            <li>이 보험계약은 예금자보호법에 따라 예금보험공사가 보호하되, 보호 한도는 본 보험회사에 있는 귀하의 모든 예금보호 대상 금융상품의 해약환급금(또는 만기 시 보험금이나 사고보험금)에 기타지급금을 합하여 1인당 “최고 5천만원”이며, 5천만원을 초과하는 나머지 금액은 보호하지 않습니다.<br> 다만, 보험계약자 및 보험료 납부자가 법인인 보험계약은 예금자보호법에 따라 예금보험공사가 보호하지 않습니다.  다만,보험계약자 및 보험료 납부자가 법인인 보험계약은 예금자보호법에 따라 예금보험공사가 보호하지 않습니다.</li>
                            <li>지급한도, 면책사항 등에 따라 보험금 지급이 제한될 수 있습니다.</li>
                            <li>해외여행 중 배상책임, 해외여행 중 휴대품손해, 해외여행 실손의료비 특별약관의 경우 보험금을 지급할 다수계약이 체결되어 있는 경우에는 약관에 따라 실손 비례 보상합니다.</li>
                            <li>상해담보의 경우 암벽등반, 스카이다이빙 등 직업, 직무, 동호회 활동 중 발생한 사고는 보상하지 않습니다.</li>
                        </ul>
                    </div>
                    <!-- <div class="notice_box">
                        <strong>알아두세요</strong>
                        <ul class="ul_dot">
                            <li>정확한 피보험자 정보인 경우에만 보험계약 조회 및 보험금 청구가 가능합니다. (단, 영문성명은 무관합니다.)</li>
                            <li>본 계약은 보험계약자를 티웨이항공으로, 피보험자 및 보험수익자를 티웨이항공 여객 탑승객 또는  온라인 회원으로 하는 단체(취급) 여행보험 계약으로 <span class="red">티웨이항공 여객 탑승객 또는 온라인 회원만 피보험자로 가입 가능합니다.</span><br>티웨이항공 탑승객 또는 온라인 회원이 아닌 경우 가입이 불가합니다.</li>
                            <li>기존 보험계약을 해지하고 새로운 보험계약을 체결하는 경우 보험인수가 거절되거나 보험료가 인상될 수 있으며, 보장내용 (면책기간 재적용 등)이 달라질 수 있습니다.</li>
                            <li>계약체결 전 약관 및 상품설명서를 반드시 참고하여 주시기 바랍니다.</li>
                            <li>이 보험계약은 예금자보호법에 따라 예금보험공사가 보호하되, 보호한도는 본 보험회사에 있는 귀하의 모든 예금 보호대상 금융상품의 해지 환급금(또는 만기시 보험금이나 사고보험금에 기타지급금을 합하여 1인당 최고 5천만원이며, 5천만원을 초과하는 나머지 금액은 보호하지 않습니다. <br>다만,보험계약자 및 보험료 납부자가 법인인 보험계약은 예금자보호법에 따라 예금보험공사가 보호하지 않습니다.</li>
                            <li>지급한도, 면책사항 등에 따라 보험금 지급이 제한될 수 있습니다.</li>
                        </ul>
                    </div> -->
                    <!--// 알아두세요 -->
                </div>
            </div>
        </div>
        <!-- //여행자 보험 선택 -->

    </div>
<div id="singleCalendarDP" class="commonComponentLayer" data-timestamp="1672037589460" tabindex="0" style="position: absolute; top: 637px; left: 535px;">


<script type="text/javascript">

var eleId = 'policyEndDate';

var showSingleCalendar = function(){

    $('body').on('mouseup', layer);

    var pointYear = Number('2023');
    var pointMonth = Number('1');
    var pointDay = Number('15');
    var offsetTop = Number('637');
    var offsetLeft = Number('535');
    var absoluteCoordYN = String('N');
    var beforeDays = String('');
    var afterDays = String('');

    if( absoluteCoordYN == '' || absoluteCoordYN == null || absoluteCoordYN == undefined ) absoluteCoordYN = 'Y';

    $("#beforeDays").val(beforeDays);
    $("#afterDays").val(afterDays);


    /*
        디폴트로 선택되어 있는 날짜를 정한다.

        1순위 : 전달인자로 지정한 날짜 - pointYear, pointMonth, pointDay
        2순위 : input태그에 이미 세팅되어 있는 날짜값
        3순위 : 오늘 날짜
    */
    var pointDate = new Date();
    if( pointYear == null || pointYear == '' || pointYear == undefined
        || pointMonth == null || pointMonth == '' || pointMonth == undefined
            || pointDay == null || pointDay == '' || pointDay == undefined
            ){

        //1순위 조건을 만족하지 못한다면 2순위 조건 적용

        var arrDefault = ""
        if( $("#" + eleId).val() != null ) arrDefault = $("#" + eleId).val().split("-");

        if( arrDefault.length == 3 ){

            pointDate.setFullYear(arrDefault[0]);
            pointDate.setMonth(arrDefault[1]-1);
            pointDate.setDate(arrDefault[2]);

        }else{

            //2순위 조건을 만족하지 못한다면 3순위 조건 적용
            //추가적인 처리 필요 없음

        }

    }else{

        //1순위 조건 적용
        pointDate.setFullYear(pointYear);
        pointDate.setMonth(pointMonth-1);
        pointDate.setDate(pointDay);

    }




    //동그라미 표시로 선택된 날짜를 저장
    $("#pointYear").val(pointDate.getFullYear());
    $("#pointMonth").val(pointDate.getMonth());
    $("#pointDay").val(pointDate.getDate());

    //현재 캘린더 상에 나와 있는 월을 저장 - 디폴드값은 동그라미 표시 날짜가 속한 월이다.
    var displayDate = new Date(pointDate.getTime());
    $("#displayYear").val(pointDate.getFullYear());
    $("#displayMonth").val(pointDate.getMonth());
    $("#displayDay").val(pointDate.getDate());


    //오늘 날짜
    var today = new Date();


    //캘린더에서 선택가능한 시작 날짜
    var startDate = new Date(today.getTime());
    startDate.setDate(startDate.getDate() - Number(beforeDays));

    if( beforeDays == '' || beforeDays == null || beforeDays == undefined ){
        $("#startYear").val("");
        $("#startMonth").val("");
        $("#startDay").val("");
    }else{
        $("#startYear").val(startDate.getFullYear());
        $("#startMonth").val(startDate.getMonth());
        $("#startDay").val(startDate.getDate());
    }
    var limitDateStart = startDate.getDate();


    //캘린더에서 선택가능한 마지막 날짜
    var endDate = new Date(today.getTime());
    endDate.setDate(endDate.getDate() + Number(afterDays));

    if( afterDays == '' || afterDays == null || afterDays == undefined ){
        $("#endYear").val("");
        $("#endMonth").val("");
        $("#endDay").val("");
    }else{
        $("#endYear").val(endDate.getFullYear());
        $("#endMonth").val(endDate.getMonth());
        $("#endDay").val(endDate.getDate());
    }


    var limitDateEnd = endDate.getDate();


    //선택 가능한 월을 출력하는 루프를 위한 임시 변수 세팅
    var loopStartDate = new Date(today.getTime());
    if( beforeDays != '' || beforeDays != null || beforeDays != undefined ){
        loopStartDate.setDate(loopStartDate.getDate() - Number(beforeDays));
    }else{
        loopStartDate.setMonth(diplayDate.getMonth() - 6);
    }
    loopStartDate.setDate(1);

    var loopEndDate = new Date(today.getTime());
    if( afterDays != '' || afterDays != null || afterDays != undefined ){
        loopEndDate.setDate(loopEndDate.getDate() + Number(afterDays));
    }else{
        loopEndDate.setMonth(diplayDate.getMonth() + 6);
    }
    loopEndDate.setDate(1);



    var str = "";
    str += "<div class=\"layer datepicker single\" id=\"datepicker_layer_s\" style=\"display:block;\">";
    str += "<div class=\"grid_datepicker_wrap\">";
    str += "<div class=\"grid_datepicker\">";
    str += "<div class=\"sel_yymm_wrap\">";
    str += "<span class=\"select datepicker\">";
    str += "<select tabindex=\"0\" id=\"selectMonth\" onchange=\"onChangeCanlendarMonth('" + eleId + "');\" title=\"년월 선택\">";
    str += "</select>";
    str += "</span>";
    str += "</div>";
    str += "<table class=\"tbl_datepicker\">";


    //달력 출력
    var date1 = null;
    var date2 = null;

    if( beforeDays != '' && beforeDays != null && beforeDays != undefined ){
        if( startDate.getFullYear() == displayDate.getFullYear() && startDate.getMonth() == displayDate.getMonth() ) date1 = startDate.getDate();
        else if( startDate.getTime() > displayDate.getTime() ){
            date1 = startDate.getDate();
            displayDate = startDate;
        }
    }

    if( afterDays != '' && afterDays != null && afterDays != undefined ){
        if( endDate.getFullYear() == displayDate.getFullYear() && endDate.getMonth() == displayDate.getMonth() ) date2 = endDate.getDate();
        else if( endDate.getTime() < displayDate.getTime() ){
            date2 = endDate.getDate();
            displayDate = endDate;
        }
    }


    str += getCalStr( eleId, displayDate, date1, date2 );

    str += "</table>";
    str += "</div>";
    str += "</div>";
    str += "<a href=\"javascript:onMoveMonth('prev');\" class=\"btn_cal_prev\">이전달 버튼</a>";
    str += "<a href=\"javascript:onMoveMonth('next');\" class=\"btn_cal_next\">다음달 버튼</a>";
    str += "</div>";

    $("#singleCalendarDP").append(str);

    // 공휴일 SET
    showHoliday();

    //연도,월 셀렉트 박스 세팅
    updateSelectBox();

    //레이어 위치
    if( offsetTop == null || offsetTop == '' || offsetTop == undefined ) offsetTop = 0;
    if( offsetLeft == null || offsetLeft == '' || offsetLeft == undefined ) offsetLeft = 0;

    var myTop = 0;
    var myLeft = 0;

    if( absoluteCoordYN == 'Y' ){
        myTop = Number($("#"+eleId).offset().top) + Number(offsetTop);
        myLeft = Number($("#"+eleId).offset().left) + Number(offsetLeft);
    }else{
        myTop = offsetTop;
        myLeft = offsetLeft;
    }

    $('#singleCalendarDP').css({'position': 'absolute','top': myTop, 'left': myLeft});

}



var getCalStr = function(eleId, displayDate, date1, date2){
    var monStr = '\uC6D4';
    var tueStr = '\uD654';
    var wedStr = '\uC218';
    var thuStr = '\uBAA9';
    var friStr = '\uAE08';
    var satStr = '\uD1A0';
    var sunStr = '\uC77C';

    if( date1 == null ) date1 = 0;
    if( date2 == null ) date2 = 100;


    var startDate = new Date(displayDate.getFullYear(),displayDate.getMonth(),1);
    var lastDate = new Date(displayDate.getFullYear(),displayDate.getMonth()+1,0);
    var dayCount = 0;

    var str = "";
    str += "<colgroup><col style=\"width:\"><col style=\"width:73px\"><col style=\"width:73px\"><col style=\"width:73px\"><col style=\"width:73px\"><col style=\"width:73px\"><col style=\"width:73px\"></colgroup>";
    str += "<thead><th scope=\"row\">" + sunStr + "</th><th scope=\"row\">" + monStr + "</th><th scope=\"row\">" + tueStr + "</th><th scope=\"row\">" + wedStr + "</th><th scope=\"row\">" + thuStr + "</th><th scope=\"row\">" + friStr + "</th><th scope=\"row\">" + satStr + "</th></thead>";
    str += "<tbody>";
    str += "<tr>";

    for( var i = 0; i < startDate.getDay(); i++ ){
        str += "<td><a class=\"day\"></a></td>";
        dayCount++;
    }


    //달력상에 나타나는 연도, 월
    var thisYear = String(displayDate.getFullYear());
    var thisMonth = String(displayDate.getMonth() + 1);
    var thisDay = String(displayDate.getDate());

    if( thisMonth.length == 1 ) thisMonth = "0" + thisMonth;
    if( thisDay.length == 1 ) thisDay = "0" + thisDay;


    //오늘 날짜
    var today = new Date();
    var todayYear = String(today.getFullYear());
    var todayMonth = String(today.getMonth());
    var todayDate = String(today.getDate());

    if( todayMonth.length == 1 ) todayMonth = "0" + todayMonth;
    if( todayDate.length == 1 ) todayDate = "0" + todayDate;


    //현 시점의 날짜 - 캘린더 상에 디폴드로 동그라미 표시가 나타날 날짜
    var pointYear = $("#pointYear").val();
    var pointMonth = $("#pointMonth").val();
    var pointDay = $("#pointDay").val();

    if( pointMonth.length == 1 ) pointMonth = "0" + pointMonth;
    if( pointDay.length == 1 ) pointDay = "0" + pointDay;


    for( var i = 1; i <= lastDate.getDate(); i++ ){

        var printHtml = "";
        if( i < date1 || i > date2 ){
            printHtml = "<a id=\"date_" + i + "\" data-d=\""+ thisYear +""+ thisMonth + (i<10? "0"+i:i ) + "\" class=\"day\" style=\"color:#CDCDCD;\"><span>" + i + "</span></a>";
        }else{
            //printHtml = "<a id=\"date_" + i + "\" data-d=\""+ thisYear +""+ thisMonth + (i<10? "0"+i:i ) + "\" href=\"javascript:showSCDate('" + thisYear + "' , '" + thisMonth + "' , '" + i + "');\" class=\"day"+ (dayCount%7==0||dayCount%7==6?' holiday':'') +"\"><span>" + i + "</span></a>";
            printHtml = "<a id=\"date_" + i + "\" data-d=\""+ thisYear +""+ thisMonth + (i<10? "0"+i:i ) + "\" href=\"javascript:showSCDate('" + thisYear + "' , '" + thisMonth + "' , '" + i + "');\" class=\"day\"><span>" + i + "</span></a>";
        }


        dayCount++;

        var i2digit = String(i);
        if( i2digit.length == 1 ) i2digit = "0" + i2digit;

        if( dayCount % 7 == 1 ){
            //일요일
            //printHtml = printHtml.replace(/<a/g,"<a style=\"color:#d22c26;\"");
            if( thisYear == pointYear && thisMonth == (Number(pointMonth) + 1) && i2digit == pointDay ){
                str += "<td class=\"holiday\">";
                printHtml = printHtml.replace(/day/g,"day sel\""+"title=\"선택됨\"");
            }else if( thisYear == todayYear && thisMonth == (Number(todayMonth) + 1) && i2digit == todayDate ){
                str += "<td class=\"holiday\">";
                printHtml = printHtml.replace(/day/g,"day today\""+"title=\"오늘\"");
            }else{
                str += "<td class=\"holiday\">";
            }

            str += printHtml + "</td>";
        }else if( dayCount % 7 == 0 ){
            //토요일
            //printHtml = printHtml.replace(/<a/g,"<a style=\"color:#d22c26;\"");
            if( thisYear == pointYear && thisMonth == (Number(pointMonth) + 1) && i2digit == pointDay ){
                str += "<td class=\"holiday\">";
                printHtml = printHtml.replace(/day/g,"day sel\""+"title=\"선택됨\"");
            }else if( thisYear == todayYear && thisMonth == (Number(todayMonth) + 1) && i2digit == todayDate ){
                str += "<td class=\"holiday\">";
                printHtml = printHtml.replace(/day/g,"day today\""+"title=\"오늘\"");
            }else{
                str += "<td class=\"holiday\">";
            }
            str += printHtml + "</td>";
            str += "</tr><tr>";
        }else{
            //평일
            if( thisYear == pointYear && thisMonth == (Number(pointMonth) + 1) && i2digit == pointDay ){
                str += "<td>";
                printHtml = printHtml.replace(/day/g,"day sel\""+"title=\"선택됨\"");
            }else if( thisYear == todayYear && thisMonth == (Number(todayMonth) + 1) && i2digit == todayDate ){
                str += "<td>";
                printHtml = printHtml.replace(/day/g,"day today\""+"title=\"오늘\"");
            }else{
                str += "<td>";
            }
            str += printHtml + "</td>";
        }

    }


    //날짜 출력 후 마지막 빈칸 출력
    var restBlankNum = 7 - (dayCount % 7);
    if( restBlankNum == 7 ) restBlankNum = 0;
    for( var i = 0; i <= restBlankNum; i++ ) str += "<td class=\"day\"></td>";
    str += "</tr>";
    str += "</tbody>";

    return str;

}



//캘린더에서 좌우 버튼을 눌렀을 때의 처리
var onMoveMonth = function(prevNext){

    var newDate = new Date($("#displayYear").val(), $("#displayMonth").val(), 1);
    var startDate = new Date($("#startYear").val(), $("#startMonth").val(), 1);
    var endDate = new Date($("#endYear").val(), $("#endMonth").val(), 1);

    var beforeDays = $("#beforeDays").val();
    var afterDays = $("#afterDays").val();

    if( prevNext == 'prev' ){

        if( (beforeDays == '' || beforeDays == null || beforeDays == undefined) || (startDate.getTime() < newDate.getTime()) ){
            newDate.setMonth(newDate.getMonth() - 1);
            moveMonth(newDate);
        }

    }

    if( prevNext == 'next' ){

        if( (afterDays == '' || afterDays == null || afterDays == undefined) || (endDate.getTime() > newDate.getTime()) ){
            newDate.setMonth(newDate.getMonth() + 1);
            moveMonth(newDate);
        }

    }

}



var onChangeCanlendarMonth = function(){

    var yearMonth = $("#selectMonth option:selected").val();
    var arrYearMonth = yearMonth.split("_");
    moveMonth(new Date( arrYearMonth[0], Number(arrYearMonth[1])-1 ));

}



var moveMonth = function(newDate){

    $("#displayYear").val(newDate.getFullYear());
    $("#displayMonth").val(newDate.getMonth());
    $("#displayDay").val(newDate.getDate());

    var startYear = $("#startYear").val();
    var startMonth = $("#startMonth").val();
    var startDay = $("#startDay").val();
    var endYear = $("#endYear").val();
    var endMonth = $("#endMonth").val();
    var endDay = $("#endDay").val();

    var limitDateStart = null;
    var limitDateEnd = null;
    if( newDate.getFullYear() == startYear && newDate.getMonth() == startMonth ) limitDateStart = startDay;
    if( newDate.getFullYear() == endYear && newDate.getMonth() == endMonth ) limitDateEnd = endDay;

    var str = getCalStr(eleId, newDate, limitDateStart, limitDateEnd);

    $(".tbl_datepicker").html('');
    $(".tbl_datepicker").html(str);

    // 공휴일 SET
    showHoliday();

    //연도,월 셀렉트 박스 업데이트
    updateSelectBox();
}

var showHoliday = function(){
    var holidays = {'20220508':'Y','20220309':'Y','20220606':'Y','20220202':'Y','20220301':'Y','20220201':'Y','20220101':'Y','20220131':'Y','20230929':'Y','20230928':'Y','20230505':'Y','20230527':'Y','20230606':'Y','20230101':'Y','20230123':'Y','20230122':'Y','20230301':'Y','20220909':'Y','20230121':'Y','20220815':'Y','20220912':'Y','20220911':'Y','20220910':'Y','20221009':'Y','20221225':'Y','20221003':'Y','20221010':'Y','20230815':'Y','20230930':'Y','20231009':'Y','20231003':'Y','20231225':'Y'};
    console.log(holidays);
    $.each($('a.day'),function(index,el){
        if(holidays[$(el).data('d')]=='Y'){
            $(el).addClass('holiday');
        }
    })
}

var updateSelectBox = function(){

    var today = new Date();

    var beforeDays = $("#beforeDays").val();
    var afterDays = $("#afterDays").val();

    var optionStr = "";

    //선택 가능한 월을 출력하는 루프를 위한 임시 변수 세팅
    var loopStartDate = new Date(today.getTime());
    if( beforeDays != '' && beforeDays != null && beforeDays != undefined ){
        loopStartDate.setDate(loopStartDate.getDate() - beforeDays);
    }else{
        var dateTemp = new Date($("#displayYear").val(), $("#displayMonth").val(), 1);
        dateTemp.setMonth(dateTemp.getMonth() - 6);
        loopStartDate.setTime(dateTemp.getTime());
    }
    loopStartDate.setDate(1);

    var loopEndDate = new Date(today.getTime());
    if( afterDays != '' && afterDays != null && afterDays != undefined ){
        loopEndDate.setDate(Number(loopEndDate.getDate()) + Number(afterDays));
    }else{
        var dateTemp = new Date($("#displayYear").val(), $("#displayMonth").val(), 1);
        dateTemp.setMonth(dateTemp.getMonth() + 6);
        loopEndDate.setTime(dateTemp.getTime());
    }
    loopEndDate.setDate(1);

    while( loopStartDate.getTime() <= loopEndDate.getTime() ){

        var thisYear = loopStartDate.getFullYear();
        var thisMonth = Number(loopStartDate.getMonth()) + 1;
        if( String(thisMonth).length == 1 ) thisMonth = "0" + String(thisMonth);

        var thisSelected = "";
        if( loopStartDate.getFullYear() == Number($("#displayYear").val()) && loopStartDate.getMonth() == Number($("#displayMonth").val()) ) thisSelected = " selected";

        optionStr += "<option value=\"" + thisYear + "_" + thisMonth + "\"" + thisSelected + "><span>" + thisYear + "." + thisMonth + "</span></option>";

        loopStartDate.setMonth(loopStartDate.getMonth() + 1);

    }

    $("#selectMonth").html("");
    $("#selectMonth").html(optionStr);

}




var showSCDate = function(year, month, date){

    month = String(month);
    if( month.length == 1 ) month = "0" + month;

    date = String(date);
    if( date.length == 1 ) date = "0" + date;

    var startDate = year + "-" + month + "-" + date;
    $("#" + $("#eleId").val() ).val(startDate);

    if($.isFunction(window.flightBookingEndChange)){
        flightBookingEndChange(startDate);
    }
    closeSingleCalendar();

}


var closeSingleCalendar = function(){

    $("#singleCalendarDay").remove();
    $("#datepicker_layer_s").remove();
    // 서비스안내 메뉴와 예약 목록 조회 페이지에서 같은 layer를 사용하기 때문에 layer close 후 focus처리해줄 요소에 date_focus 클래스를 추가해줌
    $('.date_focus').focus();

}


function layer(e){

    var datepicker = $('#datepicker_layer_s');
    if ( !datepicker.is(e.target) && datepicker.has(e.target).length == 0 ) {
        closeSingleCalendar();
    }
}



$(document).ready(function(){

    showSingleCalendar();

});
</script>

<form id="singleCalendarDataForm" name="singleCalendarDataForm">

<input id="eleId" name="eleId" type="hidden" value="policyEndDate">

<input id="beforeDays" name="beforeDays" type="hidden" value="">
<input id="afterDays" name="afterDays" type="hidden" value="">

<input id="pointYear" name="pointYear" type="hidden" value="2023">
<input id="pointMonth" name="pointMonth" type="hidden" value="0">
<input id="pointDay" name="pointDay" type="hidden" value="15">
<input id="displayYear" name="displayYear" type="hidden" value="2023">
<input id="displayMonth" name="displayMonth" type="hidden" value="0">
<input id="displayDay" name="displayDay" type="hidden" value="15">

<input id="startYear" name="startYear" type="hidden" value="">
<input id="startMonth" name="startMonth" type="hidden" value="">
<input id="startDay" name="startDay" type="hidden" value="">
<input id="endYear" name="endYear" type="hidden" value="">
<input id="endMonth" name="endMonth" type="hidden" value="">
<input id="endDay" name="endDay" type="hidden" value="">
</form>




<div class="layer datepicker single" id="datepicker_layer_s" style="display:block;">
    <div class="grid_datepicker_wrap"><div class="grid_datepicker">
        <div class="sel_yymm_wrap">
            <span class="select datepicker">
                <select tabindex="0" id="selectMonth" onchange="onChangeCanlendarMonth('policyEndDate');" title="년월 선택">
                    <option value="2022_07">2022.07</option>
                    <option value="2022_08">2022.08</option>
                    <option value="2022_09">2022.09</option>
                    <option value="2022_10">2022.10</option>
                    <option value="2022_11">2022.11</option>
                    <option value="2022_12">2022.12</option>
                    <option value="2023_01" selected="">2023.01</option>
                    <option value="2023_02">2023.02</option>
                    <option value="2023_03">2023.03</option>
                    <option value="2023_04">2023.04</option>
                    <option value="2023_05">2023.05</option>
                    <option value="2023_06">2023.06</option>
                    <option value="2023_07">2023.07</option>
                </select></span></div><table class="tbl_datepicker">
                    <colgroup>
                        <col style="width:">
                        <col style="width:73px">
                        <col style="width:73px">
                        <col style="width:73px">
                        <col style="width:73px">
                        <col style="width:73px">
                        <col style="width:73px">
                    </colgroup>
                    <thead>
                        <tr>
                            <th scope="row">일</th>
                            <th scope="row">월</th>
                            <th scope="row">화</th>
                            <th scope="row">수</th>
                            <th scope="row">목</th>
                            <th scope="row">금</th>
                            <th scope="row">토</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="holiday">
                                <a id="date_1" data-d="20230101" href="javascript:showSCDate('2023' , '01' , '1');" class="day holiday">
                                    <span>1</span>
                                </a>
                            </td>
                            <td>
                                <a id="date_2" data-d="20230102" href="javascript:showSCDate('2023' , '01' , '2');" class="day">
                                    <span>2</span>
                                </a>
                            </td>
                            <td>
                                <a id="date_3" data-d="20230103" href="javascript:showSCDate('2023' , '01' , '3');" class="day">
                                    <span>3</span>
                                </a>
                            </td>
                            <td>
                                <a id="date_4" data-d="20230104" href="javascript:showSCDate('2023' , '01' , '4');" class="day">
                                    <span>4</span>
                                </a>
                            </td>
                            <td>
                                <a id="date_5" data-d="20230105" href="javascript:showSCDate('2023' , '01' , '5');" class="day">
                                    <span>5</span>
                                </a>
                            </td>
                            <td>
                                <a id="date_6" data-d="20230106" href="javascript:showSCDate('2023' , '01' , '6');" class="day">
                                    <span>6</span>
                                </a>
                            </td>
                            <td class="holiday">
                                <a id="date_7" data-d="20230107" href="javascript:showSCDate('2023' , '01' , '7');" class="day">
                                    <span>7</span>
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td class="holiday">
                                <a id="date_8" data-d="20230108" href="javascript:showSCDate('2023' , '01' , '8');" class="day">
                                    <span>8</span>
                                </a>
                            </td>
                            <td>
                                <a id="date_9" data-d="20230109" href="javascript:showSCDate('2023' , '01' , '9');" class="day">
                                    <span>9</span>
                                </a>
                            </td>
                            <td>
                                <a id="date_10" data-d="20230110" href="javascript:showSCDate('2023' , '01' , '10');" class="day">
                                    <span>10</span>
                                </a>
                            </td>
                            <td>
                                <a id="date_11" data-d="20230111" href="javascript:showSCDate('2023' , '01' , '11');" class="day">
                                    <span>11</span>
                                </a>
                            </td>
                            <td>
                                <a id="date_12" data-d="20230112" href="javascript:showSCDate('2023' , '01' , '12');" class="day">
                                    <span>12</span>
                                </a>
                            </td>
                            <td>
                                <a id="date_13" data-d="20230113" href="javascript:showSCDate('2023' , '01' , '13');" class="day">
                                        <span>13</span>
                                    </a>
                                </td>
                                <td class="holiday">
                                    <a id="date_14" data-d="20230114" href="javascript:showSCDate('2023' , '01' , '14');" class="day">
                                        <span>14</span>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td class="holiday">
                                    <a id="date_15" data-d="20230115" href="javascript:showSCDate('2023' , '01' , '15');" class="day sel" title="선택됨" "="">
                                        <span>15</span>
                                    </a>
                                </td>
                                <td>
                                    <a id="date_16" data-d="20230116" href="javascript:showSCDate('2023' , '01' , '16');" class="day">
                                        <span>16</span>
                                    </a>
                                </td>
                                <td>
                                    <a id="date_17" data-d="20230117" href="javascript:showSCDate('2023' , '01' , '17');" class="day">
                                        <span>17</span>
                                    </a>
                                </td>
                                <td>
                                    <a id="date_18" data-d="20230118" href="javascript:showSCDate('2023' , '01' , '18');" class="day">
                                        <span>18</span>
                                    </a>
                                </td>
                                <td>
                                    <a id="date_19" data-d="20230119" href="javascript:showSCDate('2023' , '01' , '19');" class="day">
                                        <span>19</span>
                                    </a>
                                </td>
                                <td>
                                    <a id="date_20" data-d="20230120" href="javascript:showSCDate('2023' , '01' , '20');" class="day">
                                        <span>20</span>
                                    </a>
                                </td>
                                <td class="holiday">
                                    <a id="date_21" data-d="20230121" href="javascript:showSCDate('2023' , '01' , '21');" class="day holiday">
                                        <span>21</span>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td class="holiday">
                                    <a id="date_22" data-d="20230122" href="javascript:showSCDate('2023' , '01' , '22');" class="day holiday">
                                        <span>22</span>
                                    </a>
                                </td>
                                <td>
                                    <a id="date_23" data-d="20230123" href="javascript:showSCDate('2023' , '01' , '23');" class="day holiday">
                                        <span>23</span>
                                    </a>
                                </td>
                                <td>
                                    <a id="date_24" data-d="20230124" href="javascript:showSCDate('2023' , '01' , '24');" class="day">
                                        <span>24</span>
                                    </a>
                                </td>
                                <td>
                                    <a id="date_25" data-d="20230125" href="javascript:showSCDate('2023' , '01' , '25');" class="day">
                                        <span>25</span>
                                    </a>
                                </td>
                                <td>
                                    <a id="date_26" data-d="20230126" href="javascript:showSCDate('2023' , '01' , '26');" class="day">
                                        <span>26</span>
                                    </a>
                                </td>
                                <td>
                                    <a id="date_27" data-d="20230127" href="javascript:showSCDate('2023' , '01' , '27');" class="day">
                                        <span>27</span>
                                    </a>
                                </td>
                                <td class="holiday">
                                    <a id="date_28" data-d="20230128" href="javascript:showSCDate('2023' , '01' , '28');" class="day">
                                        <span>28</span>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td class="holiday">
                                    <a id="date_29" data-d="20230129" href="javascript:showSCDate('2023' , '01' , '29');" class="day">
                                        <span>29</span>
                                    </a>
                                </td>
                                <td>
                                    <a id="date_30" data-d="20230130" href="javascript:showSCDate('2023' , '01' , '30');" class="day">
                                        <span>30</span>
                                    </a>
                                </td>
                                <td>
                                    <a id="date_31" data-d="20230131" href="javascript:showSCDate('2023' , '01' , '31');" class="day">
                                        <span>31</span>
                                    </a>
                                </td>
                                <td class="day"></td>
                                <td class="day"></td>
                                <td class="day"></td>
                                <td class="day"></td>
                                <td class="day"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <a href="javascript:onMoveMonth('prev');" class="btn_cal_prev">이전달 버튼</a>
            <a href="javascript:onMoveMonth('next');" class="btn_cal_next">다음달 버튼</a>
        </div>
    </div>
</div>

<!-- 세션 안내 Layer -->
<div date-id="layer_session" date-type="layer" id="sessionLayer" style="display:none;" class="layer_focus"></div>
<div class="layer type04" id="layer_session">
    <div class="layer_header">
        <h2 id="sessionLayerTitle">결제 제한 시간 만료 안내</h2>
    </div>
    <div class="layer_content nofocus" tabindex="-1">
             <div class="layer_result_msg error">
             <strong class="tit"></strong>
             <span class="txt" id="sessionLayerMsg">선택하신 항공권의 결제가능시간을 초과하여 결제가 불가합니다.<br>아래 확인버튼 클릭 시 항공권 예약 초기 화면으로 이동합니다.</span>
         </div>
    </div>
    <div class="layer_footer">
        <button class="btn_large red closeLayerBtn" data-redirecturl="/app/booking/searchItinerary" name="extendTimeLimit" type="button">확인</button>
    </div>
    <a class="btn_layer_close" href="javascript:controlLayer('#layer_session', '0');" style="display:none">레이어 닫기</a>
</div>
<!--// 세션 안내 Layer-->
<!--// Contnent -->

<div class="summary_wrap">
    <div class="summary_top">
        <div class="summary_top_cont">
            <a class="js-toggle-summary" href="#none" title="항공운임 등 총액 열기">
                <!-- 가격 -->
                <div class="price_wrap" id="summaryTopPrice">
                    <span class="total">항공운임 등 총액</span>
                    
                    <span class="unit summary_currency">KRW</span>
                    <span class="price" id="summary_title_amount">6,443,620</span>
                    
                    
                    
                    <span class="icon"></span>
                </div>
                <!-- 가격 -->
            </a>
            <!-- 버튼 -->
            <div class="float--right font0" id="buttonSet">
                <!-- booking_rule page -->
                
                <!-- // booking_rule page -->
                <!-- booking_ssr page -->
                
                    <button class="btn_large gray buttonControl" id="buttonSkip" style="display: inline-block;" type="button">바로 결제</button>
                    <button class="btn_large red buttonControl next" id="buttonNextStep" style="" type="button">다음 단계</button>
                    <button class="btn_large red buttonControl next" id="buttonNextRoute" style="display: none;" type="button">다음 구간</button>
                
                <!-- // booking_ssr page -->
                <!-- reservation bundle page -->
                
                <!-- // reservation bundle page -->
                <!-- reservation ssr page -->
                
                
                <!-- payment page -->
                
                <!-- // payment page -->
                <!-- payment page -->
                
                <!-- // payment page -->
            </div>
            <!--// 버튼 -->
        </div>
    </div>
    <!--// Summary Top -->

    <!-- Summary 내용 -->
    <div class="summary_cont">
        <!-- 타이틀 -->
        <div class="con_tit_wrap">
            <h3 class="con_tit">예약 정보</h3>
            <span class="con_tit_decs">
                
                
                    성인
                    
                    
                    2
                
                
                
                    
                    
                    
                    
                
                
                
                    
                    
                    
                    
                
            </span>
        </div>
        <!--// 타이틀 -->

        <!-- loop -->
        <div id="summary_default">
            <!-- 구간 Tab -->
            <div class="tab_wrap">
                <ul class="tab n4 added2">
                    <!-- loop -->
                    
                        <li class="on"><a tabindex="-1" href="#tab1" title="선택됨">구간1 (ICN - SYD)</a></li>
                    
                    
                        <li><a tabindex="-1" href="#tab2" title="">구간2 (SYD - ICN)</a></li>
                    
                </ul>
                
                
                <div class="tab_cont route_1" id="tab1" tabindex="0" style="display: block;">
                    
                        <!-- 구간정보 -->
                        <div class="route_info">
                            <div class="route start">
                                <span class="eng">ICN</span>
                                <span>서울/인천</span>
                            </div>
                            <div class="route end">
                                <span class="eng">SYD</span>
                                <span>시드니</span>
                            </div>
                        </div>
                        <!-- 구간정보 -->
                        <!-- 내역 리스트 -->
                        <div class="summary_list">
                            <dl class="fl">
                                <dt>출발일/편명/기종</dt>
                                <dd>
                                    2022-12-26(월)
                                    /
                                    TW501
                                    /
                                    A330-300
                                </dd>
                                <dt>출/도착시간/비행 시간</dt>
                                <dd>
                                    22:20~10:45
                                     +1
                                    /
                                    10h 25m
                                </dd>
                                <dt>운항 구분/실제 운항사</dt>
                                <dd>
                                    직항
                                    
                                    /
                                    티웨이항공
                                </dd>
                            </dl>
                            <dl class="fr">
                                <dt>기내 수하물</dt>
                                <dd>10KG</dd>
                                <dt>무료위탁수하물</dt>
                                <dd>
                                    <!--수량기준-->
                                    40KG
                                    <!--중량기준-->
                                    
                                </dd>
                                <dt>운임 종류</dt>
                                <dd>
                                    <!-- <th:block th:unless="${pageType eq 'res_bund' or pageType eq 'res_ssr'}" th:text="${@codeManager.getFrontCodeLang('FARE_TYPE', retrieveBookingRS.guestDetails[0].flightSegmentGroupForGuest[(segmentGroup.index-1)].fareInfoForGuest.fareType).getLangTitle()}">스마트운임</th:block> -->
                                    비즈니스 운임
                                </dd>
                            </dl>
                        </div>
                        <!--// 내역 리스트 -->
                        
                        
                    
                    <!-- 탑승자 리스트 -->
                    <div class="passenger_list_wrap">
                        <div class="tit mt30">
                            <h3>탑승객 상세정보</h3>
                        </div>
                        <div class="passenger_list">
                            <ul>
                                
                                    
                                    
                                        <li data-paxtitle="KIM/SEONKYOUNG" data-bundleamount="0" data-baggage_amount="0" data-inscamount="0" data-paxtype="ADULT" data-passengernumber="302996389" data-paxamount="1758560.0" data-businessyn="Y" data-seat_amount="0" data-meal_amount2="0" data-meal_amount1="0" data-fareamount="1758560.0" class="ADULT">
                                            <a class="title on" href="#none" tabindex="-1">
                                                
                                                <span class="ico_passenger ADULT_M">탑승객아이콘</span>

                                                <!--홍/길자(유아 김/개똥) / 성인(여) / 2010-01-01-->
                                                <span>
                                                    KIM/SEONKYOUNG /
                                                    성인
                                                    
                                                    
                                                    (남)
                                                     /
                                                    1992-02-15
                                                </span>
                                                <div class="price_wrap">
                                                    <span class="unit summary_currency">KRW</span>
                                                    <span class="price">1,758,560</span>
                                                    <span class="standard">1인 편도총액기준</span>
                                                </div>
                                            </a>
                                            <div class="passenger_summary" style="display: block;">
                                                <!-- 내역 리스트 -->
                                                <div class="summary_list">
                                                    <dl class="fl">
                                                        <dt>항공 운임</dt>
                                                        <dd>
                                                            <em>KRW</em>
                                                            <em class="amount">1,620,000</em>
                                                        </dd>
                                                        <dt>유류할증료</dt>
                                                        
                                                        <dd>
                                                            <em>KRW</em>
                                                            <em class="amount">71,700</em>
                                                        </dd>
                                                        <dt>공항시설 사용료
                                                            
                                                                   <button class="btn_tooltip alert layer_focus" date-id="taxInfo_layer" date-type="layer" onclick="taxInfo('302996389', '1');"><span class="blind">공항시설사용료안내</span></button>
                                                                  
                                                        </dt>
                                                        
                                                        <dd>
                                                            <em>KRW</em>
                                                            <em class="amount">66,860</em>
                                                        </dd>
                                                    </dl>
                                                    
                                                    <!-- 비즈니스 클래스인 경우 -->
                                                    <dl class="fr">
                                                        <dt>비즈니스 세이버 클래스 서비스</dt>
                                                        
                                                        
                                                            <div class="added_box bundle">
                                                                <dt class="bundle_list"><span>위탁수하물 (40KG)</span></dt>
                                                                <dt class="bundle_list bund SEAT">
                                                                    <span>프리미엄 플랫 좌석</span>
                                                                    <span class="view">(1E)</span>
                                                                </dt>
                                                                
                                                                <dt class="bundle_list bund MEAL">
                                                                    <span>기내식</span>
                                                                    
                                                                    
                                                                    
                                                                </dt>
                                                                
                                                                
                                                                <dt class="bundle_list bund MEAL">
                                                                    <span>기내식</span>
                                                                    
                                                                    
                                                                    
                                                                </dt>
                                                                
                                                                <dt class="bundle_list"><span>전용카운터</span></dt>
                                                                <dt class="bundle_list"><span>우선탑승/하기</span></dt>
                                                                <dt class="bundle_list"><span>수하물 우선 처리</span></dt>
                                                            </div>
                                                        
                                                        
                                                        
                                                            
                                                            
                                                        
                                                    </dl>
                                                    <!-- // 비즈니스 클래스인 경우 -->
                                                </div>
                                                <!--// 내역 리스트 -->
                                            </div>
                                        </li>
                                    
                                    
                                    
                                        
                                    
                                
                                
                                    
                                    
                                        <li data-paxtitle="KIM/SEON" data-bundleamount="0" data-baggage_amount="0" data-inscamount="0" data-paxtype="ADULT" data-passengernumber="302996390" data-paxamount="1758560.0" data-businessyn="Y" data-seat_amount="0" data-meal_amount2="0" data-meal_amount1="0" data-fareamount="1758560.0" class="ADULT">
                                            <a class="title" href="#none" tabindex="-1">
                                                
                                                <span class="ico_passenger ADULT_M">탑승객아이콘</span>

                                                <!--홍/길자(유아 김/개똥) / 성인(여) / 2010-01-01-->
                                                <span>
                                                    KIM/SEON /
                                                    성인
                                                    
                                                    
                                                    (남)
                                                     /
                                                    1996-11-12
                                                </span>
                                                <div class="price_wrap">
                                                    <span class="unit summary_currency">KRW</span>
                                                    <span class="price">1,758,560</span>
                                                    <span class="standard">1인 편도총액기준</span>
                                                </div>
                                            </a>
                                            <div class="passenger_summary">
                                                <!-- 내역 리스트 -->
                                                <div class="summary_list">
                                                    <dl class="fl">
                                                        <dt>항공 운임</dt>
                                                        <dd>
                                                            <em>KRW</em>
                                                            <em class="amount">1,620,000</em>
                                                        </dd>
                                                        <dt>유류할증료</dt>
                                                        
                                                        <dd>
                                                            <em>KRW</em>
                                                            <em class="amount">71,700</em>
                                                        </dd>
                                                        <dt>공항시설 사용료
                                                            
                                                                   <button class="btn_tooltip alert layer_focus" date-id="taxInfo_layer" date-type="layer" onclick="taxInfo('302996390', '1');"><span class="blind">공항시설사용료안내</span></button>
                                                                  
                                                        </dt>
                                                        
                                                        <dd>
                                                            <em>KRW</em>
                                                            <em class="amount">66,860</em>
                                                        </dd>
                                                    </dl>
                                                    
                                                    <!-- 비즈니스 클래스인 경우 -->
                                                    <dl class="fr">
                                                        <dt>비즈니스 세이버 클래스 서비스</dt>
                                                        
                                                        
                                                            <div class="added_box bundle">
                                                                <dt class="bundle_list"><span>위탁수하물 (40KG)</span></dt>
                                                                <dt class="bundle_list bund SEAT">
                                                                    <span>프리미엄 플랫 좌석</span>
                                                                    <span class="view"></span>
                                                                </dt>
                                                                
                                                                <dt class="bundle_list bund MEAL">
                                                                    <span>기내식</span>
                                                                    
                                                                    
                                                                    
                                                                </dt>
                                                                
                                                                
                                                                <dt class="bundle_list bund MEAL">
                                                                    <span>기내식</span>
                                                                    
                                                                    
                                                                    
                                                                </dt>
                                                                
                                                                <dt class="bundle_list"><span>전용카운터</span></dt>
                                                                <dt class="bundle_list"><span>우선탑승/하기</span></dt>
                                                                <dt class="bundle_list"><span>수하물 우선 처리</span></dt>
                                                            </div>
                                                        
                                                        
                                                        
                                                            
                                                            
                                                        
                                                    </dl>
                                                    <!-- // 비즈니스 클래스인 경우 -->
                                                </div>
                                                <!--// 내역 리스트 -->
                                            </div>
                                        </li>
                                    
                                    
                                    
                                        
                                    
                                
                            </ul>
                        </div>
                    </div>
                    <!--// 탑승자 리스트 -->
                    <!-- 금액 -->
                    <div class="sub_price">
                        <dl>
                            <dt>전체 탑승객 편도 총액</dt>
                            <dd>
                                <span class="unit summary_currency">KRW</span>
                                <span class="price">3,517,120</span>
                            </dd>
                        </dl>
                    </div>
                    <!-- 금액 -->
                    <!--// 입력전 -->
                </div>
                
                <div class="tab_cont route_2" id="tab2" tabindex="-1" style="display: none;">
                    
                        <!-- 구간정보 -->
                        <div class="route_info">
                            <div class="route start">
                                <span class="eng">SYD</span>
                                <span>시드니</span>
                            </div>
                            <div class="route end">
                                <span class="eng">ICN</span>
                                <span>서울/인천</span>
                            </div>
                        </div>
                        <!-- 구간정보 -->
                        <!-- 내역 리스트 -->
                        <div class="summary_list">
                            <dl class="fl">
                                <dt>출발일/편명/기종</dt>
                                <dd>
                                    2023-01-15(일)
                                    /
                                    TW502
                                    /
                                    A330-300
                                </dd>
                                <dt>출/도착시간/비행 시간</dt>
                                <dd>
                                    12:15~21:05
                                    
                                    /
                                    10h 50m
                                </dd>
                                <dt>운항 구분/실제 운항사</dt>
                                <dd>
                                    직항
                                    
                                    /
                                    티웨이항공
                                </dd>
                            </dl>
                            <dl class="fr">
                                <dt>기내 수하물</dt>
                                <dd>10KG</dd>
                                <dt>무료위탁수하물</dt>
                                <dd>
                                    <!--수량기준-->
                                    40KG
                                    <!--중량기준-->
                                    
                                </dd>
                                <dt>운임 종류</dt>
                                <dd>
                                    <!-- <th:block th:unless="${pageType eq 'res_bund' or pageType eq 'res_ssr'}" th:text="${@codeManager.getFrontCodeLang('FARE_TYPE', retrieveBookingRS.guestDetails[0].flightSegmentGroupForGuest[(segmentGroup.index-1)].fareInfoForGuest.fareType).getLangTitle()}">스마트운임</th:block> -->
                                    비즈니스 운임
                                </dd>
                            </dl>
                        </div>
                        <!--// 내역 리스트 -->
                        
                        
                    
                    <!-- 탑승자 리스트 -->
                    <div class="passenger_list_wrap">
                        <div class="tit mt30">
                            <h3>탑승객 상세정보</h3>
                        </div>
                        <div class="passenger_list">
                            <ul>
                                
                                    
                                    
                                        
                                    
                                    
                                    
                                        <li data-paxtitle="KIM/SEONKYOUNG" data-bundleamount="0" data-baggage_amount="0" data-inscamount="0" data-paxtype="ADULT" data-passengernumber="302996389" data-paxamount="1463250.0" data-businessyn="Y" data-seat_amount="0" data-meal_amount2="0" data-meal_amount1="0" data-fareamount="1463250.0" class="ADULT">
                                            <a class="title on" href="#none" tabindex="-1">
                                                
                                                <span class="ico_passenger ADULT_M">탑승객아이콘</span>

                                                <!--홍/길자(유아 김/개똥) / 성인(여) / 2010-01-01-->
                                                <span>
                                                    KIM/SEONKYOUNG /
                                                    성인
                                                    
                                                    
                                                    (남)
                                                     /
                                                    1992-02-15
                                                </span>
                                                <div class="price_wrap">
                                                    <span class="unit summary_currency">KRW</span>
                                                    <span class="price">1,463,250</span>
                                                    <span class="standard">1인 편도총액기준</span>
                                                </div>
                                            </a>
                                            <div class="passenger_summary" style="display: block;">
                                                <!-- 내역 리스트 -->
                                                <div class="summary_list">
                                                    <dl class="fl">
                                                        <dt>항공 운임</dt>
                                                        <dd>
                                                            <em>KRW</em>
                                                            <em class="amount">1,300,000</em>
                                                        </dd>
                                                        <dt>유류할증료</dt>
                                                        
                                                        <dd>
                                                            <em>KRW</em>
                                                            <em class="amount">71,700</em>
                                                        </dd>
                                                        <dt>공항시설 사용료
                                                            
                                                                   <button class="btn_tooltip alert layer_focus" date-id="taxInfo_layer" date-type="layer" onclick="taxInfo('302996389', '2');"><span class="blind">공항시설사용료안내</span></button>
                                                                  
                                                        </dt>
                                                        
                                                        <dd>
                                                            <em>KRW</em>
                                                            <em class="amount">91,550</em>
                                                        </dd>
                                                    </dl>
                                                    
                                                    <!-- 비즈니스 클래스인 경우 -->
                                                    <dl class="fr">
                                                        <dt>비즈니스 세이버 클래스 서비스</dt>
                                                        
                                                        
                                                            <div class="added_box bundle">
                                                                <dt class="bundle_list"><span>위탁수하물 (40KG)</span></dt>
                                                                <dt class="bundle_list bund SEAT">
                                                                    <span>프리미엄 플랫 좌석</span>
                                                                    <span class="view"></span>
                                                                </dt>
                                                                
                                                                <dt class="bundle_list bund MEAL">
                                                                    <span>기내식</span>
                                                                    
                                                                    <span class="view">(점심식사 / 기본 기내식)</span>
                                                                    
                                                                </dt>
                                                                
                                                                
                                                                <dt class="bundle_list bund MEAL">
                                                                    <span>기내식</span>
                                                                    
                                                                    
                                                                    <span class="view">(저녁식사 / 소고기 커리라이스)</span>
                                                                </dt>
                                                                
                                                                <dt class="bundle_list"><span>전용카운터</span></dt>
                                                                <dt class="bundle_list"><span>우선탑승/하기</span></dt>
                                                                <dt class="bundle_list"><span>수하물 우선 처리</span></dt>
                                                            </div>
                                                        
                                                        
                                                        
                                                            
                                                            
                                                        
                                                    </dl>
                                                    <!-- // 비즈니스 클래스인 경우 -->
                                                </div>
                                                <!--// 내역 리스트 -->
                                            </div>
                                        </li>
                                    
                                
                                
                                    
                                    
                                        
                                    
                                    
                                    
                                        <li data-paxtitle="KIM/SEON" data-bundleamount="0" data-baggage_amount="0" data-inscamount="0" data-paxtype="ADULT" data-passengernumber="302996390" data-paxamount="1463250.0" data-businessyn="Y" data-seat_amount="0" data-meal_amount2="0" data-meal_amount1="0" data-fareamount="1463250.0" class="ADULT">
                                            <a class="title" href="#none" tabindex="-1">
                                                
                                                <span class="ico_passenger ADULT_M">탑승객아이콘</span>

                                                <!--홍/길자(유아 김/개똥) / 성인(여) / 2010-01-01-->
                                                <span>
                                                    KIM/SEON /
                                                    성인
                                                    
                                                    
                                                    (남)
                                                     /
                                                    1996-11-12
                                                </span>
                                                <div class="price_wrap">
                                                    <span class="unit summary_currency">KRW</span>
                                                    <span class="price">1,463,250</span>
                                                    <span class="standard">1인 편도총액기준</span>
                                                </div>
                                            </a>
                                            <div class="passenger_summary">
                                                <!-- 내역 리스트 -->
                                                <div class="summary_list">
                                                    <dl class="fl">
                                                        <dt>항공 운임</dt>
                                                        <dd>
                                                            <em>KRW</em>
                                                            <em class="amount">1,300,000</em>
                                                        </dd>
                                                        <dt>유류할증료</dt>
                                                        
                                                        <dd>
                                                            <em>KRW</em>
                                                            <em class="amount">71,700</em>
                                                        </dd>
                                                        <dt>공항시설 사용료
                                                            
                                                                   <button class="btn_tooltip alert layer_focus" date-id="taxInfo_layer" date-type="layer" onclick="taxInfo('302996390', '2');"><span class="blind">공항시설사용료안내</span></button>
                                                                  
                                                        </dt>
                                                        
                                                        <dd>
                                                            <em>KRW</em>
                                                            <em class="amount">91,550</em>
                                                        </dd>
                                                    </dl>
                                                    
                                                    <!-- 비즈니스 클래스인 경우 -->
                                                    <dl class="fr">
                                                        <dt>비즈니스 세이버 클래스 서비스</dt>
                                                        
                                                        
                                                            <div class="added_box bundle">
                                                                <dt class="bundle_list"><span>위탁수하물 (40KG)</span></dt>
                                                                <dt class="bundle_list bund SEAT">
                                                                    <span>프리미엄 플랫 좌석</span>
                                                                    <span class="view"></span>
                                                                </dt>
                                                                
                                                                <dt class="bundle_list bund MEAL">
                                                                    <span>기내식</span>
                                                                    
                                                                    <span class="view">(점심식사 / 기본 기내식)</span>
                                                                    
                                                                </dt>
                                                                
                                                                
                                                                <dt class="bundle_list bund MEAL">
                                                                    <span>기내식</span>
                                                                    
                                                                    
                                                                    <span class="view">(저녁식사 / 소고기 커리라이스)</span>
                                                                </dt>
                                                                
                                                                <dt class="bundle_list"><span>전용카운터</span></dt>
                                                                <dt class="bundle_list"><span>우선탑승/하기</span></dt>
                                                                <dt class="bundle_list"><span>수하물 우선 처리</span></dt>
                                                            </div>
                                                        
                                                        
                                                        
                                                            
                                                            
                                                        
                                                    </dl>
                                                    <!-- // 비즈니스 클래스인 경우 -->
                                                </div>
                                                <!--// 내역 리스트 -->
                                            </div>
                                        </li>
                                    
                                
                            </ul>
                        </div>
                    </div>
                    <!--// 탑승자 리스트 -->
                    <!-- 금액 -->
                    <div class="sub_price">
                        <dl>
                            <dt>전체 탑승객 편도 총액</dt>
                            <dd>
                                <span class="unit summary_currency">KRW</span>
                                <span class="price">2,926,500</span>
                            </dd>
                        </dl>
                    </div>
                    <!-- 금액 -->
                    <!--// 입력전 -->
                </div>
            </div>
            <!-- 구간 Tab -->
        </div>
    </div>
    <!--// Summary 내용 -->
</div>


<!-- 여정 재검색 레이어 -->
<div class="layer_plan_research" style="display: none;">
    <div class="plan_research">
        <!-- 여정 재검색 -->

        <!-- Title -->
        <div class="tit_booking_wrap">
            <h2 class="pg_tit">여정 재검색</h2>
        </div>
        <!-- Title -->

        <!-- 여정검색  -->
        



<!-- Input Booking -->
<div class="input_booking_wrap">
    <!-- 예약 탭 -->
    <div class="booking_option">
        <ul class="sel_section">
            <li class="on">
                <a href="#booking01" onclick="$('#display_tripType_RT').prop('checked',true);$('#display_tripType_RT').trigger('change');" title="선택됨">
                    <input aria-hidden="true" id="display_tripType_RT" name="tripTypeButton" tabindex="-1" type="radio" value="RT">
                    <label for="display_tripType_RT">왕복</label>
                </a>
            </li>
            <li>
                <a href="#booking02" onclick="$('#display_tripType_OW').prop('checked',true);$('#display_tripType_OW').trigger('change');">
                    <input aria-hidden="true" id="display_tripType_OW" name="tripTypeButton" tabindex="-1" type="radio" value="OW">
                    <label for="display_tripType_OW">편도</label>
                </a>
            </li>
            <li>
                <a href="#booking03" onclick="$('#display_tripType_MC').prop('checked',true);$('#display_tripType_MC').trigger('change');">
                    <input aria-hidden="true" id="display_tripType_MC" name="tripTypeButton" tabindex="-1" type="radio" value="MC">
                    <label for="display_tripType_MC">다구간</label>
                </a>
            </li>
        </ul>
        <div class="sel_group res_grouping">
            <input class="bookingTypeGroup" id="chkBox2" name="bookingTypeGroup" type="checkbox" value="">
            <label for="chkBox2"><span class="icon">단체 항공권 선택 체크박스</span>단체(10명 이상)</label>
        </div>
    </div>
    <!--// 예약 탭 -->




    <!-- 왕복 -->
    <div class="tab_cont fixed schedule_box" id="booking01" tabindex="-1" style="display: block;">
        <div class="booking_input">
            <ul class="booking_form">
                <li>
                    <div class="sel_route">
                        <div class="input_wrap start focus">
                            <label>출발지</label>
                            <input class="booking start focus_start1" onblur="checkAirportPinStatus(this, 0);" onclick="gnbSelectAirport(this, 0,'search','searchItr');" onkeypress="gnbSelectAirport(this, 0,'search','searchItr');" readonly="" title="출발지 입력" type="text" value="" placeholder="도시/공항">
                            <a class="btn_pin focus_start2" href="#none" onclick="gnbSelectAirport($(this).parent().find('input'), 0, 'region','searchItr');" title="출발지 선택 레이어 열림">출발지 선택</a>

                            <!-- 선택 레이어 -->
                            <div class="selected_area start focus on">
                                <a href="#" onclick="gnbSelectAirport($(this).parent().parent().find('input'), 0,'search','searchItr');">
                                    <span class="eng">ICN</span>
                                    <span class="area">서울/인천</span>
                                </a>
                            </div>
                            <!--// 선택 레이어 -->
                        </div>
                        <a class="btn_change" href="#none" onclick="exchangeAirport();">출발지/도착지 바꾸기</a>
                        <div class="input_wrap end focus">
                            <label>도착지</label>
                            <input class="booking end focus_end1" onblur="checkAirportPinStatus(this, 0);" onclick="gnbSelectAirport(this, 0,'search','searchItr');" onkeypress="gnbSelectAirport(this, 0,'search','searchItr');" title="도착지 선택" type="text" value="" placeholder="도시/공항">
                            <a class="btn_pin end focus_end2" href="#none" onclick="gnbSelectAirport($(this).parent().find('input'), 0, 'region','searchItr');" readonly="" title="도착지 선택 레이어 열림">도착지 선택</a>
                            <!-- 선택 레이어 -->
                            <div class="selected_area end focus on">
                                <a href="#" onclick="gnbSelectAirport($(this).parent().parent().find('input'), 0,'search','searchItr');">
                                    <span class="eng">SYD</span>
                                    <span class="area">시드니</span>
                                </a>
                            </div>
                            <!--// 선택 레이어 -->
                        </div>
                    </div>
                </li>
                <li>
                    <div class="input_wrap date focus">
                        <label>탑승일</label>
                        <input class="booking date focus_date1" id="lostFlightDate1_1" placeholder="YYYY-MM-DD" readonly="readonly" title="출발일 선택" type="text" value="" onclick="gnbCallBackArrivalAirportConfirm(null, 'searchItr', 'KRW', 'N');" onkeypress="gnbCallBackArrivalAirportConfirm(null, 'searchItr', 'KRW', 'N');">
                        <span class="space">~</span>
                        <input class="booking date focus_date2" id="lostFlightDate1_2" placeholder="YYYY-MM-DD" readonly="readonly" title="도착일 선택" type="text" value="" onclick="gnbCallBackArrivalAirportConfirm(null, 'searchItr', 'KRW', 'N');">
                        <a class="btn_date focus_date3" href="#none" onclick="gnbCallBackArrivalAirportConfirm(null, 'searchItr', 'KRW', 'N');" onkeypress="gnbCallBackArrivalAirportConfirm(null, 'searchItr', 'KRW', 'N');">날짜선택</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <!-- 왕복 -->

    <!-- 편도 -->
    <div class="tab_cont fixed schedule_box" id="booking02" tabindex="-1" style="display: none;">
        <div class="booking_input">
            <ul class="booking_form">
                <li>
                    <div class="sel_route">
                        <div class="input_wrap start focus">
                            <label>출발지</label>
                            <input class="booking start focus_start1" onblur="checkAirportPinStatus(this, 0);" onclick="gnbSelectAirport(this, 0,'search','searchItr');" onkeypress="gnbSelectAirport(this, 0,'search','searchItr');" readonly="" title="출발지 입력" type="text" value="" placeholder="도시/공항">
                            <a class="btn_pin focus_start2" href="#none" onclick="gnbSelectAirport($(this).parent().find('input'), 0, 'region','searchItr');" title="출발지 선택 레이어 열림">출발지 선택</a>

                            <!-- 선택 레이어 -->
                            <div class="selected_area start focus on">
                                <a href="#" onclick="gnbSelectAirport($(this).parent().parent().find('input'), 0,'search','searchItr');">
                                    <span class="eng">ICN</span>
                                    <span class="area">서울/인천</span>
                                </a>
                            </div>
                            <!--// 선택 레이어 -->
                        </div>
                        <a class="btn_change" href="#none" onclick="exchangeAirport();">출발지/도착지 바꾸기</a>
                        <div class="input_wrap end focus">
                            <label>도착지</label>
                            <input class="booking end focus_end1" onblur="checkAirportPinStatus(this, 0);" onclick="gnbSelectAirport(this, 0,'search','searchItr');" onkeypress="gnbSelectAirport(this, 0,'search','searchItr');" readonly="" title="도착지 입력" type="text" value="" placeholder="도시/공항">
                            <a class="btn_pin end focus_end2" href="#none" onclick="gnbSelectAirport($(this).parent().find('input'), 0, 'region','searchItr');" title="도착지 선택 레이어 열림">도착지 선택</a>
                            <!-- 선택 레이어 -->
                            <div class="selected_area end focus on">
                                <a href="#" onclick="gnbSelectAirport($(this).parent().parent().find('input'), 0,'search','searchItr');">
                                    <span class="eng">SYD</span>
                                    <span class="area">시드니</span>
                                </a>
                            </div>
                            <!--// 선택 레이어 -->
                        </div>
                    </div>
                </li>
                <li>
                    <div class="input_wrap date focus">
                        <label>탑승일</label>
                        <input class="booking date focus_date1" id="lostFlightDate2_1" placeholder="YYYY-MM-DD" readonly="readonly" title="출발일 입력" type="text" value="" onclick="gnbCallBackArrivalAirportConfirm(null, 'searchItr', 'KRW', 'N');" onkeypress="gnbCallBackArrivalAirportConfirm(null, 'searchItr', 'KRW', 'N');">
                        <a class="btn_date focus_date3" href="#none" title="출발일 선택 레이어 열림" onclick="gnbCallBackArrivalAirportConfirm(null, 'searchItr', 'KRW', 'N');">출발일 선택</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <!-- 편도 -->

    <!-- 다구간 -->
    <div class="tab_cont fixed schedule_box" id="booking03" tabindex="-1" style="display: none;">

        
        

            <div class="booking_input section" id="itinerary_multi_trip_1" style="display:;">
                <div class="section_tit">
                    <h5>구간1</h5>
                </div>
                <ul class="booking_form">
                    <li>
                        <div class="sel_route">
                            <div class="input_wrap start focus">
                                <label>출발지</label>
                                <input class="booking start focus_start1" readonly="" title="출발지 입력" type="text" value="" onblur="checkAirportPinStatus(this,0);" onclick="selectMultiTripAirport(this, 1, 'dep', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" onkeypress="selectMultiTripAirport(this, 1, 'dep', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" placeholder="도시/공항">
                                <a class="btn_pin focus_start2" href="#none" title="출발지 선택 레이어 열림" onclick="selectMultiTripAirport($(this).parent().find('input'), 1, 'arr', 'region', '+@frontUtil.getEnvHideWebAccessCertValue()+');">출발지 선택</a>
                                <!-- 선택 레이어 -->
                                <div class="selected_area start focus on">
                                    <a href="#" onclick="selectMultiTripAirport($(this).parent().parent().find('input'), 1, 'dep', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');">
                                        <span class="eng">ICN</span>
                                        <span class="area">서울/인천</span>
                                    </a>
                                </div>
                                <!--// 선택 레이어 -->
                            </div>
                            <a class="btn_change" href="#none" onclick="exchangeAirportMC(0);">출발지/도착지 바꾸기</a>
                            <div class="input_wrap end focus">
                                <label>도착지</label>
                                <input class="booking end focus_end1" readonly="" title="도착지 선택" type="text" value="" onblur="checkAirportPinStatus(this,0);" onclick="selectMultiTripAirport(this, 1, 'arr', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" onkeypress="selectMultiTripAirport(this, 1, 'arr', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" placeholder="도시/공항">
                                <a class="btn_pin end focus_end2" href="#none" title="도착지 선택 레이어 열림" onclick="selectMultiTripAirport($(this).parent().find('input'), 1, 'arr', 'region', '+@frontUtil.getEnvHideWebAccessCertValue()+');">도착지 선택</a>

                                <!-- 선택 레이어 -->
                                <div class="selected_area end focus on">
                                    <a href="#" onclick="selectMultiTripAirport($(this).parent().parent().find('input'), 1, 'arr', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');">
                                        <span class="eng">SYD</span>
                                        <span class="area">시드니</span>
                                    </a>
                                </div>
                                <!--// 선택 레이어 -->

                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="input_wrap date focus">
                            <label>탑승일</label>
                            <input class="booking date focus_date1" placeholder="YYYY-MM-DD" readonly="readonly" title="출/도착일 입력" type="text" value="" id="lostFlightDate3_1" onclick="selectMultiTripAirport(this, 1, 'date', '', 'N');" onkeypress="selectMultiTripAirport(this, 1, 'date', '', 'N');">
                            <a class="btn_date focus_date3" href="#none" title="출/도착 날짜 선택 레이어 열림" onclick="selectMultiTripAirport(this, 1, 'date', '', 'N');">출/도착 날짜 선택</a>
                        </div>
                    </li>
                </ul>
            </div>

        

        
        

            <div class="booking_input section" id="itinerary_multi_trip_2" style="display:;">
                <div class="section_tit">
                    <h5>구간2</h5>
                </div>
                <ul class="booking_form">
                    <li>
                        <div class="sel_route">
                            <div class="input_wrap start focus">
                                <label>출발지</label>
                                <input class="booking start focus_start1" readonly="" title="출발지 입력" type="text" value="" onblur="checkAirportPinStatus(this,1);" onclick="selectMultiTripAirport(this, 2, 'dep', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" onkeypress="selectMultiTripAirport(this, 2, 'dep', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" placeholder="도시/공항">
                                <a class="btn_pin focus_start2" href="#none" title="출발지 선택 레이어 열림" onclick="selectMultiTripAirport($(this).parent().find('input'), 2, 'arr', 'region', '+@frontUtil.getEnvHideWebAccessCertValue()+');">출발지 선택</a>
                                <!-- 선택 레이어 -->
                                <div class="selected_area start focus on">
                                    <a href="#" onclick="selectMultiTripAirport($(this).parent().parent().find('input'), 2, 'dep', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');">
                                        <span class="eng">SYD</span>
                                        <span class="area">시드니</span>
                                    </a>
                                </div>
                                <!--// 선택 레이어 -->
                            </div>
                            <a class="btn_change" href="#none" onclick="exchangeAirportMC(1);">출발지/도착지 바꾸기</a>
                            <div class="input_wrap end focus">
                                <label>도착지</label>
                                <input class="booking end focus_end1" readonly="" title="도착지 선택" type="text" value="" onblur="checkAirportPinStatus(this,1);" onclick="selectMultiTripAirport(this, 2, 'arr', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" onkeypress="selectMultiTripAirport(this, 2, 'arr', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" placeholder="도시/공항">
                                <a class="btn_pin end focus_end2" href="#none" title="도착지 선택 레이어 열림" onclick="selectMultiTripAirport($(this).parent().find('input'), 2, 'arr', 'region', '+@frontUtil.getEnvHideWebAccessCertValue()+');">도착지 선택</a>

                                <!-- 선택 레이어 -->
                                <div class="selected_area end focus on">
                                    <a href="#" onclick="selectMultiTripAirport($(this).parent().parent().find('input'), 2, 'arr', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');">
                                        <span class="eng">ICN</span>
                                        <span class="area">서울/인천</span>
                                    </a>
                                </div>
                                <!--// 선택 레이어 -->

                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="input_wrap date focus">
                            <label>탑승일</label>
                            <input class="booking date focus_date1" placeholder="YYYY-MM-DD" readonly="readonly" title="출/도착일 입력" type="text" value="" id="lostFlightDate3_2" onclick="selectMultiTripAirport(this, 2, 'date', '', 'N');" onkeypress="selectMultiTripAirport(this, 2, 'date', '', 'N');">
                            <a class="btn_date focus_date3" href="#none" title="출/도착 날짜 선택 레이어 열림" onclick="selectMultiTripAirport(this, 2, 'date', '', 'N');">출/도착 날짜 선택</a>
                        </div>
                    </li>
                </ul>
            </div>

        

        
        

            <div class="booking_input section" id="itinerary_multi_trip_3" style="display:none;">
                <div class="section_tit">
                    <h5>구간3</h5>
                </div>
                <ul class="booking_form">
                    <li>
                        <div class="sel_route">
                            <div class="input_wrap start">
                                <label>출발지</label>
                                <input class="booking start focus_start1" readonly="" title="출발지 입력" type="text" value="" onblur="checkAirportPinStatus(this,2);" onclick="selectMultiTripAirport(this, 3, 'dep', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" onkeypress="selectMultiTripAirport(this, 3, 'dep', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" placeholder="도시/공항">
                                <a class="btn_pin focus_start2" href="#none" title="출발지 선택 레이어 열림" onclick="selectMultiTripAirport($(this).parent().find('input'), 3, 'arr', 'region', '+@frontUtil.getEnvHideWebAccessCertValue()+');">출발지 선택</a>
                                <!-- 선택 레이어 -->
                                <div class="selected_area start">
                                    <a href="#" onclick="selectMultiTripAirport($(this).parent().parent().find('input'), 3, 'dep', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');">
                                        <span class="eng">ICN</span>
                                        <span class="area">서울/인천</span>
                                    </a>
                                </div>
                                <!--// 선택 레이어 -->
                            </div>
                            <a class="btn_change" href="#none" onclick="exchangeAirportMC(2);">출발지/도착지 바꾸기</a>
                            <div class="input_wrap end">
                                <label>도착지</label>
                                <input class="booking end focus_end1" readonly="" title="도착지 선택" type="text" value="" onblur="checkAirportPinStatus(this,2);" onclick="selectMultiTripAirport(this, 3, 'arr', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" onkeypress="selectMultiTripAirport(this, 3, 'arr', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" placeholder="도시/공항">
                                <a class="btn_pin end focus_end2" href="#none" title="도착지 선택 레이어 열림" onclick="selectMultiTripAirport($(this).parent().find('input'), 3, 'arr', 'region', '+@frontUtil.getEnvHideWebAccessCertValue()+');">도착지 선택</a>

                                <!-- 선택 레이어 -->
                                <div class="selected_area end">
                                    <a href="#" onclick="selectMultiTripAirport($(this).parent().parent().find('input'), 3, 'arr', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');">
                                        <span class="eng">ICN</span>
                                        <span class="area">서울/인천</span>
                                    </a>
                                </div>
                                <!--// 선택 레이어 -->

                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="input_wrap date">
                            <label>탑승일</label>
                            <input class="booking date focus_date1" placeholder="YYYY-MM-DD" readonly="readonly" title="출/도착일 입력" type="text" value="" id="lostFlightDate3_3" onclick="selectMultiTripAirport(this, 3, 'date', '', 'N');" onkeypress="selectMultiTripAirport(this, 3, 'date', '', 'N');">
                            <a class="btn_date focus_date3" href="#none" title="출/도착 날짜 선택 레이어 열림" onclick="selectMultiTripAirport(this, 3, 'date', '', 'N');">출/도착 날짜 선택</a>
                        </div>
                    </li>
                </ul>
            </div>

        

        
        

            <div class="booking_input section" id="itinerary_multi_trip_4" style="display:none;">
                <div class="section_tit">
                    <h5>구간4</h5>
                </div>
                <ul class="booking_form">
                    <li>
                        <div class="sel_route">
                            <div class="input_wrap start">
                                <label>출발지</label>
                                <input class="booking start focus_start1" readonly="" title="출발지 입력" type="text" value="" onblur="checkAirportPinStatus(this,3);" onclick="selectMultiTripAirport(this, 4, 'dep', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" onkeypress="selectMultiTripAirport(this, 4, 'dep', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" placeholder="도시/공항">
                                <a class="btn_pin focus_start2" href="#none" title="출발지 선택 레이어 열림" onclick="selectMultiTripAirport($(this).parent().find('input'), 4, 'arr', 'region', '+@frontUtil.getEnvHideWebAccessCertValue()+');">출발지 선택</a>
                                <!-- 선택 레이어 -->
                                <div class="selected_area start">
                                    <a href="#" onclick="selectMultiTripAirport($(this).parent().parent().find('input'), 4, 'dep', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');">
                                        <span class="eng">ICN</span>
                                        <span class="area">서울/인천</span>
                                    </a>
                                </div>
                                <!--// 선택 레이어 -->
                            </div>
                            <a class="btn_change" href="#none" onclick="exchangeAirportMC(3);">출발지/도착지 바꾸기</a>
                            <div class="input_wrap end">
                                <label>도착지</label>
                                <input class="booking end focus_end1" readonly="" title="도착지 선택" type="text" value="" onblur="checkAirportPinStatus(this,3);" onclick="selectMultiTripAirport(this, 4, 'arr', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" onkeypress="selectMultiTripAirport(this, 4, 'arr', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');" placeholder="도시/공항">
                                <a class="btn_pin end focus_end2" href="#none" title="도착지 선택 레이어 열림" onclick="selectMultiTripAirport($(this).parent().find('input'), 4, 'arr', 'region', '+@frontUtil.getEnvHideWebAccessCertValue()+');">도착지 선택</a>

                                <!-- 선택 레이어 -->
                                <div class="selected_area end">
                                    <a href="#" onclick="selectMultiTripAirport($(this).parent().parent().find('input'), 4, 'arr', 'search', '+@frontUtil.getEnvHideWebAccessCertValue()+');">
                                        <span class="eng">ICN</span>
                                        <span class="area">서울/인천</span>
                                    </a>
                                </div>
                                <!--// 선택 레이어 -->

                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="input_wrap date">
                            <label>탑승일</label>
                            <input class="booking date focus_date1" placeholder="YYYY-MM-DD" readonly="readonly" title="출/도착일 입력" type="text" value="" id="lostFlightDate3_4" onclick="selectMultiTripAirport(this, 4, 'date', '', 'N');" onkeypress="selectMultiTripAirport(this, 4, 'date', '', 'N');">
                            <a class="btn_date focus_date3" href="#none" title="출/도착 날짜 선택 레이어 열림" onclick="selectMultiTripAirport(this, 4, 'date', '', 'N');">출/도착 날짜 선택</a>
                        </div>
                    </li>
                </ul>
            </div>

        
        

        <!-- 구간 추가/삭제 -->
        <!-- TODO 구간 + - 기능 버튼
        <div class="btn_section" id="controlRouteCountButtonSection">
            <button class="sbtn_cont section_minus" onclick="decreaseItinerary();" th:utext="${@frontContents.id('hp.booking.itinerary.search-button.section.minus')}">구간삭제</button>
            <button class="sbtn_cont section_plus" onclick="increaseItinerary();" th:utext="${@frontContents.id('hp.booking.itinerary.search-button.section.plus')}">구간추가</button>
        </div> -->
        <!--// 구간 추가/삭제 -->

    </div>
    <!-- 다구간 -->
    <!--// Tab 컨텐츠 -->

    <!-- 인원수 입력 -->
    <div class="pax booking_input section_passenger">
        <ul class="booking_form">
            <li>
                <div class="input_wrap passenger focus">
                    <!-- 성인 -->
                    <dl>
                        <dt>
                            <label for="adult">성인</label>
                        </dt>
                        <dd class="sel_passenger">
                            <a class="btn_minus" href="#none" onclick="changePaxCount('ADULT', -1);">성인 인원감소</a>
                            <input class="booking passenger ADULT" data-div="ADULT" id="adult" onkeyup="onlyNumReplace(this, 1);" title="성인 인원수" type="text" value="1">
                            <a class="btn_plus" href="#none" onclick="changePaxCount('ADULT', 1);">성인 인원증가</a>
                        </dd>
                    </dl>
                    <!--// 성인 -->
                    <!-- 소아 -->
                    <dl>
                        <dt>
                            <label for="kid">
                                    소아
                                <a class="btn_tooltip gray" href="#none">
                                    <span class="blind">툴팁</span>
                                    <div class="tooltip_layer" style="display: none;">
                                        <div class="tooltip_tit">
                                            <img alt="" src="https://contents-image.twayair.com/homepage/images/ico/ico_kid.png">
                                            <h5>소아기준</h5>
                                        </div>
                                        <div class="tooltip_cont">
                                            <dl>
                                                <dt>국내선</dt>
                                                <dd>만 2세~<span class="red">13세</span> 미만</dd>
                                            </dl>
                                            <dl>
                                                <dt>국제선</dt>
                                                <dd>만 2세~<span class="red">12세</span> 미만</dd>
                                            </dl>
                                            <ul class="info"><li>※ 소아/유아 기준</li>
<li>&nbsp; &nbsp; - 국내선 : 각 항공편의 탑승일 기준</li>
<li>&nbsp; &nbsp; - 국제선 : 최초 출발일 기준</li>
<li>※ 탑승 수속 시 생년월일 확인 가능한 서류 지참 필수</li></ul>
                                        </div>
                                    </div>
                                </a>
                            </label>
                        </dt>
                        <dd class="sel_passenger">
                            <a class="btn_minus" href="#none" onclick="changePaxCount('CHILD', -1);">소아 인원감소</a>
                            <input class="booking passenger CHILD" data-div="CHILD" id="kid" onkeyup="onlyNumReplace(this, 0);" title="소아 인원수" type="text" value="0">
                            <a class="btn_plus" href="#none" onclick="changePaxCount('CHILD', 1);">소아 인원증가</a>
                        </dd>
                    </dl>
                    <!--// 소아 -->
                    <!-- 유아 -->
                    <dl>
                        <dt>
                            <label for="baby">
                                    유아
                                <a class="btn_tooltip gray" href="#none">
                                    <span class="blind">툴팁</span>
                                    <div class="tooltip_layer" style="display: none;">
                                        <div class="tooltip_tit">
                                            <img alt="" src="https://contents-image.twayair.com/homepage/images/ico/ico_baby.png">
                                            <h5>유아기준</h5>
                                        </div>
                                        <div class="tooltip_cont">
                                            <dl>
                                                <dt>국내선</dt>
                                                <dd>생후 <span class="red">7일</span>~ 만 2세 미만</dd>
                                            </dl>
                                            <dl>
                                                <dt>국제선</dt>
                                                <dd>생후 <span class="red">14일</span>~ 만 2세 미만</dd>
                                            </dl>
                                            <ul class="info"><li>※ 소아/유아 기준</li>
<li>&nbsp; &nbsp; - 국내선 : 각 항공편의 탑승일 기준</li>
<li>&nbsp; &nbsp; - 국제선 : 최초 출발일 기준</li>
<li>※ 탑승 수속 시 생년월일 확인 가능한 서류 지참 필수</li></ul>
                                        </div>
                                    </div>
                                </a>
                            </label>
                        </dt>
                        <dd class="sel_passenger">
                            <a class="btn_minus" href="#none" onclick="changePaxCount('INFANT', -1);">유아 인원감소</a>
                            <input class="booking passenger INFANT" data-div="INFANT" id="baby" onkeyup="onlyNumReplace(this, 0);" title="유아 인원수" type="text" value="0">
                            <a class="btn_plus" href="#none" onclick="changePaxCount('INFANT', 1);">유아 인원증가</a>
                        </dd>
                    </dl>
                    <!--// 유아 -->
                </div>
                <button class="sbtn_cont age_cal" date-id="age_calculater_layer" date-type="layer" onclick="howOldAreYou();" title="레이어 팝업 열림" type="button">나이 계산기</button>
            </li>
            <li>
                <div class="input_wrap salecode code">
                    <label for="date">
                            할인코드
                        <a class="btn_tooltip gray" href="#none">
                            <span class="blind">툴팁</span>
                            <div class="tooltip_layer" style="display: none;">
                                <div class="tooltip_tit no_bd">
                                    <h5>할인코드란?</h5>
                                </div>
                                <div class="tooltip_cont">티웨이항공 탑승 고객을 대상으로 특정 기간 동안<br>추가 할인을 제공해 드리는 제도입니다.<br>예약 시 사전에 안내된 코드를 입력하시면,<br>할인 가격이 적용된 항공편을 선택하실 수 있습니다.</div>
                            </div>
                        </a>
                    </label>
                    <input class="booking salecode" maxlength="20" name="promoCode" onkeyup="onlyHanEngNumToUpper(this);" type="text" placeholder="할인코드 입력" title="할인코드 입력" value="">
                    <!--<input type="text" id="salecode" value="" placeholder="할인코드를 입력하세요." class="booking salecode">-->
                </div>
                <!-- 할인코드규정 : 20190226 수정 -->
                <button class="txt_tooltip" type="button">
                    <span>할인코드 규정</span>
                </button>
                <div class="tooltip_layer txt checked" style="display: none;">
                    <div class="tooltip_tit no_bd">
                        <h5>할인코드 규정 안내</h5>
                    </div>
                    <div class="tooltip_cont discountCodeRule_area">
                        <!--
                        오사카 1명당 왕복 2만원 할인 프로모션 코드입니다.
                        <ul class="ul_dot">
                            <li>발권 기간 : 2018. 10. 11 ~ 2018. 10. 31</li>
                            <li>출발 기간 : 2018. 10. 11 ~ 2018. 12. 20(출발일 기준)</li>
                            <li>할인 금액 : 20,000원 (공시운임 기준 할인 적용)</li>
                        </ul>
                        <p class="info">예약 변경/분리/부분 취소 불가능하며, 전체 취소 후 재 구매는<br>가능합니다.</p>
                         -->
                    </div>
                </div>
                <!--// 할인코드규정 : 20190226 수정 -->
            </li>
        </ul>
    </div>
    <!--// 인원수 입력 -->
</div>
<!--// Input Booking -->



<!--// 컨텐츠 영역 -->










<div class="section debug">

    <form id="airAvailabilityRQ" method="post" name="airAvailabilityRQ" action="/app/booking/chooseItinerary">
        <input name="searchDate" type="hidden">
        <input name="promoCode" type="hidden">
        search ticket : <input class="bookingTicket" name="bookingTicket" type="text" value="">

        <!--tripType - 여정타입 선택 왕복/편도/다구간-->
        <div>
            
                <input type="radio" id="tripType_RT" value="RT" name="tripType" checked="checked">
                <label for="tripType_RT">
                    
                        왕복
                        
                        
                    
                </label> &nbsp;
            
            
                <input type="radio" id="tripType_OW" value="OW" name="tripType">
                <label for="tripType_OW">
                    
                        
                        편도
                        
                    
                </label> &nbsp;
            
            
                <input type="radio" id="tripType_MC" value="MC" name="tripType">
                <label for="tripType_MC">
                    
                        
                        
                        다구간
                    
                </label> &nbsp;
            
        </div>

        <!--bookingType - 개인/단체 선택-->
        <div>
            <!--지역이 한국인 경우에만 단체 노출-->
            <span id="bookingType_individual">
                        <input type="radio" id="bookingType_HI" value="HI" name="bookingType" checked="checked">
                        <label for="bookingType_HI">
                            
                                개인
                                
                            
                        </label> &nbsp;
                    </span>
            <span id="bookingType_group">
                        <input type="radio" id="bookingType_HG" value="HG" name="bookingType">
                        <label for="bookingType_HG">
                            
                                
                                단체
                            
                        </label> &nbsp;
                    </span>
        </div>



        <!--사용자 선택 정보, publishing 적용시 hidden 처리 할 정보 영역-->
        <div style="border: solid 5px grey;">

            <div> 프로모션코드 : <input id="promoCodeDetails.promoCode" maxlength="20" name="promoCodeDetails.promoCode" type="text"></div>
            <div> 프로모션코드 유효성 통과 여부 : <input name="validPromoCode" type="text" value=""> </div>



            <div>

                <span style="font-weight:bold;">Flight 1</span>

                from <input class="reset_target" type="text" data-conti="SKR" data-city="서울" data-airport="인천" data-airport_code="ICN" id="availabilitySearches0.depAirport" name="availabilitySearches[0].depAirport" value="ICN">

                to : <input class="reset_target" type="text" data-conti="OCN" data-city="시드니" data-airport="시드니" data-airport_code="SYD" id="availabilitySearches0.arrAirport" name="availabilitySearches[0].arrAirport" value="SYD">

                departure : <input class="reset_target" type="text" id="availabilitySearches0.flightDate" name="availabilitySearches[0].flightDate" value="2022-12-26">
            </div>



            <div>

                <span style="font-weight:bold;">Flight 2</span>

                from <input class="reset_target" type="text" data-conti="OCN" data-city="시드니" data-airport="시드니" data-airport_code="SYD" id="availabilitySearches1.depAirport" name="availabilitySearches[1].depAirport" value="SYD">

                to : <input class="reset_target" type="text" data-conti="SKR" data-city="서울" data-airport="인천" data-airport_code="ICN" id="availabilitySearches1.arrAirport" name="availabilitySearches[1].arrAirport" value="ICN">

                departure : <input class="reset_target" type="text" id="availabilitySearches1.flightDate" name="availabilitySearches[1].flightDate" value="2023-01-15">
            </div>


            
            <div>
                <span style="font-weight:bold;">Flight 3</span>
                from <input class="reset_target" type="text" value="" id="availabilitySearches2.depAirport" name="availabilitySearches[2].depAirport">
                to : <input class="reset_target" type="text" value="" id="availabilitySearches2.arrAirport" name="availabilitySearches[2].arrAirport">
                departure : <input class="reset_target" type="text" value="" id="availabilitySearches2.flightDate" name="availabilitySearches[2].flightDate">
            </div>


            
            <div>
                <span style="font-weight:bold;">Flight 4</span>
                from <input class="reset_target" type="text" value="" id="availabilitySearches3.depAirport" name="availabilitySearches[3].depAirport">
                to : <input class="reset_target" type="text" value="" id="availabilitySearches3.arrAirport" name="availabilitySearches[3].arrAirport">
                departure : <input class="reset_target" type="text" value="" id="availabilitySearches3.flightDate" name="availabilitySearches[3].flightDate">
            </div>

            <div>
                성인 : <input class="reset_target" id="paxCountDetails0.paxCount" name="paxCountDetails[0].paxCount" type="text" value="0">
                소아 : <input class="reset_target" id="paxCountDetails1.paxCount" name="paxCountDetails[1].paxCount" type="text" value="0">
                유아 : <input class="reset_target" id="paxCountDetails2.paxCount" name="paxCountDetails[2].paxCount" type="text" value="0">
                
            </div>

            <div>
                도시명 출발 : <input class="reset_target" type="text" name="availabilitySearches[0].depAirportName" value="서울/인천">
                도착 : <input class="reset_target" type="text" name="availabilitySearches[0].arrAirportName" value="시드니">
            </div>

            <div>
                도시명 출발 : <input class="reset_target" type="text" name="availabilitySearches[1].depAirportName" value="시드니">
                도착 : <input class="reset_target" type="text" name="availabilitySearches[1].arrAirportName" value="서울/인천">
            </div>
        </div>

    <input type="hidden" name="_csrf" value="c06c1120-125b-4267-9829-a688b28a0f09"></form>

    
    <script type="text/javascript">

        var _pax_list = [{'paxCount':2,'paxType':'ADULT'}];
        var _pax_type = {'ADULT':0, 'CHILD':1, 'INFANT':2  }

        $.each(_pax_list, function(pi,pp){
            if($.trim(pp.paxType)!=''){
                $('#airAvailabilityRQ input[name="paxCountDetails['+ _pax_type[pp.paxType] +'].paxCount"]').val(pp.paxCount);
            }
        });
    </script>

</div>









<script type="text/javascript">


    //입력값이 있을때 표시
    $('.input_wrap input.booking').on('keydown keyup change', function(){
        var Length = $(this).val().length;
        if(Length > 0){
            $(this).parents('.input_wrap').addClass('on');
        }else{
            $(this).parents('.input_wrap').removeClass('on');
        }
    });


    /**
     * 공항 검색 input box focus out 된 경우 아이콘 처리
     */
    var checkAirportPinStatus = function(inputObj, routeIndex){

        var tripType = $('input[name="tripType"]:checked').val();

        if($(inputObj).hasClass('start') && $('input[name="availabilitySearches['+routeIndex+'].depAirport"]').val()!=''){
            $(inputObj).parents('div.input_wrap').find('div.selected_area').addClass('on');
            $(inputObj).parents('div.input_wrap').addClass('focus');
        }
        else if($(inputObj).hasClass('end') && $('input[name="availabilitySearches['+routeIndex+'].arrAirport"]').val()!=''){
            $(inputObj).parents('div.input_wrap').find('div.selected_area').addClass('on');
            $(inputObj).parents('div.input_wrap').addClass('focus');
        }
        else{
            $(inputObj).parents('div.input_wrap').find('div.selected_area').removeClass('on');
            $(inputObj).parents('div.input_wrap').removeClass('focus');
        }

    };

    /**
     * 레이어 바깥부분 클릭한 경우 모든 레이어 숨김
     */
    $(document).ready(function(){
        $.fn.bookingCommonLayerClick();
    });

    /**
     * 한국지역 선택시에만 단체 선택 노출
     */
    $(document).ready(function(){
        /*
        // 한국지역이 아닌경우 단체 미노출, if('KR' != 'KR'){
        if('KR' != 'KR'){
            $('div.res_grouping').hide();
        }
        */
    });

    /**
     * trip type 선택 event handling
     */
    $(document).ready(function(){

        var frm = $('#airAvailabilityRQ');

        $('div.booking_option input[name="tripTypeButton"]').on('change', function(){
            var tripType = $('div.booking_option input[name="tripTypeButton"]:checked').val();

            $.each(frm.find('input[name="tripType"]'),function(index,el){
                if($(el).val()==tripType){
                    $(el).prop('checked',true);
                    checkTripType();
                }
            });
        });

        // 다구간 검색 진입 처리
        var paramTripType = 'RT';
        $.each(frm.find('input[name="tripType"]'),function(index,el){
            if($(el).val()==paramTripType){
                $(el).prop('checked',true);
                checkTripType();
                return false;
            }
        });

    });


    /**
     * 출발노선선택 레이어 준비
     */
    $(document).ready(function(){
        // routeDeparture($('input[name="tripType"]:checked').val());
    });

    /**
     * TripType 선택시 출발노선 레이어 준비
     */
    // $('input[name="tripType"]').change(function(){
    //     removeLayer('route_departure');
    //     routeDeparture($(this).val());
    // });

    /**
     * 탑승객 수 선택 event handling
     */
    $(document).ready(function(){

        // RQ
        var pax_count = {};
        pax_count = {'ADULT' : 0, 'CHILD' : 0, 'INFANT' : 0 };

        var _pax_list = [{'paxCount':2,'paxType':'ADULT'}];

        $.each(_pax_list, function(pi,pp){
            if($.trim(pp.paxType)!=''){
                pax_count[pp.paxType] = pp.paxCount;
            }
        });

        $.each($('.pax input'), function(){
            if(parseInt(pax_count[$(this).data('div')],10) > 0){
                $(this).val(pax_count[$(this).data('div')]);
            }
        });

        // 성인 탑승자수 변경 이벤트 처리
        $('.pax input').change(function(){
            choosePaxCount($(this));
        });

    });

    var changePaxCount = function(div, count){

        // console.log('#### changePaxCount : ' + div +'/'+count);
        var paxCount = parseInt($('.pax input.'+div).val(),10);

        if(count>0){
            $('.pax input.'+div).val(paxCount+1);
        }
        else if(div =='ADULT' && count<0 && paxCount>1){
            $('.pax input.'+div).val(paxCount-1);
        }
        else if(div !='ADULT' && count<0 && paxCount>0){
            $('.pax input.'+div).val(paxCount-1);
        }

        choosePaxCount($('.pax input.'+div));

    };


    /**
     * 상단 단체 체크박스 이벤트 처리
     */
    $(document).ready(function(){
        $('input.bookingTypeGroup').change(function(){

            /**
             * 개인 -> 단체 예약 전환
             * 성인 소아 유아 : 10 0 0 으로 설정 및 form 초기화
             */
            if($(this).prop('checked')){

                var deepLinkInfo = null;
                var alert_msg_group_corporate = '\uB2E8\uCCB4\uD56D\uACF5\uAD8C\uC740 \uAE30\uC5C5 \uC6B0\uB300 \uD560\uC778\uC774 \uC801\uC6A9\uB418\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.';	//단체항공권은 기업 우대 할인이 적용되지 않습니다.

                if(deepLinkInfo != null && deepLinkInfo.deepLinkDiv == 'C'){
                    alert(alert_msg_group_corporate);
                }

                $('.pax input.ADULT').val(10);
                $('.pax input.CHILD').val(0);
                $('.pax input.INFANT').val(0);

                initSearchForm();
            }
            /**
             * 단체 -> 개인 예약 전환
             * 성인 소아 유아 : 1 0 0 으로 설정, 구간, 일정 form은 초기화 하지 않습니다.
             */
            else{
                $('.pax input.ADULT').val(1);
                $('.pax input.CHILD').val(0);
                $('.pax input.INFANT').val(0);

                setBookingType();
            }
        });
    });

    /**
     * 인원선택 변경에 따른 bookingType 전환
     */
    var setBookingType = function(){

        var paxCount = parseInt($('.pax input.ADULT').val(),10) + parseInt($('.pax input.CHILD').val(),10);

        // console.log('setBookingType : ' + paxCount);

        $.each($('input[name="bookingType"]'), function(index,el){

            // 개인
            if($(el).val()=='HI' && paxCount<10){

                $('input.bookingTypeGroup').prop('checked', false);

                $(el).prop('checked', true);
                // $('#controlRouteCountButtonSection').show(); // 다구간 구간 증/감 버튼 영역 노출

                $('input[name="paxCountDetails[0].paxCount"]').val($('.pax input.ADULT').val());
                $('input[name="paxCountDetails[1].paxCount"]').val($('.pax input.CHILD').val());
                $('input[name="paxCountDetails[2].paxCount"]').val($('.pax input.INFANT').val());
            }
            // 단체
            else if($(el).val()=='HG' && paxCount>=10){
                $(el).prop('checked', true);
                // $('#controlRouteCountButtonSection').hide(); // 다구간 구간 증/감 버튼 영역 비노출
            }
        });

        pax_count_before_change[0] = parseInt($('input[name="paxCountDetails[0].paxCount"]').val(),10);
        pax_count_before_change[1] = parseInt($('input[name="paxCountDetails[1].paxCount"]').val(),10);
        pax_count_before_change[2] = parseInt($('input[name="paxCountDetails[2].paxCount"]').val(),10);
    };

    var pax_count_individual = 9; // 개인 최대 인원 수
    var pax_count_group = 30; // 단체 최대 인원 수
    var pax_count_before_change = [1,0,0]; // 인원수 변경 이전 최종 여행객 수
    var alert_msg_max_pax = '\uC131\uC778\uACFC \uC18C\uC544 \uC778\uC6D0\uC744 \uD569\uD574 30\uBA85\uAE4C\uC9C0 \uC120\uD0DD \uAC00\uB2A5\uD569\uB2C8\uB2E4.';//'성인과 소아 인원을 합해 30명까지 선택 가능합니다.';
    var alert_msg_max_infant_pax = '\uC720\uC544 1\uBA85\uB2F9 \uC131\uC778 1\uBA85\uC774 \uBC18\uB4DC\uC2DC \uB3D9\uBC18\uB418\uC5B4\uC57C \uD569\uB2C8\uB2E4.';//'유아 1명당 성인 1명이 반드시 동반되어야 합니다.';
    var alert_msg_chage_group_booking = '\uB2E8\uCCB4 \uD56D\uACF5\uAD8C \uAC80\uC0C9\uC744 \uC704\uD574 \uC120\uD0DD\uD55C \uC815\uBCF4\uB97C \uCD08\uAE30\uD654 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?';//'단체 항공권 검색을 위해 선택한 정보를 초기화 하시겠습니까?';
    var alert_msg_chage_individual_booking = '\uD56D\uACF5\uAD8C \uC7AC \uAC80\uC0C9\uC744 \uC704\uD574 \uC120\uD0DD\uD55C \uC815\uBCF4\uB97C \uCD08\uAE30\uD654 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?';// '항공권 재 검색을 위해 선택한 정보를 초기화 하시겠습니까?';

    $(document).ready(function(){
        pax_count_before_change[0] = parseInt($('input[name="paxCountDetails[0].paxCount"]').val(),10);
        pax_count_before_change[1] = parseInt($('input[name="paxCountDetails[1].paxCount"]').val(),10);
        pax_count_before_change[2] = parseInt($('input[name="paxCountDetails[2].paxCount"]').val(),10);
    });

    var choosePaxCount = function(el){


        // 구분별 탑승자수
        var pax_count = [];
        pax_count.push(parseInt($('.pax input.ADULT').val(),10)); // 성인
        pax_count.push(parseInt($('.pax input.CHILD').val(),10)); // 소아
        pax_count.push(parseInt($('.pax input.INFANT').val(),10)); // 유아

        // console.log('여행객 수 변경 '+(pax_count_before_change[0]+pax_count_before_change[1])+'->'+(pax_count[0]+pax_count[1]))

        // console.log(pax_count[0]+'/'+pax_count[1]+'/'+pax_count[2]);

        // 개인 -> 단체 전환
        if((pax_count_before_change[0]+pax_count_before_change[1])<=pax_count_individual && pax_count[0] + pax_count[1] > pax_count_individual){
            // console.log('개인 -> 단체 전환');

            // 개인 -> 단체 전환
            if(confirm(alert_msg_chage_group_booking)){

                // 단체 checkbox check !!
                $('input[name="bookingTypeGroup"]').prop('checked', true);

                // 최종 변경된 여행객 수 저장
                pax_count_before_change[0] = pax_count[0];
                pax_count_before_change[1] = pax_count[1];
                pax_count_before_change[2] = pax_count[2];

                initSearchForm();

            }
            else{

                // 단체 checkbox check 해제 !!
                $('input[name="bookingTypeGroup"]').prop('checked', false);

                // 이전 선택 여행객수로 되돌려줍니다.
                $('.pax input.ADULT').val(pax_count_before_change[0]);
                $('.pax input.CHILD').val(pax_count_before_change[1]);
                $('.pax input.INFANT').val(pax_count_before_change[2]);

                $('input[name="paxCountDetails[0].paxCount"]').val(pax_count_before_change[0]);
                $('input[name="paxCountDetails[1].paxCount"]').val(pax_count_before_change[1]);
                $('input[name="paxCountDetails[2].paxCount"]').val(pax_count_before_change[2]);

                return false;
            }


        }
        // 단체 -> 개인 전환
        else if((pax_count_before_change[0]+pax_count_before_change[1])>pax_count_individual && pax_count[0] + pax_count[1] <= pax_count_individual){
            // console.log('단체 -> 개인 전환');


            /**
             * 단체 -> 개인 전환시 form 초기화 하지 않기로 정책 변경. 2019-01-11
             */

            /*

            // 단체 -> 개인 전환
            if(confirm(alert_msg_chage_individual_booking)){

                // 단체 checkbox check !!
                $('input[name="bookingType"]').prop('checked', false);

                // 최종 변경된 여행객 수 저장
                pax_count_before_change[0] = pax_count[0];
                pax_count_before_change[1] = pax_count[1];
                pax_count_before_change[2] = pax_count[2];

                initSearchForm();

            }
            else{

                // 단체 checkbox check 해제 !!
                $('input[name="bookingType"]').prop('checked', true);

                // 이전 선택 여행객수로 되돌려줍니다.
                $('.pax select.ADULT').val(pax_count_before_change[0]);
                $('.pax select.CHILD').val(pax_count_before_change[1]);
                $('.pax select.INFANT').val(pax_count_before_change[2]);

                return false;
            }
            */
            setBookingType();

        }

        // 30인 이상 초과
        if(pax_count[0] + pax_count[1] > pax_count_group){

            alert(alert_msg_max_pax);

            // 이전 선택 여행객수로 되돌려줍니다.
            $('.pax input.ADULT').val(pax_count_before_change[0]);
            $('.pax input.CHILD').val(pax_count_before_change[1]);
            $('.pax input.INFANT').val(pax_count_before_change[2]);

            return false;
        }

        // 유아 탑승자수 변경 이벤트 처리
        // if($(el).hasClass('INFANT')){
            // 성인 숫자보다 많은 경우
            if(pax_count[0] < pax_count[2]){
                alert(alert_msg_max_infant_pax);
                pax_count[2] = pax_count[0];
                $('.pax input.INFANT').val(pax_count[2]);
                pax_count_before_change[2] = pax_count[2];
            }
        // };

        $('input[name="paxCountDetails[0].paxCount"]').val(pax_count[0]);
        $('input[name="paxCountDetails[1].paxCount"]').val(pax_count[1]);
        $('input[name="paxCountDetails[2].paxCount"]').val(pax_count[2]);

    };

    /**
     * 입력폼 초기화
     */
    var initSearchForm = function(){

        /**
         * airAvailabilityRQ form reset
         */
        $('#airAvailabilityRQ input.reset_target').val('');

        /**
         * display 영역 초기화
         */
        // tripType = RT
        // $('div.tab_section ul.chk_rdo_list input[name="tripTypeButton"]').eq(0).prop('checked', true);
        // $('div.tab_section ul.chk_rdo_list input[name="tripTypeButton"]').trigger('change');
        checkTripType();

        // 왕복/편도 공항, 출도착일 정보
        var alert_msg_city_airport = '\uB3C4\uC2DC/\uACF5\uD56D';

        $('#booking01 div.start').removeClass('focus');
        $('#booking01 div.start div.selected_area').removeClass('on');

        $('#booking01 div.end').removeClass('focus');
        $('#booking01 div.end div.selected_area').removeClass('on');

        $('#booking01 div.date').removeClass('focus');
        $('#booking01 div.date input').val('');


        $('#booking02 div.start').removeClass('focus');
        $('#booking02 div.start div.selected_area').removeClass('on');

        $('#booking02 div.end').removeClass('focus');
        $('#booking02 div.end div.selected_area').removeClass('on');

        $('#booking02 div.date').removeClass('focus');
        $('#booking02 div.date input').val('');

        // 다구간 공항, 출도착일 정보
        multiTripItineraryCount = 2;
        for(var i=0 ; i<4 ; i++){

            $('#itinerary_multi_trip_'+(i+1)+' div.start').removeClass('focus');
            $('#itinerary_multi_trip_'+(i+1)+' div.start div.selected_area').removeClass('on');

            $('#itinerary_multi_trip_'+(i+1)+' div.end').removeClass('focus');
            $('#itinerary_multi_trip_'+(i+1)+' div.end div.selected_area').removeClass('on');

            $('#itinerary_multi_trip_'+(i+1)+' div.date').removeClass('focus');
            $('#itinerary_multi_trip_'+(i+1)+' div.date input').val('');


            if(i<2){
                $('#itinerary_multi_trip_'+(i+1)).show();
            }
            else{
                $('#itinerary_multi_trip_'+(i+1)).hide();
            }

        }

        $('input[name="paxCountDetails[0].paxCount"]').val($('.pax input.ADULT').val());
        $('input[name="paxCountDetails[1].paxCount"]').val($('.pax input.CHILD').val());
        $('input[name="paxCountDetails[2].paxCount"]').val($('.pax input.INFANT').val());

        setBookingType();

    };

    /**
     * tripType 선택에 따른 form control
     */
    $(document).ready(function(){

        // set event handler
        $('input[name="tripType"]').change(function(){
            checkTripType();
        });

        checkTripType();
    });

    var checkTripType = function(){
        var tripType = $('input[name="tripType"]:checked').val();
        $('ul.sel_section li').removeClass('on');

        // 왕복
        if(tripType == 'RT'){
            $('#booking01').show();
            $('#booking02').hide();
            $('#booking03').hide();

            $('ul.sel_section li').eq(0).addClass('on');
            $('ul.sel_section li a').removeAttr('title');
            $('ul.sel_section li.on a').attr('title','선택됨');


            // 편도 출발정보가 있는 경우 돌아오는편 정보에 설정
            if($('input[name="availabilitySearches[0].depAirport"]').val()!='' && $('input[name="availabilitySearches[0].arrAirport"]').val()!=''){
                $('input[name="availabilitySearches[1].depAirport"]').val($('input[name="availabilitySearches[0].arrAirport"]').val());
                $('input[name="availabilitySearches[1].arrAirport"]').val($('input[name="availabilitySearches[0].depAirport"]').val());
            }

        }
        // 편도
        else if(tripType == 'OW') {
            $('#booking01').hide();
            $('#booking02').show();
            $('#booking03').hide();
            $('ul.sel_section li').eq(1).addClass('on');
            $('ul.sel_section li a').removeAttr('title');
            $('ul.sel_section li.on a').attr('title','선택됨');

            // 날짜 표출 영역, 출발일만 노출
            // console.log($('#booking01 .multiple .wave').length);
            // console.log($('#booking01 .multiple .wave').html());

        }
        // 다구간
        else if(tripType == 'MC') {
            $('#booking01').hide();
            $('#booking02').hide();
            $('#booking03').show();

            $('ul.sel_section li').eq(2).addClass('on');
            $('ul.sel_section li a').removeAttr('title');
            $('ul.sel_section li.on a').attr('title','선택됨');
        }
    };


    /**
     * 다구간 여정 관리
     */
    var currentItineraryNumber = 1; // 현재 선택 진행중인 여정 구간
    var minMultiTripItineraryCount = 2; // 최소 여정 수
    var maxMultiTripItineraryCount = 4; // 최대 여정 수
    var multiTripItineraryCount = 2; // 초기 여정 수

    /**
     * 여정삭제
     */
    var decreaseItinerary = function(){

        if(multiTripItineraryCount == minMultiTripItineraryCount){
            return false;
        }
        else{
            $('#itinerary_multi_trip_' + (multiTripItineraryCount)).find('input[type="text"]').val('');
            $('#itinerary_multi_trip_' + (multiTripItineraryCount)).hide();


            var init_airport_name = '\uB3C4\uC2DC/\uACF5\uD56D';  // 도시/공항

            $('#itinerary_multi_trip_' + multiTripItineraryCount).find('.departure').addClass('inacctive');
            $('#itinerary_multi_trip_' + multiTripItineraryCount).find('.arrival').addClass('inacctive');
            $('#itinerary_multi_trip_' + multiTripItineraryCount).find('.schedule').addClass('inacctive');

            $('#itinerary_multi_trip_' + multiTripItineraryCount).find('.departure .airport_name').text(init_airport_name);
            $('#itinerary_multi_trip_' + multiTripItineraryCount).find('.arrival .airport_name').text(init_airport_name);

            multiTripItineraryCount--;
        }

    };


    /**
     * 여정추가
     */
    var increaseItinerary = function(){
        if(multiTripItineraryCount == maxMultiTripItineraryCount){
            return false;
        }
        else{
            multiTripItineraryCount++;
            $('#itinerary_multi_trip_' + (multiTripItineraryCount)).show();
        }
    };


    /**
     * 여정선택완료, 다음으로 이동
     */
    var chooseItinerary = function(){

        //check csrf Token - 200212 PJH
        try{
            checkCsrfToken('c06c1120-125b-4267-9829-a688b28a0f09','_csrf');
        } catch (e) {
            console.log('checkCsrfToken Exception');
        }

        var alert_msg_choose_itinerary = '\uC5EC\uD589\uD558\uC2E4 \uB178\uC120\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.'; //여행하실 노선을 선택해주세요.
        var alert_msg_choose_schedule = '\uCD9C\uBC1C\uC77C\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.'; // 출발일을 선택해주세요.
        var alert_msg_choose_schedule_roundtrip = '\uCD9C/\uB3C4\uCC29\uC77C\uC744 \uBAA8\uB450 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.'; // 출/도착일을 모두 선택해주세요.
        var alert_msg_check_promocode = '\uC785\uB825\uD558\uC2E0 \uD504\uB85C\uBAA8\uC158\uCF54\uB4DC\uC758 \uD560\uC778\uADDC\uC815\uC744 \uD655\uC778\uD574\uC8FC\uC138\uC694.'; // '입력하신 프로모션코드의 할인규정을 확인해주세요.';
        var alert_msg_promocode_login = '\uD574\uB2F9 \uD504\uB85C\uBAA8\uC158 \uCF54\uB4DC\uB294 \uD68C\uC6D0 \uB85C\uADF8\uC778 \uC774\uD6C4 \uC0AC\uC6A9\uC774 \uAC00\uB2A5\uD569\uB2C8\uB2E4.'; // '해당 프로모션 코드는 로그인 이후 사용이 가능합니다.';
        var alert_msg_promocode_already_use = '\uD574\uB2F9 \uD504\uB85C\uBAA8\uC158 \uCF54\uB4DC\uB294 \uC774\uBBF8 \uC0AC\uC6A9\uD55C \uC774\uB825\uC774 \uC874\uC7AC\uD569\uB2C8\uB2E4.'; // '해당 프로모션 코드는 이미 사용한 이력이 존재합니다.';
        var alert_msg_connect_flight_surface = '{0}\uBC88\uC9F8 \uAD6C\uAC04\uC758 \uB3C4\uCC29\uACF5\uD56D\uACFC {1}\uBC88\uC9F8 \uAD6C\uAC04 \uCD9C\uBC1C\uACF5\uD56D\uC740 \uAC19\uC740 \uC9C0\uC5ED(\uB300\uB959)\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4.'; // '{0}번째 구간의 도착공항과 {1}번째 구간 출발공항은 같은 지역(대륙)이어야 합니다.';
        var alert_msg_connect_flight_surface_reverse = '{0}\uBC88\uC9F8 \uAD6C\uAC04\uC758 \uCD9C\uBC1C\uACF5\uD56D\uACFC {1}\uBC88\uC9F8 \uAD6C\uAC04 \uB3C4\uCC29\uACF5\uD56D\uC740 \uAC19\uC740 \uC9C0\uC5ED(\uB300\uB959)\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4.'; // '{0}번째 구간의 출발공항과 {1}번째 구간 도착공항은 같은 지역(대륙)이어야 합니다.';
        var alert_msg_max_length_stay = '\uCCAB\uBC88\uC9F8 \uAD6C\uAC04\uC758 \uCD9C\uBC1C\uC77C\uC5D0\uC11C \uB9C8\uC9C0\uB9C9 \uAD6C\uAC04\uC758 \uB3C4\uCC29\uC77C\uAE4C\uC9C0\uC758 \uAE30\uAC04\uC740 365\uC77C\uC744 \uCD08\uACFC\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.'; // '첫번째 구간의 출발일에서 마지막 구간의 도착일까지의 기간은 365일을 초과할 수 없습니다.';
        var alert_msg_connect_schedule = '\uAD6C\uAC04{0}\uC758 \uCD9C\uBC1C\uC77C\uC740 \uAD6C\uAC04{1}\uC758 \uCD9C\uBC1C\uC77C\uBCF4\uB2E4 \uBE60\uB978\uB0A0\uC9DC\uB97C \uC120\uD0DD\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.'; // '구간{0}의 출발일은 구간{1}의 출발일보다 빠른날짜를 선택할 수 없습니다.';
        var alert_msg_connect_combination = '\uB2E4\uAD6C\uAC04 \uC5EC\uC815\uC740 \uAD6D\uC81C\uC120, \uAD6D\uB0B4\uC120 \uB178\uC120\uC744 \uD568\uAED8 \uC608\uC57D\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.';// '다구간 여정은 국제선, 국내선 노선을 함께 예약할 수 없습니다.'
        var alert_msg_check_adult_cnt = '\uC131\uC778 \uD0D1\uC2B9\uAC1D \uC218\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694';// '성인 탑승객 수를 선택해주세요'

        var frm = $('#airAvailabilityRQ');

        frm.find('input.rqParam').remove();
        frm.find('input[name="schedule"]').remove();

        // 탑승객
        frm.append('<input type="hidden" name="pax" class="rqParam" value="'+ $('input[name="paxCountDetails[0].paxCount"]').val() +'"/>');
        frm.append('<input type="hidden" name="pax" class="rqParam" value="'+ $('input[name="paxCountDetails[1].paxCount"]').val() +'"/>');
        frm.append('<input type="hidden" name="pax" class="rqParam" value="'+ $('input[name="paxCountDetails[2].paxCount"]').val() +'"/>');

        // promoCode 입력된 경우 규정 확인 및 유효성 통과 여부 체크 - 개인만 적용, 유효성 체크하지 않는 것으로 변경합니다.
         // 기업우대 예약인 경우 promoCode 세팅
        var promoCode = '';
        var isPromocodeByUser = false;

        if(typeof $('div.code input[name="promoCode"]').val() != 'undefined' && $('div.code input[name="promoCode"]').val().length>0){
            promoCode = $('div.code input[name="promoCode"]').val();
            isPromocodeByUser = true;
        }

        if($('input[name="bookingType"]:checked').parent().attr('id') == 'bookingType_individual'){

            if(promoCode.length>0){
                var isValid = false;
                $.ajax({
                    url : '/ajax/layerComponents/discountCodeRule', // ajax url
                    dataType : 'json', // ajax 통신의 데이터 형식
                    async : false,  // 동기(false):비동기(true)
                    type : 'get',
                    data : {
                        promoCode:promoCode,
                        isPromocodeByUser:isPromocodeByUser
                    },
                    success : function(data){
                        // console.log(data);
                        if(data.success){
                            frm.find('input[name="promoCode"]').val(promoCode);
                            isValid = true;
                        } else {
                            switch(data.messageCode){
                                case "BKG_CHECK_PROMOCODE" :
                                    alert(alert_msg_check_promocode); break;
                                case "BKG_PROMOCODE_LOGIN" :
                                    alert(alert_msg_promocode_login);
                                    frm.find('input[name="returnUrl"]').remove();
                                    frm.find('input[name="returnSubmitType"]').remove();
                                    frm.append('<input type="hidden" name="returnUrl" value="/app/booking/searchItinerary"/>');
                                    frm.append('<input type="hidden" name="returnSubmitType" value="GET"/>');

                                    // loading
                                    beginLoadingAnimation();

                                    frm.attr('action','/app/login/memberLogin').submit();
                                    break;
                                case "BKG_PROMOCODE_ALREADY_USE" :
                                    alert(alert_msg_promocode_already_use); break;
                                default : break;
                            }
                        }
                    }
                });

                if(!isValid) {
                    return false;
                }
            }
        }

        $('input[name="searchDate"]').val(new Date().toISOString().slice(4, 10).replace(/-/g, ""));
        //왕복
        if($('#tripType_RT:checked').length==1) {

            // 노선 선택 여부
            if($('input[name="availabilitySearches[0].depAirport"]').val()=='' || $('input[name="availabilitySearches[1].depAirport"]').val()==''
                || $('input[name="availabilitySearches[0].arrAirport"]').val()=='' || $('input[name="availabilitySearches[1].arrAirport"]').val()==''){
                alert(alert_msg_choose_itinerary);
                $('#booking01 input.booking.start').focus();
                return false;
            }

            // 출/도착일 선택 여부
            if($('input[name="availabilitySearches[0].flightDate"]').val()=='' || $('input[name="availabilitySearches[1].flightDate"]').val()==''){
                alert(alert_msg_choose_schedule_roundtrip);
                $('#booking01 input.booking.date.focus_date1').focus();
                return false;
            }


              //출도착 공항이 같은 경우 편도로 변경하여 form submit
            if ($('input[name="availabilitySearches[0].depAirport"]').val() == $('input[name="availabilitySearches[0].arrAirport"]').val())
               {
                // 출발공항정보
                frm.append('<input type="hidden" name="deptAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[0].depAirport"]').val() +'"/>');
                // 도착공항정보
                frm.append('<input type="hidden" name="arriAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[0].arrAirport"]').val() +'"/>');
                // 출발일 정보
                frm.append('<input type="hidden" name="schedule" class="rqParam" value="'+ $('input[name="availabilitySearches[0].flightDate"]').val() +'"/>');

                $('#display_tripType_OW').prop('checked',true);
                $('#tripType_OW').prop('checked',true);
               }
            else
            {
                // 출발공항정보
                frm.append('<input type="hidden" name="deptAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[0].depAirport"]').val() +'"/>');
                frm.append('<input type="hidden" name="deptAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[1].depAirport"]').val() +'"/>');

                // 도착공항정보
                frm.append('<input type="hidden" name="arriAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[0].arrAirport"]').val() +'"/>');
                frm.append('<input type="hidden" name="arriAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[1].arrAirport"]').val() +'"/>');

                // 출발일 정보
                frm.append('<input type="hidden" name="schedule" class="rqParam" value="'+ $("#lostFlightDate1_1").val() +'"/>');
                frm.append('<input type="hidden" name="schedule" class="rqParam" value="'+ $("#lostFlightDate1_2").val() +'"/>');
            }
        }
        // 편도
        else if($('#tripType_OW:checked').length==1) {

            // 노선 선택 여부
            if($('input[name="availabilitySearches[0].depAirport"]').val()=='' || $('input[name="availabilitySearches[0].arrAirport"]').val()==''){
                alert(alert_msg_choose_itinerary);
                $('#booking02 input.booking.start').focus();
                return false;
            }

            // 출발일 선택 여부
            if($('input[name="availabilitySearches[0].flightDate"]').val()==''){
                alert(alert_msg_choose_schedule);
                $('#booking02 input.booking.date.focus_date1').focus();
                return false;
            }

            // 출발공항정보
            frm.append('<input type="hidden" name="deptAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[0].depAirport"]').val() +'"/>');

            // 도착공항정보
            frm.append('<input type="hidden" name="arriAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches[0].arrAirport"]').val() +'"/>');

            // 출발일 정보
            frm.append('<input type="hidden" name="schedule" class="rqParam" value="'+ $("#lostFlightDate2_1").val() +'"/>');

        }
        // 다구간인경우
        else if($('#tripType_MC:checked').length==1){

            for(var i=0 ; i<multiTripItineraryCount ; i++){
                // 노선 선택 여부
                if($('input[name="availabilitySearches['+i+'].depAirport"]').val()=='' || $('input[name="availabilitySearches['+i+'].arrAirport"]').val()==''){
                    alert(alert_msg_choose_itinerary);
                    $('#booking03 input.booking.start').focus();
                    return false;
                }
                // 출발일 선택 여부
                if($('input[name="availabilitySearches['+i+'].flightDate"]').val()==''){
                    alert(alert_msg_choose_schedule);
                    $('#booking03 input.booking.date.focus_date1').focus();
                    return false;
                }
            }


            for(var i=0 ; i<multiTripItineraryCount ; i++){
                // 출발공항정보
                frm.append('<input type="hidden" name="deptAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches['+i+'].depAirport"]').val() +'"/>');
                // 도착공항정보
                frm.append('<input type="hidden" name="arriAirportCode" class="rqParam" value="'+ $('input[name="availabilitySearches['+i+'].arrAirport"]').val() +'"/>');
                // 출발일 정보
                frm.append('<input type="hidden" name="schedule" class="rqParam" value="'+ $("#lostFlightDate3_" + parseInt(i + 1)).val() +'"/>');
            }


            /**
             * 연결구간 surface 점검, 출발일 점검
             */
            for(var i=1 ; i<multiTripItineraryCount ; i++) {
                var beforeAirport = $('input[name="availabilitySearches['+(i-1)+'].arrAirport"]');
                var afterAirport = $('input[name="availabilitySearches['+i+'].depAirport"]');

                if( beforeAirport.data('conti') != afterAirport.data('conti') ){
                    alert(alert_msg_connect_flight_surface.replace('{0}', i).replace('{1}', (i+1)));
                    return false;
                }

                //-- #368 [공통] 다국간 정책 변경 건 추가
                beforeAirport = $('input[name="availabilitySearches['+(i-1)+'].depAirport"]');
                afterAirport = $('input[name="availabilitySearches['+i+'].arrAirport"]');

                if( beforeAirport.data('conti') != afterAirport.data('conti') ){
                    alert(alert_msg_connect_flight_surface_reverse.replace('{0}', i).replace('{1}', (i+1)));
                    return false;
                }
                //-- #368 [공통] 다국간 정책 변경 건 추가

                var beforeDeparture = parseInt($('input[name="availabilitySearches['+(i-1)+'].flightDate"]').val().replace(/-/gi, ""),10);
                var afterDeparture = parseInt($('input[name="availabilitySearches['+(i)+'].flightDate"]').val().replace(/-/gi, ""),10);

                if(afterDeparture < beforeDeparture){
                    alert(alert_msg_connect_schedule.replace('{0}', (i+1)).replace('{1}', (i)));
                    return false;
                }
            }

            /**
             * 국제선, 국내선 결합 금지
             */
            var domIntStatus = '';
            for(var i=0 ; i<multiTripItineraryCount ; i++) {
                var beforeAirport = $('input[name="availabilitySearches[' + i + '].arrAirport"]');
                var afterAirport = $('input[name="availabilitySearches[' + i + '].depAirport"]');

                // 출발, 도착 중 한곳이라도 한국이 아니면 국제산
                if( (beforeAirport.data('conti')!='SKR' || afterAirport.data('conti')!='SKR') && domIntStatus.indexOf('I')==-1){
                    domIntStatus += 'I';
                }

                // 출발, 도착 모두 한국인 경우 국내선
                if( beforeAirport.data('conti')=='SKR' && afterAirport.data('conti')=='SKR' && domIntStatus.indexOf('D')==-1){
                    domIntStatus += 'D';
                }
            }

            if(domIntStatus.length>1){
                alert(alert_msg_connect_combination);
                return false;
            }


            /**
             * 최대체류기간 점검, max 365 day
             */
            var date1 = $('input[name="availabilitySearches[0].flightDate"]').val().replace(/-/gi, "");
            var date2 = $('input[name="availabilitySearches['+(multiTripItineraryCount-1)+'].flightDate"]').val().replace(/-/gi, "");


            if(dateIntervalDay(date1, date2)>365){
                alert(alert_msg_max_length_stay);
                return false;
            };

        }

        // 성인 탑승객 수 검사
        var adultCnt = $('input[name="paxCountDetails[0].paxCount"]').val();
        if(adultCnt < 1){
            alert(alert_msg_check_adult_cnt);
            return false;
        }


        /**
         * 단체항공권 관련 체크
         * 1. 로그인 여부
         * 2. 1일 최대 예약 건수 - 2회
         */
        var groupBookingFlag = parseInt($('input[name="paxCountDetails[0].paxCount"]').val(),10) + parseInt($('input[name="paxCountDetails[1].paxCount"]').val(),10) > 9;

        if(groupBookingFlag){

            var alert_msg_ruquest_login_grp_booking = '\uB2E8\uCCB4\uD56D\uACF5\uAD8C \uC608\uB9E4\uB294 \uB85C\uADF8\uC778 \uD6C4 \uC11C\uBE44\uC2A4 \uC774\uC6A9\uC774 \uAC00\uB2A5\uD569\uB2C8\uB2E4. \uB85C\uADF8\uC778\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?'; // 단체항공권 예매는 로그인 후 서비스 이용이 가능합니다. 로그인하시겠습니까?
            if('customer' !='customer'){
                if(confirm(alert_msg_ruquest_login_grp_booking)){

                    $.ajax({
                        url : "/ajax/booking/setChooseItineraryParameters" // ajax url
                        , dataType : 'json' // ajax 통신의 데이터 형식
                        , async: true // 동기(false):비동기(true)
                        , type : 'post'
                        , data : frm.serialize()
                        , success : function(data){

                            // console.log(data);

                            /**
                             * 여정 및 번들정보 세션에 저장 후 로그인 화면으로 이동
                             */
                            frm.find('input[name="returnUrl"]').remove();
                            frm.find('input[name="returnSubmitType"]').remove();
                            frm.append('<input type="hidden" name="returnUrl" class="rqParam" value="/app/booking/groupBookingLoginLanding"/>');
                            frm.append('<input type="hidden" name="returnSubmitType" class="rqParam" value="POST"/>');

                            // loading
                            frm.attr('action','/app/login/memberLogin').submit();
                            beginLoadingAnimation();

                        }
                        , error : function(xhr, status, error){
                            var error_confirm=confirm('\uB370\uC774\uD130 \uC804\uC1A1 \uC624\uB958\uC785\uB2C8\uB2E4. \uD655\uC778\uC744 \uB204\uB974\uC2DC\uBA74 \uD398\uC774\uC9C0\uAC00 \uC0C8\uB85C\uACE0\uCE68\uB429\uB2C8\uB2E4.');
                            if(error_confirm==true){
                                document.location.reload();
                            }
                        }
                    });

                }
            }
            /**
             * 로그인 상태라면 단체예약 1일 2건 제한 상태 확인
             * /ajax/booking/getGroupBookingCount
             */
            else{

                $.ajax({
                    url: "/ajax/booking/getGroupBookingCount" // ajax url
                    , dataType: 'json' // ajax 통신의 데이터 형식
                    , async: true // 동기(false):비동기(true)
                    , type: 'post'
                    , data : frm.serialize()
                    , success: function (data) {


                        if (data.data.cnt >= 2) {
                            alert('\uB2E8\uCCB4\uD56D\uACF5\uAD8C \uC608\uB9E4\uB294 1\uC77C 2\uD68C\uAE4C\uC9C0\uB9CC \uAC00\uB2A5\uD569\uB2C8\uB2E4.'); // 단체항공권 예매는 1일 2회까지만 가능합니다.
                        }
                        else{
                            frm.submit();
                            beginLoadingAnimation();
                        }

                    }
                    , error: function (xhr, status, error) {
                        var error_confirm = confirm('\uB370\uC774\uD130 \uC804\uC1A1 \uC624\uB958\uC785\uB2C8\uB2E4. \uD655\uC778\uC744 \uB204\uB974\uC2DC\uBA74 \uD398\uC774\uC9C0\uAC00 \uC0C8\uB85C\uACE0\uCE68\uB429\uB2C8\uB2E4.');
                        if (error_confirm == true) {
                            document.location.reload();
                        }
                    }
                });
            }


        }else{
            frm.submit();
            beginLoadingAnimation();
        }


    };

    /**
     * 다구간여정 출/도착지, 출발일 선택
     */
    var selectMultiTripAirport = function(obj, itineraryNumber, searchType, layerType, hideWebAccessCert){
        var currency = 'KRW';
        currentItineraryNumber = itineraryNumber;
        var i = itineraryNumber-1;

        if('date'==searchType){
            gnbCallBackArrivalAirportConfirm(itineraryNumber, 'searchItr', currency, hideWebAccessCert);
        }
        else{
            gnbSelectAirport(obj, itineraryNumber, layerType, 'searchItr');
        }
    };


    /**
     * 왕복/편도 여정에 대한 reverse 기능, ICN->NRT -> NRT->ICN
     */
    var deptAirport = {}; // 출발
    var arrAirport = {}; // 도착
    var tempAirport = {}; // 임시

    var exchangeAirport = function () {

        var deptAirportObjRoute1 = $('input[name="availabilitySearches[0].depAirport"]');
        var arrAirportObjRoute1 = $('input[name="availabilitySearches[0].arrAirport"]');

        var deptAirportObjRoute2 = $('input[name="availabilitySearches[1].depAirport"]');
        var arrAirportObjRoute2 = $('input[name="availabilitySearches[1].arrAirport"]');

        if(deptAirportObjRoute1.val()=='' || arrAirportObjRoute1.val()==''){
            return false;
        }

        deptAirport = {
            'val':deptAirportObjRoute1.val()
            ,'city':deptAirportObjRoute1.data('city')
            ,'airport':deptAirportObjRoute1.data('airport')
            ,'airport_code':deptAirportObjRoute1.data('airport_code')
            ,'conti':deptAirportObjRoute1.data('conti')
        };
        arrAirport = {
            'val':arrAirportObjRoute1.val()
            ,'city':arrAirportObjRoute1.data('city')
            ,'airport':arrAirportObjRoute1.data('airport')
            ,'airport_code':arrAirportObjRoute1.data('airport_code')
            ,'conti':arrAirportObjRoute1.data('conti')
        };

        // 출발정보 -> 임시저장
        tempAirport = deptAirport;

        // 도착정보 -> 출발정보, 출발정보 표기 변경
        deptAirport = arrAirport;
        // $('#booking01 .departure .airport_name').text(airportDisplayText(deptAirport));
        // $('#booking01 .departure .airport_code').text(deptAirport['airport_code']);

        $('#booking01 div.start div.selected_area').find('span.area').text(airportDisplayText(deptAirport));
        $('#booking01 div.start div.selected_area').find('span.eng').text(deptAirport['airport_code']);

        $('#booking02 div.start div.selected_area').find('span.area').text(airportDisplayText(deptAirport));
        $('#booking02 div.start div.selected_area').find('span.eng').text(deptAirport['airport_code']);

        deptAirportObjRoute1.val(arrAirport['val']);
        deptAirportObjRoute1.data('city', arrAirport['city']);
        deptAirportObjRoute1.data('airport', arrAirport['airport']);
        deptAirportObjRoute1.data('airport_code', arrAirport['airport_code']);
        deptAirportObjRoute1.data('conti', arrAirport['conti']);

        arrAirportObjRoute2.val(arrAirport['val']);
        arrAirportObjRoute2.data('city', arrAirport['city']);
        arrAirportObjRoute2.data('airport', arrAirport['airport']);
        arrAirportObjRoute2.data('airport_code', arrAirport['airport_code']);
        arrAirportObjRoute2.data('conti', arrAirport['conti']);

        // 임시저장 -> 도착정보, 돡장버 표기 변경
        arrAirport = tempAirport;
        // $('#booking01 .arrival .airport_name').text(airportDisplayText(arrAirport));
        // $('#booking01 .arrival .airport_code').text(arrAirport['airport_code']);
        $('#booking01 div.end div.selected_area').find('span.area').text(airportDisplayText(arrAirport));
        $('#booking01 div.end div.selected_area').find('span.eng').text(arrAirport['airport_code']);

        $('#booking02 div.end div.selected_area').find('span.area').text(airportDisplayText(arrAirport));
        $('#booking02 div.end div.selected_area').find('span.eng').text(arrAirport['airport_code']);

        arrAirportObjRoute1.val(tempAirport['val']);
        arrAirportObjRoute1.data('city', tempAirport['city']);
        arrAirportObjRoute1.data('airport', tempAirport['airport']);
        arrAirportObjRoute1.data('airport_code', tempAirport['airport_code']);
        arrAirportObjRoute1.data('conti', tempAirport['conti']);

        deptAirportObjRoute2.val(arrAirport['val']);
        deptAirportObjRoute2.data('city', arrAirport['city']);
        deptAirportObjRoute2.data('airport', arrAirport['airport']);
        deptAirportObjRoute2.data('airport_code', arrAirport['airport_code']);
        deptAirportObjRoute2.data('conti', arrAirport['conti']);
    };

    /**
     * 다구간 출/도착 공항 바꾸기
     */
    var exchangeAirportMC = function (routeIndex) {

        var deptAirportObjRoute1 = $('input[name="availabilitySearches['+ routeIndex +'].depAirport"]');
        var arrAirportObjRoute1 = $('input[name="availabilitySearches['+ routeIndex +'].arrAirport"]');

        if(deptAirportObjRoute1.val()=='' || arrAirportObjRoute1.val()==''){
            return false;
        }

        deptAirport = {
            'val':deptAirportObjRoute1.val()
            ,'city':deptAirportObjRoute1.data('city')
            ,'airport':deptAirportObjRoute1.data('airport')
            ,'airport_code':deptAirportObjRoute1.data('airport_code')
            ,'conti':deptAirportObjRoute1.data('conti')
        };
        arrAirport = {
            'val':arrAirportObjRoute1.val()
            ,'city':arrAirportObjRoute1.data('city')
            ,'airport':arrAirportObjRoute1.data('airport')
            ,'airport_code':arrAirportObjRoute1.data('airport_code')
            ,'conti':arrAirportObjRoute1.data('conti')
        };

        // 출발정보 -> 임시저장
        tempAirport = deptAirport;

        // 도착정보 -> 출발정보, 출발정보 표기 변경
        deptAirport = arrAirport;
        // $('#booking01 .departure .airport_name').text(airportDisplayText(deptAirport));
        // $('#booking01 .departure .airport_code').text(deptAirport['airport_code']);

        $('#itinerary_multi_trip_'+ (routeIndex+1) +' div.start div.selected_area').find('span.area').text(airportDisplayText(deptAirport));
        $('#itinerary_multi_trip_'+ (routeIndex+1) +' div.start div.selected_area').find('span.eng').text(deptAirport['airport_code']);

        deptAirportObjRoute1.val(arrAirport['val']);
        deptAirportObjRoute1.data('city', arrAirport['city']);
        deptAirportObjRoute1.data('airport', arrAirport['airport']);
        deptAirportObjRoute1.data('airport_code', arrAirport['airport_code']);
        deptAirportObjRoute1.data('conti', arrAirport['conti']);

        // 임시저장 -> 도착정보, 돡장버 표기 변경
        arrAirport = tempAirport;
        // $('#booking01 .arrival .airport_name').text(airportDisplayText(arrAirport));
        // $('#booking01 .arrival .airport_code').text(arrAirport['airport_code']);
        $('#itinerary_multi_trip_'+ (routeIndex+1) +' div.end div.selected_area').find('span.area').text(airportDisplayText(arrAirport));
        $('#itinerary_multi_trip_'+ (routeIndex+1) +' div.end div.selected_area').find('span.eng').text(arrAirport['airport_code']);

        arrAirportObjRoute1.val(tempAirport['val']);
        arrAirportObjRoute1.data('city', tempAirport['city']);
        arrAirportObjRoute1.data('airport', tempAirport['airport']);
        arrAirportObjRoute1.data('airport_code', tempAirport['airport_code']);
        arrAirportObjRoute1.data('conti', tempAirport['conti']);
    };

    /**
     * 출/도착지 정보의 노출정보 TEXT 정리
     */
    var airportDisplayText = function(el){

        var text = el['city'];
        if(el['city']!=el['airport']){
            text += '/'+el['airport'];
        }
        // text += ' '+el['airport_code'];
        return text;
    };


    /**
     * 저장된 RQ가 있는경우 정보 표출
     */
    $(document).ready(function(){
        reformAirAvailabilityRQInfo();
    });

    var reformAirAvailabilityRQInfo = function(){

        $.each($('div.tab_section ul.chk_rdo_list input[name="tripTypeButton"]'),function(){
            if($(this).val()==$('#airAvailabilityRQ input[name="tripType"]:checked').val()){
                $(this).prop('checked', true);
            }
        });


        // 노선정보
        if($('input[name="availabilitySearches[0].depAirport"]').val()!='' && $('input[name="availabilitySearches[0].arrAirport"]').val()!=''){

            $('#booking01 div.start').addClass('focus');
            $('#booking01 div.start div.selected_area').addClass('on');
            $('#booking01 div.start div.selected_area').find('span.area').text($('input[name="availabilitySearches[0].depAirportName"]').val());
            $('#booking01 div.start div.selected_area').find('span.eng').text($('input[name="availabilitySearches[0].depAirport"]').val());

            $('#booking01 div.end').addClass('focus');
            $('#booking01 div.end div.selected_area').addClass('on');
            $('#booking01 div.end div.selected_area').find('span.area').text($('input[name="availabilitySearches[0].arrAirportName"]').val());
            $('#booking01 div.end div.selected_area').find('span.eng').text($('input[name="availabilitySearches[0].arrAirport"]').val());


            $('#booking02 div.start').addClass('focus');
            $('#booking02 div.start div.selected_area').addClass('on');
            $('#booking02 div.start div.selected_area').find('span.area').text($('input[name="availabilitySearches[0].depAirportName"]').val());
            $('#booking02 div.start div.selected_area').find('span.eng').text($('input[name="availabilitySearches[0].depAirport"]').val());

            $('#booking02 div.end').addClass('focus');
            $('#booking02 div.end div.selected_area').addClass('on');
            $('#booking02 div.end div.selected_area').find('span.area').text($('input[name="availabilitySearches[0].arrAirportName"]').val());
            $('#booking02 div.end div.selected_area').find('span.eng').text($('input[name="availabilitySearches[0].arrAirport"]').val());

        }

        // 탑승일 정보
        if($('input[name="availabilitySearches[0].flightDate"]').val()!=''){

            $('#booking01 div.input_wrap.date').addClass('focus');
            $('#booking01 input.booking.date').eq(0).val($('input[name="availabilitySearches[0].flightDate"]').val());
            $('#booking01 input.booking.date').eq(1).val($('input[name="availabilitySearches[1].flightDate"]').val());

            if($('input[name="availabilitySearches[1].flightDate"]').val()!=''){
                $('#booking01 input.booking.date').eq(0).val($('input[name="availabilitySearches[0].flightDate"]').val());
            }


            $('#booking02 div.input_wrap.date').addClass('focus');
            $('#booking02 input.booking.date').eq(0).val($('input[name="availabilitySearches[0].flightDate"]').val());
            $('#booking02 input.booking.date').eq(1).val($('input[name="availabilitySearches[1].flightDate"]').val());

            if($('input[name="availabilitySearches[1].flightDate"]').val()!=''){
                $('#booking02 input.booking.date').eq(0).val($('input[name="availabilitySearches[0].flightDate"]').val());
            }

        }


        // 다구간인경우
        for(var i=0 ; i<4 ; i++){
            // 노선정보
            if($('input[name="availabilitySearches['+i+'].depAirport"]').val()!='' && $('input[name="availabilitySearches['+i+'].arrAirport"]').val()!=''){

                if(i>1){
                    multiTripItineraryCount = i+1;
                }

                $('#itinerary_multi_trip_'+(i+1)+' div.start').addClass('focus');
                $('#itinerary_multi_trip_'+(i+1)+' div.start div.selected_area').find('span.eng').text($('input[name="availabilitySearches['+i+'].depAirport"]').val());
                $('#itinerary_multi_trip_'+(i+1)+' div.start div.selected_area').find('span.area').text($('input[name="availabilitySearches['+i+'].depAirportName"]').val());
                $('#itinerary_multi_trip_'+(i+1)+' div.start div.selected_area').addClass('on');

                $('#itinerary_multi_trip_'+(i+1)+' div.end').addClass('focus');
                $('#itinerary_multi_trip_'+(i+1)+' div.end div.selected_area').find('span.eng').text($('input[name="availabilitySearches['+i+'].arrAirport"]').val());
                $('#itinerary_multi_trip_'+(i+1)+' div.end div.selected_area').find('span.area').text($('input[name="availabilitySearches['+i+'].arrAirportName"]').val());
                $('#itinerary_multi_trip_'+(i+1)+' div.end div.selected_area').addClass('on');


                // 탑승일 정보
                $('#itinerary_multi_trip_'+(i+1)+' input.booking.date').val($('input[name="availabilitySearches['+i+'].flightDate"]').val());
                $('#itinerary_multi_trip_'+(i+1)+' div.input_wrap.date').addClass('focus');

                $('#itinerary_multi_trip_'+(i+1)).show();



                // TODO delete , old html
                $('#itinerary_multi_trip_'+(i+1)).find('input[name="origin_name"]').val($('input[name="availabilitySearches['+i+'].depAirportName"]').val()
                    + ' ' + $('input[name="availabilitySearches['+i+'].depAirport"]').val());

                $('#itinerary_multi_trip_'+(i+1)).find('input[name="destination_name"]').val($('input[name="availabilitySearches['+i+'].arrAirportName"]').val()
                    + ' ' + $('input[name="availabilitySearches['+i+'].arrAirport"]').val());
                // -- TODO delete , old html

            }



            // -- TODO delete , old html
            $('#itinerary_multi_trip_'+(i+1)).find('input[name="departure_date"]').val($('input[name="availabilitySearches['+i+'].flightDate"]').val());
            // -- TODO delete , old html

        }


    };


    /**
     * 나이계산기
     */
    var alert_msg_select_route = '\uB178\uC120\uACFC \uCD9C\uBC1C\uC77C\uC744 \uBA3C\uC800 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.'; // 노선과 출발일을 먼저 선택해주세요.
    var howOldAreYou = function(){

        var depAirport = $('input[name="availabilitySearches[0].depAirport"]').val();
        var arrAirport = $('input[name="availabilitySearches[0].arrAirport"]').val();
        var flightDate = $('input[name="availabilitySearches[0].flightDate"]').val();

        if(depAirport!='' && arrAirport!='' && flightDate!=''){

            flightDate = flightDate.replace(/\-/g,"");

            ageCalculater(flightDate, depAirport, arrAirport);
        }
        else{
            alert(alert_msg_select_route);
        }
    };

    /**
     * 프로모션코드 유효성 검사
     */

    $(document).ready(function(){
        $('div.code input[name="promoCode"]').change(function(){
            $("input[name='validPromoCode']").val('N');
            $('input[name="promoCodeDetails.promoCode"]').val('');
        });
    });

    $('.txt_tooltip').on('click', function() {
        $('.discountCodeRule_area').empty();
        var alert_msg_promocode_required = '\uD560\uC778\uCF54\uB4DC\uB97C \uC785\uB825\uD574 \uC8FC\uC138\uC694.';//'프로모션코드를 입력해 주세요.';

        var promoCode = $('div.code input[name="promoCode"]').val();

        if(promoCode==''){
            alert(alert_msg_promocode_required);
            $('div.code input[name="promoCode"]').focus();
            return false;
        }
        else{
            discountCodeInfo(promoCode);
            $(this).parents().find('.tooltip_layer.txt').fadeToggle(150);
        }
    });

    $('.tooltip_layer.txt.checked').on('click', function() {
            $(this).parents().find('.tooltip_layer.txt').fadeToggle(150);
    });

    /**
     * 입력한 할인코드 안내
     * @param promoCode
     */
    var discountCodeInfo = function(promoCode){

        if(promoCode == ''){
            var alert_msg_promocode_required = '\uD560\uC778\uCF54\uB4DC\uB97C \uC785\uB825\uD574 \uC8FC\uC138\uC694.';//'프로모션코드를 입력해 주세요.';
            alert(alert_msg_promocode_required);
            return false;
        } else {
            var alert_msg_check_promocode = '\uC785\uB825\uD558\uC2E0 \uD504\uB85C\uBAA8\uC158\uCF54\uB4DC\uC758 \uD560\uC778\uADDC\uC815\uC744 \uD655\uC778\uD574\uC8FC\uC138\uC694.'; // '입력하신 프로모션코드의 할인규정을 확인해주세요.';
            appendLayer('discount_code_rule');
            $.ajax({
                url : '/ajax/layerComponents/discountCodeRule', // ajax url
                dataType : 'json', // ajax 통신의 데이터 형식
                async : true,  // 동기(false):비동기(true)
                type : 'get',
                data : {
                    promoCode:promoCode
                },
                success : function(data){
                    // console.log(data);
                    if(data.messageCode == "BKG_CHECK_PROMOCODE"){
                        $('.discountCodeRule_area').html('');
                    } else {
                        $('.discountCodeRule_area').html(data.data.promocode.promoExplain);
                    }
                }
            });
        }
    };

    /**
     * 입력한 할인코드의 유효성 확인
     */
    var callbackDiscountCode = function(useYn){

        $("input[name='validPromoCode']").val(useYn);

        if(useYn != 'Y'){
            $('div.code input[name="promoCode"]').val('').focus();
        }
        else{
            var promoCode = $('div.code input[name="promoCode"]').val();
            $('input[name="promoCodeDetails.promoCode"]').val(promoCode);
        }
    };



    //--
    //-- 시작 -  출/도착공항 선택, 여정선택 레이어 control
    //--

    /**
     * 출발 공항 선택 레이어 호출
     * itineraryNumber ; 여정구간번호, 왕복/편도는 parameter 넘어오지 않음.
     * layerType ; search 검색, region 전체지역
     */
    var selectAirportObj;
    var selectAirportLayerType;
    var selectItineraryNumber;
    var currency = 'KRW';
    var alert_msg_select_departure = '\uCD9C\uBC1C\uC9C0\uB97C \uC120\uD0DD\uD558\uC138\uC694.';//'출발지를 선택하세요.';
    var alert_msg_choose_departure_airport = '\uCD9C\uBC1C\uC9C0\uB97C \uC120\uD0DD\uD558\uC138\uC694.';//'출발지를 선택해주세요.';
    var alert_msg_choose_arrival_airport = '\uB3C4\uCC29\uC9C0\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694.';//'도착지 공항을 선택해주세요.';
    var selectAirports = function(obj, itineraryNumber, layerType){


        selectAirportObj = obj;
        selectItineraryNumber = itineraryNumber;
        selectAirportLayerType = layerType;

        $('#schedule_calendar').remove();
        $('#top_passenger_type').hide();

        /**
         * 출발지, 도착지 검색 영역에 포커스가 있는 경우 레이어 닫히지 않게 처리
         */
        var focusEle = $(":focus");

        // 출발지 선택중
        if( (focusEle.tagName == 'INPUT' && $(focusEle).hasClass('booking') && $(focusEle).hasClass('start'))
        || $(selectAirportObj).hasClass('booking') && $(selectAirportObj).hasClass('start') ){
            $('#route_departure').remove();
            $('#route_arrival').remove();
            $('#route_arrival_search').remove();
            $('#schedule_calendar').remove();
            $('#top_passenger_type').hide();

            if($('#route_departure_search').length > 0){
                return false;
            }
        }


        // 도착지 선택중
        if( (focusEle.tagName == 'INPUT' && $(focusEle).hasClass('booking') && $(focusEle).hasClass('end'))
            || $(selectAirportObj).hasClass('booking') && $(selectAirportObj).hasClass('end') ){
            $('#route_arrival').remove();
            $('#route_departure').remove();
            $('#route_departure_search').remove();
            $('#schedule_calendar').remove();
            $('#top_passenger_type').hide();

            if($('#route_arrival_search').length > 0){
                return false;
            }
        }

        var deptAirportCode = $('input[name="availabilitySearches[0].depAirport"]').val();


        // 다구간의 경우 해당 구간의 출발공항
        if( typeof itineraryNumber != 'undefined' && itineraryNumber > 0){
            itineraryNumber = parseInt(itineraryNumber,10);
            deptAirportCode = $('input[name="availabilitySearches['+(itineraryNumber-1)+'].depAirport"]').val();
        }

        // 위치 확인
        var $this = $(obj),
            thisTop = $this.offset().top - $('div.input_booking_wrap').offset().top + 65 + 90,
            thisLeft = $this.offset().left - $('div.input_booking_wrap').offset().left;

        if(layerType == 'region'){
            if(deptAirportCode!='' && $(obj).hasClass('end')){
                routeArrival(deptAirportCode, $('input[name="tripType"]:checked').val(), itineraryNumber);
                $('#route_arrival').css({'position': 'absolute','top': thisTop, 'left': thisLeft});
                showLayer('route_arrival');
            }
            else if(deptAirportCode=='' && $(obj).hasClass('end')){
                $(obj).blur();
                alert(alert_msg_select_departure);
                if($('#tripType_RT:checked').length==1) {
                    $('#booking01 input.booking.start').focus();
                } else if($('#tripType_OW:checked').length==1) {
                    $('#booking02 input.booking.start').focus();
                } else if($('#tripType_MC:checked').length==1){
                    $('#booking03 input.booking.start').focus();
                }
                return false;
            }
            else{
                routeDeparture($('input[name="tripType"]:checked').val(), undefined, itineraryNumber);
                $('#route_departure').css({'position': 'absolute','top': thisTop, 'left': thisLeft});
                showLayer('route_departure');
                $('#route_departure').attr('tabindex','0').focus();

            }

        }
        else if(layerType == 'search'){

            if(deptAirportCode!='' && $(obj).hasClass('end')){
                routeArrivalSearch(obj, deptAirportCode, $('input[name="tripType"]:checked').val(), itineraryNumber);
                $('#route_arrival_search').css({'position': 'absolute','top': thisTop, 'left': thisLeft});
                showLayer('route_arrival_search');
            }
            else if(deptAirportCode=='' && $(obj).hasClass('end')){
                $(obj).blur();
                alert(alert_msg_select_departure);
                if($('#tripType_RT:checked').length==1) {
                    $('#booking01 input.booking.start').focus();
                } else if($('#tripType_OW:checked').length==1) {
                    $('#booking02 input.booking.start').focus();
                } else if($('#tripType_MC:checked').length==1){
                    $('#booking03 input.booking.start').focus();
                }
                return false;
            }
            else{
                routeDepartureSearch(obj, $('input[name="tripType"]:checked').val(), undefined, itineraryNumber);
                $('#route_departure_search').css({'position': 'absolute','top': thisTop, 'left': thisLeft});
                showLayer('route_departure_search');
            }


        }

    };

    /**
     * 출/도착 공항정보 선택시 data 및 value 저장
     */
    var setAirportData = function (airportObj, el){
        $(airportObj).data('city',$(el).data('city'));
        $(airportObj).data('airport',$(el).data('airport'));
        $(airportObj).data('airport_code',$(el).data('airport_code'));
        $(airportObj).data('conti',$(el).data('conti'));
        airportObj.val($(el).data('airport_code'));
    };

    var alert_msg_choose_departure_airport = '\uCD9C\uBC1C\uC9C0\uB97C \uC120\uD0DD\uD558\uC138\uC694.';//'출발지를 선택해주세요.';
    var alert_msg_choose_arrival_airport = '\uB3C4\uCC29\uC9C0\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694.';//'도착지 공항을 선택해주세요.';

    var gnbScheduleCalendar = function(tripType, bookingType, currency, deptAirportCode, arriAirportCode){

        isGnbRequest = false;
        scheduleCalendar(tripType, bookingType, currency, deptAirportCode, arriAirportCode);
        // gnb job flag
        isGnbRequest = true;
    };

    /**
     * 일정선택 레이어의 확인버튼 이벤트 처리 callback function
     * @param schedule      array형태로 반환, 편도/다구간조회인 경우 size=1, 왕복인경우 size=2, YYYYMMDD
     * @param schedule_str  YYYY-MM-DD
     */
    var callBackScheduleConfirm = function(schedule, schedule_str){


        //왕복
        if($('#tripType_RT:checked').length==1) {

            $('#booking01 div.date').addClass('focus');
            $('#booking01 div.date input').eq(0).val(schedule_str[0]);
            $('#booking01 div.date input').eq(1).val(schedule_str[1]);


            $('#booking02 div.date').addClass('focus');
            $('#booking02 div.date input').eq(0).val(schedule_str[0]);

            // RQ
            $('input[name="availabilitySearches[0].flightDate"]').val(schedule_str[0]);
            $('input[name="availabilitySearches[1].flightDate"]').val(schedule_str[1]);
        }
        // 편도
        else if($('#tripType_OW:checked').length==1) {

            $('#booking01 div.date').addClass('focus');
            $('#booking01 div.date input').eq(0).val(schedule_str[0]);

            $('#booking02 div.date').addClass('focus');
            $('#booking02 div.date input').eq(0).val(schedule_str[0]);

            // RQ
            $('input[name="availabilitySearches[0].flightDate"]').val(schedule_str[0]);

        }
        // 다구간인경우
        else if($('#tripType_MC:checked').length==1){
            // display
            $('#itinerary_multi_trip_' + currentItineraryNumber).find('div.date').addClass('on');
            $('#itinerary_multi_trip_' + currentItineraryNumber).find('div.date input').val(schedule_str[0]);

            // $('#itinerary_multi_trip_' + currentItineraryNumber).find('input[name="departure_date"]').val(schedule_str[0]);

            // RQ
            $('input[name="availabilitySearches['+(currentItineraryNumber-1)+'].flightDate"]').val(schedule_str[0]);

        }

        showLayer('wrap', 'schedule_calendar', true);
    };

    /**
     * 호출된 레이어에서 사용자 요청에 의해 프로세스 중단(창닫기)시 부모페이어를 재호출
     */
    var callBackOpener = function(hideLayerName){
        // $('#'+hideLayerName).remove();

        $('#wrap').slideDown( "slow", function() {
            $('#'+hideLayerName).remove();
        });

        // $('#wrap').css('overflow','');
        $('body').removeClass('no_scroll');
    };


    //--
    //-- 끝 -  출/도착공항 선택, 여정선택 레이어 control
    //--
</script>


        <!-- // 여정검색 -->

        <!-- Button -->
        <div class="btn_wrap mb40">
            <button class="btn_large cancel wh">취소</button>
            <button class="btn_large red" onclick="chooseItinerary();">조회</button>
        </div>
        <!--// Button -->

        <!-- 여정 재검색 -->
    </div>
</div>
<!-- 여정 재검색 레이어 -->


<!-- 항공권 예매중 필요한 parameters -->
<form id="bookingForm" method="post" name="bookingForm" action="/app/booking/rule">

    <input class="bookingTicket" name="bookingTicket" type="hidden" value="f899cdd7-3c52-47ca-b7e4-aa9f09caef50">

    <input name="routeCount" type="hidden" value="2">
    <input name="bookingType" type="hidden" value="HI">
    <input name="tripType" type="hidden" value="RT">
    <input name="promoCode" type="hidden" value="">
    <input name="deptAirportCode" type="hidden" value="ICN">
    <input name="deptAirportCode" type="hidden" value="SYD">
    <input name="arriAirportCode" type="hidden" value="SYD">
    <input name="arriAirportCode" type="hidden" value="ICN">
    <input name="schedule" type="hidden" value="2022-12-26">
    <input name="schedule" type="hidden" value="2023-01-15">
    <input name="pax" type="hidden" value="2">
    <input name="pax" type="hidden" value="0">
    <input name="pax" type="hidden" value="0">

    <input name="PaxCountDetails" type="hidden" value="PaxType=ADULT&amp;PaxCount=2">
    <input name="FlightSegmentInfo" type="hidden" value="SegmentId=1&amp;CarrierCode=TW&amp;FltNumber=501&amp;FlightDate=2022-12-26&amp;FlightDateWithDay=2022-12-26(월)&amp;FareClass=R&amp;SegmentIndex=1&amp;SegmentFareClass=1-R&amp;JourneyTime=0&amp;FlightSegmentGroupId=1&amp;JourneyTime=10:25&amp;ArrivalDayChange=1&amp;AircraftType=330&amp;AircraftVersion=300&amp;Stops=0&amp;DepartureTime=22:20&amp;ArrivalTime=10:45&amp;DepAirport=ICN&amp;DepartureTimeZone=GMT+09:00&amp;ScheduledDepartureDateTimeLTC=2022-12-26T22:20:00&amp;ScheduledDepartureDateTimeLTCStr=20221226222000&amp;ScheduledDepartureDateTimeUTC=2022-12-26T13:20:00&amp;ArrAirport=SYD&amp;ArrivalTimeZone=GMT+11:00&amp;ScheduledArrivalDateTimeLTC=2022-12-27T10:45:00&amp;ScheduledArrivalDateTimeUTC=2022-12-26T23:45:00&amp;IsPromoCodeApplied=false&amp;CabinClass=BUSINESS">
    <input name="FlightSegmentInfo" type="hidden" value="SegmentId=2&amp;CarrierCode=TW&amp;FltNumber=502&amp;FlightDate=2023-01-15&amp;FlightDateWithDay=2023-01-15(일)&amp;FareClass=CC&amp;SegmentIndex=2&amp;SegmentFareClass=2-CC&amp;JourneyTime=0&amp;FlightSegmentGroupId=2&amp;JourneyTime=10:50&amp;ArrivalDayChange=0&amp;AircraftType=330&amp;AircraftVersion=300&amp;Stops=0&amp;DepartureTime=12:15&amp;ArrivalTime=21:05&amp;DepAirport=SYD&amp;DepartureTimeZone=GMT+11:00&amp;ScheduledDepartureDateTimeLTC=2023-01-15T12:15:00&amp;ScheduledDepartureDateTimeLTCStr=20230115121500&amp;ScheduledDepartureDateTimeUTC=2023-01-15T01:15:00&amp;ArrAirport=ICN&amp;ArrivalTimeZone=GMT+09:00&amp;ScheduledArrivalDateTimeLTC=2023-01-15T21:05:00&amp;ScheduledArrivalDateTimeUTC=2023-01-15T12:05:00&amp;IsPromoCodeApplied=false&amp;CabinClass=BUSINESS">
    <input name="FareInfoForGuestType" type="hidden" value="SegmentId=1&amp;FlightSegmentGroupId=1&amp;FareType=BizFare&amp;FareLevel=EW&amp;FareBasisCode=RID&amp;FareClass=R&amp;SegmentIndex=1&amp;SegmentFareClass=1-R&amp;PaxType=ADULT&amp;FareTransactionId=501982&amp;CabinClass=BUSINESS&amp;isMembershipFare=false&amp;BaseFare=1620000.0&amp;Currency=KRW">
    <input name="FareInfoForGuestType" type="hidden" value="SegmentId=2&amp;FlightSegmentGroupId=2&amp;FareType=BizFare&amp;FareLevel=EW&amp;FareBasisCode=CCID&amp;FareClass=CC&amp;SegmentIndex=2&amp;SegmentFareClass=2-CC&amp;PaxType=ADULT&amp;FareTransactionId=501612&amp;CabinClass=BUSINESS&amp;isMembershipFare=false&amp;BaseFare=1300000.0&amp;Currency=KRW">

    <input name="bundleCode" type="hidden" value="">

    <input name="bundleCode" type="hidden" value="">
    <input name="bundleSegmentId" type="hidden" value="undefined">
    <input name="bundleSegmentId" type="hidden" value="undefined">
    <input name="PnrSessionId" type="hidden" value="">

    <input name="guestDetailList" type="hidden" value="GuestId=1&amp;LastName=KIM&amp;FirstName=SEONKYOUNG&amp;PaxType=ADULT&amp;DateOfBirth=1992-02-15&amp;Gender=M&amp;ApisNationCode=KOR&amp;SsrInfo=|&amp;PetcInfo=">

    <input name="guestDetailList" type="hidden" value="GuestId=2&amp;LastName=KIM&amp;FirstName=SEON&amp;PaxType=ADULT&amp;DateOfBirth=1996-11-12&amp;Gender=M&amp;ApisNationCode=KOR&amp;SsrInfo=|&amp;PetcInfo=">
    <input name="pnrContact" type="hidden" value="CellNumber=01027157383&amp;CellNumberCountryCode=82&amp;EmailAddress=psun0215@naver.com">

    <input name="PnrNumber" type="hidden" value="EBWDyI6IqvBGDsA/ZJEXGA==">




<input type="hidden" name="_csrf" value="c06c1120-125b-4267-9829-a688b28a0f09"></form>

<!--// twaygtm > dataForm > gtmDataFormBooking -->


<input id="gtmActionFieldData" name="gtmActionFieldData" type="hidden" value="RT;2022-12-26;2023-01-15;flight_booking;ICN;SYD;2_0_0;2">
<input id="gtmActionFieldStep" name="gtmActionFieldStep" type="hidden" value="">
<input id="gtmActionFieldOption" name="gtmActionFieldOption" type="hidden" value="">
<input id="gtmFlightSegmentProductData" name="gtmFlightSegmentProductData" type="hidden" value="indexundefined|undefined_adult|ticket|undefined|adult|2|0|bizfare;indexundefined|undefined_adult|ticket|undefined|adult|2|0|bizfare;">
<input id="gtmSsrProductData" name="gtmSsrProductData" type="hidden" value="">

<script type="text/javascript">

$(document).ready(function(){

// 부가서비스 번들 페이지 다음 버튼 클릭
$('.stepButton.gtm_push_step_2').click(function(e){
    $("#gtmActionFieldStep").val("2");
    $("#gtmActionFieldOption").val("부가서비스 번들");

    // /*segIndex|bund|bundleCode|bundleDiv(DB-double,TP-triple,MT-multi)|bundleAmount;...*/
    // /*index1|bund|bundleCode|DB|50000.0;...*/
    var bundleInfoDataStr = "";
    var bundleInfoData = "";
    var bundleInfo = $('div.packing_wrap.on');

    $.each(bundleInfo, function(index, el){
        if($(el).data('ispnradd')){
            bundleInfoData = 'index' + $(el).data('segmentid') + '|' + 'bund' + '|' + $(el).data('bundlecode') + '|' + $(el).data('bundlecode').toLowerCase() + '|' + $(el).data('bundleamount') + ';';
            bundleInfoDataStr += bundleInfoData;
        }
    });

    $("#gtmSsrProductData").val(bundleInfoDataStr);
    // twaygtm > push > 선택한 부가서비스 번들 데이터 push
    gtmSelectedBundleDataPush();

    $('form[name="bookingForm"]').append('<input type="hidden" name="gtmActionFieldData" value="'+ $('input[name="gtmActionFieldData"]').val() +'"/>');
    $('form[name="bookingForm"]').append('<input type="hidden" name="gtmFlightSegmentProductData" value="'+ $('input[name="gtmFlightSegmentProductData"]').val() +'"/>');
    $('form[name="bookingForm"]').append('<input type="hidden" name="gtmSsrProductData" value="'+ $('input[name="gtmSsrProductData"]').val() +'"/>');

});

// 부가서비스 번들 페이지 단계 건너뛰기 버튼 클릭
$('.skip.gtm_push_step_2').click(function(e){

    $("#gtmActionFieldStep").val("2");
    $("#gtmActionFieldOption").val("부가서비스 번들");
    // twaygtm > push > 선택한 부가서비스 번들 데이터 push
    gtmSelectedBundleDataPush();

    $('form[name="bookingForm"]').append('<input type="hidden" name="gtmActionFieldData" value="'+ $('input[name="gtmActionFieldData"]').val() +'"/>');
    $('form[name="bookingForm"]').append('<input type="hidden" name="gtmFlightSegmentProductData" value="'+ $('input[name="gtmFlightSegmentProductData"]').val() +'"/>');
    $('form[name="bookingForm"]').append('<input type="hidden" name="gtmSsrProductData" value="'+ $('input[name="gtmSsrProductData"]').val() +'"/>');

});

// 탑승객 정보 입력 페이지 이전 단계 버튼 클릭
$('.gtm_push_step_3#buttonPrevStep').click(function(e){

    // twaygtm > 기존 gtm data submit
    $('form[name="bookingForm"]').append('<input type="hidden" name="gtmActionFieldData" value="'+ $('input[name="gtmActionFieldData"]').val() +'"/>');
    $('form[name="bookingForm"]').append('<input type="hidden" name="gtmFlightSegmentProductData" value="'+ $('input[name="gtmFlightSegmentProductData"]').val() +'"/>');

});

// 운임 규정 화면 내 확인 버튼 클릭 시
$('.gtm_push_step_5').click(function(e){

    $("#gtmActionFieldStep").val("5");
    $("#gtmActionFieldOption").val("선택 내역 확인 및 규정 동의");
    // twaygtm > push > 선택한 부가서비스 데이터 push
    gtmSelectedSsrDataPush();

});

});

// 탑승객 정보 입력 > 다음 단계 버튼 클릭
var gtmDataPush = function(){

try{

    $("#gtmActionFieldStep").val("3");
    $("#gtmActionFieldOption").val("탑승자 정보 입력");
    // /*index1_bundlecode_paxtype^bundleCnt|bund|DB|50000.0;...*/
    var bundleInfoDataStr = "";
    var bundleInfoData = "";
    var gtmBundleProductData = $("#gtmSsrProductData").val();
    var paxTypeArray = ['ADULT', 'CHILD'];

    if(gtmBundleProductData.length > 0){
        var bundleProductData = gtmBundleProductData.split(';');
        $.each(bundleProductData, function(index, el){
            if(el.length > 0) {
                for(var p=0; p<paxTypeArray.length; p++){
                    // index1_bundlecode_paxtype^bundleCnt|bund|DB|50000.0;
                    var bundleKey = el.split('|')[0]+'_'+el.split('|')[2]+'_'+paxTypeArray[p];
                    var bundleCnt = $("input[name='bundleCode'][data-gtmbundlekey='" + bundleKey + "']:checked").length;
                    if(bundleCnt > 0){
                        bundleInfoData = bundleKey + '^' + bundleCnt + '|' + 'bund' + '|' + el.split('|')[3] + '|' + el.split('|')[4] + ';';
                        bundleInfoDataStr += bundleInfoData;
                    }
                }
            }
        });
    }

    $("#gtmSsrProductData").val(bundleInfoDataStr);
    // twaygtm > push > 선택한 부가서비스 데이터 push
    gtmSelectedSsrDataPush();

    $('form[name="createBookingForm"]').append('<input type="hidden" name="gtmActionFieldData" value="'+ $('input[name="gtmActionFieldData"]').val() +'"/>');
    $('form[name="createBookingForm"]').append('<input type="hidden" name="gtmFlightSegmentProductData" value="'+ $('input[name="gtmFlightSegmentProductData"]').val() +'"/>');
    $('form[name="createBookingForm"]').append('<input type="hidden" name="gtmSsrProductData" value="'+ $('input[name="gtmSsrProductData"]').val() +'"/>');

} catch (e) {
    console.log(e);
}

};

var gtmSsrDataPush = function(){

try{

    $("#gtmActionFieldStep").val("4");
    $("#gtmActionFieldOption").val("그 외 부가서비스 선택");
    var ssrInfoDataStr = "";
    var routeCount = 2;
    var usaRouteYN = 'N';
    var ssrInfoArray = new Array();
    var ssrAmount = {};

    for(var i=1 ; i<=routeCount; i++){

        $.each($('.guestDetails.route_' + i), function(index, el) {
            var passengerInfo = $(el);
            var segmentId = passengerInfo.data('segmentid');
            var ssrInfoData = '';

            var isBundleUser = typeof passengerInfo.data('bundleinfo') != "undefined" && passengerInfo.data('bundleinfo') != 'BUND0';

            if (!isBundleUser) {

                // 수하물
                if(passengerInfo.data('baggage_value')!='*' && parseFloat(passengerInfo.data('baggage_amount')) > 0){
                    if(usaRouteYN == 'Y') {
                        // index1_1PC_ADULT
                        var exbgValue = passengerInfo.data('baggage-pcs')+passengerInfo.data('baggage-pcs-unit');
                        var exbgKey = 'index' + i + '_' + exbgValue + '_' + passengerInfo.data('paxtype');
                        ssrInfoArray.push(exbgKey);
                        ssrAmount[exbgKey] = passengerInfo.data('baggage_ssrtype').toLowerCase() + '|' + exbgValue + '|' + passengerInfo.data('baggage_amount');
                    } else {
                        // index1_20KG_ADULT
                        var exbgValue = passengerInfo.data('baggage_value')+passengerInfo.data('baggage-unit');
                        var exbgKey = 'index' + i + '_' + exbgValue + '_' + passengerInfo.data('paxtype');
                        ssrInfoArray.push(exbgKey);
                        ssrAmount[exbgKey] = passengerInfo.data('baggage_ssrtype').toLowerCase() + '|' + exbgValue + '|' + passengerInfo.data('baggage_amount');
                    }
                }

                // 좌석
                if(passengerInfo.data('seat_value')!='*' && parseFloat(passengerInfo.data('seat_amount')) > 0){
                    // index1_PRST_ADULT
                    var seatValue = $("article.seatAvailability_" + segmentId + " td button[data-seatnumber='" + passengerInfo.data('seat_value') + "']").data('seattype');
                    var seatKey = 'index' + i + '_' + seatValue + '_' + passengerInfo.data('paxtype');
                    ssrInfoArray.push(seatKey);
                    ssrAmount[seatKey] = passengerInfo.data('seat_ssrtype').toLowerCase() + '|' + seatValue + '|' + passengerInfo.data('seat_amount');
                }

                // 기내식
                if(passengerInfo.data('meal_value')!='*' && parseFloat(passengerInfo.data('meal_amount')) > 0){
                    // index1_ZZ11_ADULT
                    var mealValue = passengerInfo.data('meal_value');
                    var mealKey = 'index' + i + '_' + mealValue + '_' + passengerInfo.data('paxtype');
                    ssrInfoArray.push(mealKey);
                    ssrAmount[mealKey] = passengerInfo.data('meal_ssrtype').toLowerCase() + '|' + mealValue + '|' + passengerInfo.data('meal_amount');
                }

            }
        });
    }

    var countObj = ssrInfoArray.reduce(function (acc, curr) {
        if (typeof acc[curr] == 'undefined') {
          acc[curr] = 1;
        } else {
          acc[curr] += 1;
        }
        return acc;
    }, {});

    $.each(countObj, function(index, el) {
        // index : index1_PRST_ADULT
        // el : count
        // ssrInfoData : index1_PRST_ADULT^ssrCnt|ssrtype|PRST|price;
        ssrInfoData = index + '^' + el + '|' + ssrAmount[index] + ';';
        ssrInfoDataStr += ssrInfoData;
    });

    var gtmSsrProductData = $("#gtmSsrProductData").val();
    gtmSsrProductData += ssrInfoDataStr; // 번들 + 부가서비스 데이터
    $("#gtmSsrProductData").val(gtmSsrProductData);
    // twaygtm > push > 선택한 부가서비스 데이터 push
    gtmSelectedSsrDataPush();

    $('form[name="bookingForm"]').append('<input type="hidden" name="gtmActionFieldData" value="'+ $('input[name="gtmActionFieldData"]').val() +'"/>');
    $('form[name="bookingForm"]').append('<input type="hidden" name="gtmFlightSegmentProductData" value="'+ $('input[name="gtmFlightSegmentProductData"]').val() +'"/>');
    $('form[name="bookingForm"]').append('<input type="hidden" name="gtmSsrProductData" value="'+ $('input[name="gtmSsrProductData"]').val() +'"/>');

} catch (e) {
    console.log(e);
}

};

// 결제하기 버튼 클릭
var gtmBookingDataPush = function(){

try{

    var productType = null;

    if(productType == "TICK") {

        $("#gtmActionFieldStep").val("6");
        // 결제시한 연장 여부 체크
        if($("input:checkbox[name='extnAdd']").prop("checked")){
            // twaygtm > push > 결제 시한 연장 데이터 push
            $("#gtmActionFieldOption").val("결제정보 입력_Y");
            gtmExtnDataPush();
        } else {
            if(false){
                $("#gtmActionFieldStep").val("2");
                // twaygtm > push > 결제시한연장 결제 push
                $("#gtmActionFieldOption").val("결제정보입력완료");
                gtmSelectedSsrDataPush();
            } else {
                // twaygtm > push > 선택한 부가서비스 데이터 push
                $("#gtmActionFieldOption").val("결제정보 입력_N");
                gtmSelectedSsrDataPush();
            }
        }

    } else if(productType == "BUND") {
        $("#gtmActionFieldStep").val("3");
        $("#gtmActionFieldOption").val("결제정보 입력");
        // twaygtm > push > 선택한 부가서비스 데이터 push
        gtmAddedSsrDataPush();

    } else if(productType == "MEAL" || productType == "SEAT" || productType == "EXBG") {
        // 번들 이외 부가서비스 추가 구매
        $("#gtmActionFieldStep").val("2");
        $("#gtmActionFieldOption").val("결제정보 입력");
        // twaygtm > push > 선택한 부가서비스 데이터 push
        gtmAddedSsrDataPush();
    } else {
        return false;
    }

    $('form[name="paymentForm"]').append('<input type="hidden" name="gtmActionFieldData" value="'+ $('input[name="gtmActionFieldData"]').val() +'"/>');
    $('form[name="paymentForm"]').append('<input type="hidden" name="gtmFlightSegmentProductData" value="'+ $('input[name="gtmFlightSegmentProductData"]').val() +'"/>');
    $('form[name="paymentForm"]').append('<input type="hidden" name="gtmSsrProductData" value="'+ $('input[name="gtmSsrProductData"]').val() +'"/>');

} catch (e) {
    console.log(e);
}

};

/**
* gtm data를 redis에 저장
*/
var saveGtmData = function(encTransactionId) {
var gtmActionFieldData = $("#gtmActionFieldData").val();
var gtmSsrProductData = $("#gtmSsrProductData").val();
$.ajax({
    url : "/ajax/reservation/saveGtmData"			//ajax url
    , async : false	// 동기(false):비동기(true)
    , type : 'get'
    , data : {
        "encTransactionId" : encTransactionId
        ,"gtmActionFieldData" : gtmActionFieldData
           ,"gtmSsrProductData" : gtmSsrProductData
    }
    , success: function(data){

    }
    , error: function(xhr, status, error){

    }
});
};

</script>


<!--// twaygtm > dataForm > gtmDataFormBooking -->


<div class="PaxCountDetails debug" style="padding: 10px;">PaxType=ADULT&amp;PaxCount=2</div>
<div class="FlightSegmentInfo debug" style="padding: 10px;">SegmentId=1&amp;CarrierCode=TW&amp;FltNumber=501&amp;FlightDate=2022-12-26&amp;FlightDateWithDay=2022-12-26(월)&amp;FareClass=R&amp;SegmentIndex=1&amp;SegmentFareClass=1-R&amp;JourneyTime=0&amp;FlightSegmentGroupId=1&amp;JourneyTime=10:25&amp;ArrivalDayChange=1&amp;AircraftType=330&amp;AircraftVersion=300&amp;Stops=0&amp;DepartureTime=22:20&amp;ArrivalTime=10:45&amp;DepAirport=ICN&amp;DepartureTimeZone=GMT+09:00&amp;ScheduledDepartureDateTimeLTC=2022-12-26T22:20:00&amp;ScheduledDepartureDateTimeLTCStr=20221226222000&amp;ScheduledDepartureDateTimeUTC=2022-12-26T13:20:00&amp;ArrAirport=SYD&amp;ArrivalTimeZone=GMT+11:00&amp;ScheduledArrivalDateTimeLTC=2022-12-27T10:45:00&amp;ScheduledArrivalDateTimeUTC=2022-12-26T23:45:00&amp;IsPromoCodeApplied=false&amp;CabinClass=BUSINESS</div>
<div class="FlightSegmentInfo debug" style="padding: 10px;">SegmentId=2&amp;CarrierCode=TW&amp;FltNumber=502&amp;FlightDate=2023-01-15&amp;FlightDateWithDay=2023-01-15(일)&amp;FareClass=CC&amp;SegmentIndex=2&amp;SegmentFareClass=2-CC&amp;JourneyTime=0&amp;FlightSegmentGroupId=2&amp;JourneyTime=10:50&amp;ArrivalDayChange=0&amp;AircraftType=330&amp;AircraftVersion=300&amp;Stops=0&amp;DepartureTime=12:15&amp;ArrivalTime=21:05&amp;DepAirport=SYD&amp;DepartureTimeZone=GMT+11:00&amp;ScheduledDepartureDateTimeLTC=2023-01-15T12:15:00&amp;ScheduledDepartureDateTimeLTCStr=20230115121500&amp;ScheduledDepartureDateTimeUTC=2023-01-15T01:15:00&amp;ArrAirport=ICN&amp;ArrivalTimeZone=GMT+09:00&amp;ScheduledArrivalDateTimeLTC=2023-01-15T21:05:00&amp;ScheduledArrivalDateTimeUTC=2023-01-15T12:05:00&amp;IsPromoCodeApplied=false&amp;CabinClass=BUSINESS</div>
<div class="FareInfoForGuestType debug" style="padding: 10px;">SegmentId=1&amp;FlightSegmentGroupId=1&amp;FareType=BizFare&amp;FareLevel=EW&amp;FareBasisCode=RID&amp;FareClass=R&amp;SegmentIndex=1&amp;SegmentFareClass=1-R&amp;PaxType=ADULT&amp;FareTransactionId=501982&amp;CabinClass=BUSINESS&amp;isMembershipFare=false&amp;BaseFare=1620000.0&amp;Currency=KRW</div>
<div class="FareInfoForGuestType debug" style="padding: 10px;">SegmentId=2&amp;FlightSegmentGroupId=2&amp;FareType=BizFare&amp;FareLevel=EW&amp;FareBasisCode=CCID&amp;FareClass=CC&amp;SegmentIndex=2&amp;SegmentFareClass=2-CC&amp;PaxType=ADULT&amp;FareTransactionId=501612&amp;CabinClass=BUSINESS&amp;isMembershipFare=false&amp;BaseFare=1300000.0&amp;Currency=KRW</div>
<div class="bundleCode debug" style="padding: 10px;"></div>
<div class="bundleCode debug" style="padding: 10px;"></div>
<div class="bundleSegmentId debug" style="padding: 10px;">undefined</div>
<div class="bundleSegmentId debug" style="padding: 10px;">undefined</div>
<div class="guestDetailList debug" style="padding: 10px;">guestDetailList : GuestId=1&amp;LastName=KIM&amp;FirstName=SEONKYOUNG&amp;PaxType=ADULT&amp;DateOfBirth=1992-02-15&amp;Gender=M&amp;ApisNationCode=KOR&amp;SsrInfo=|&amp;PetcInfo=</div>
<div class="guestDetailList debug" style="padding: 10px;">guestDetailList : GuestId=2&amp;LastName=KIM&amp;FirstName=SEON&amp;PaxType=ADULT&amp;DateOfBirth=1996-11-12&amp;Gender=M&amp;ApisNationCode=KOR&amp;SsrInfo=|&amp;PetcInfo=</div>
<div class="PnrSessionId debug" style="padding: 10px;">netUqcYTzNT3NV7UcZfOQw==</div>
<div class="PnrNumber debug" style="padding: 10px;">EBWDyI6IqvBGDsA/ZJEXGA==</div>

</div>
        <!--// end content -->

        <!--// begin footerFragment -->
        
        
            
                

<footer id="footer">
    <!-- Footer Info -->
    <div class="f_info">
        <!-- Booking Info -->
        <div class="booking_center">
            <span class="booking_tit">티웨이항공 예약센터</span>
            <span class="booking_tel">1688 - 8686</span>
            <span class="booking_time">07:00 ~ 19:00</span>				
        </div>
        <!--// Booking Info -->
        <!-- Family Site Link -->
        <div class="quick_flink pl20">
            <a href="#none">Family site</a>
            <ul class="list_link">        <li>
        <a href="https://crewclass.twayair.com/" target="_blank" title="항공훈련센터 새창 열림">항공훈련센터</a>
    </li>        
    <li>
        <a href="http://edu.yearim.kr" target="_blank" title="예림당 새창 열림">예림당</a>
    </li>
    <li>
        <a href="http://edu.yearim.kr" target="_blank" title="예림교육 새창 열림">예림교육</a>
    </li>
    <li>
        <a href="http://www.smartbear.co.kr" target="_blank" title="스마트베어 새창 열림">스마트베어</a>
    </li>
    <li>
        <a href="http://www.whystein.co.kr" target="_blank" title="와이슈타인 새창 열림">와이슈타인</a>
    </li>
    <li>
        <a href="http://www.yearimdigital.co.kr" target="_blank" title="예림디지털 새창 열림">예림디지털</a>
    </li>
    <li>
        <a href="http://www.twayholdings.com" target="_blank" title="티웨이홀딩스 새창 열림">티웨이홀딩스</a>
    </li>
    <li>
        <a href="http://www.haeyeorim.co.kr" target="_blank" title="해여림빌리지 새창 열림">해여림빌리지</a>
    </li></ul>
        </div>
        <!--//  Family Site Link -->
        <!-- SNS Info -->
        <div class="f_link_sns">
        
            
            
            
                <a class="link_fb" target="_blank" title="새창열림" href="http://www.facebook.com/twayair">페이스북</a>
                <a class="link_ins" href="http://www.instagram.com/twayair" target="_blank" title="새창열림">인스타그램</a>
                <a class="link_ut" href="http://www.youtube.com/channel/UCEOdVOvRh7iT-ngjX5TVIIg" target="_blank" title="새창열림">유튜브</a>
            
            
        </div>
        <!-- SNS Info -->
    </div>
    <!--// Footer Info -->

    <!-- Copyright -->
    <div class="f_com_info" style="margin: 0 auto; padding: 23px 0;">
        <!-- Company Info -->
        <div class="f_com_addr" style="float: left; vertical-align: top;">
            <copyright>Copyright ⓒ 2019 t’way Air. All Rights Reserved.</copyright>
        </div>
    </div>
    <!--// Copyright -->
</footer>
<!-- Footer -->


<!-- dummy post form -->
<form id="postForm" method="post" name="postForm" action="/app/main">
<input type="hidden" name="_csrf" value="c06c1120-125b-4267-9829-a688b28a0f09"><input type="hidden" name="PnrNumber" value="EBWDyI6IqvBGDsA/ZJEXGA=="><input type="hidden" name="segmentIdList" value="500"><input type="hidden" name="segmentIdList" value="501"></form>

<!-- dummy get form -->
<form id="getForm" method="get" name="getForm">
</form>

<!-- dummy search form -->
<form id="keywordGnbForm" action="/app/totalSearch/main">
<input type="hidden" name="_csrf" value="c06c1120-125b-4267-9829-a688b28a0f09"></form>


<!-- 사용자 스크립트 영역이 들어감 -->


<script type="text/javascript">
    /* 타이틀 변경 */
    var title = document.title;
    $(document).attr("title", '\uC88C\uC11D' + ' | ' + title);

    /**
     * ancillaryAvailabilityRS
     */
    var ancillaryAvailabilityRS = {'errorType':null,'flightSegmentDetailsForAncillary':[{'addBaggageAvailStatusInfo':{'status':false,'statusDescCode':'INF_CSA_000032'},'addBundleAvailStatusInfo':{'status':false,'statusDescCode':'INF_CSA_000031'},'addBusinessServiceAvailInfo':{'addMealAvailStatusInfo':{'addedMealCount':-1,'freeMealCount':-1,'hasFreeMeal':false,'mealCount':-1,'status':false,'statusDescCode':'INF_CSA_000032'},'addSeatAvailStatusInfo':{'status':true,'statusDescCode':null},'status':true,'statusDescCode':null},'addInsuranceAvailStatusInfo':{'status':true,'statusDescCode':null},'addMealAvailStatusInfo':{'addedMealCount':-1,'freeMealCount':-1,'hasFreeMeal':false,'mealCount':-1,'status':false,'statusDescCode':'INF_CSA_000031'},'addSeatAvailStatusInfo':{'status':false,'statusDescCode':'INF_CSA_000031'},'airlineCode':'TW','arrAirport':'SYD','cabinClass':'BUSINESS','carrierCode':'TW','depAirport':'ICN','flightDate':'2022-12-26','fltNumber':'501','possibleBaggage':false,'possibleBundle':false,'possibleBusinessMeal':false,'possibleBusinessSeat':true,'possibleInsurance':true,'possibleMeal':false,'possibleSeat':false,'segmentId':'500'},{'addBaggageAvailStatusInfo':{'status':true,'statusDescCode':null},'addBundleAvailStatusInfo':{'status':false,'statusDescCode':'INF_CSA_000031'},'addBusinessServiceAvailInfo':{'addMealAvailStatusInfo':{'addedMealCount':-1,'freeMealCount':2,'hasFreeMeal':true,'mealCount':2,'status':true,'statusDescCode':null},'addSeatAvailStatusInfo':{'status':true,'statusDescCode':null},'status':true,'statusDescCode':null},'addInsuranceAvailStatusInfo':{'status':false,'statusDescCode':'INF_CSA_000031'},'addMealAvailStatusInfo':{'addedMealCount':-1,'freeMealCount':-1,'hasFreeMeal':false,'mealCount':-1,'status':false,'statusDescCode':'INF_CSA_000031'},'addSeatAvailStatusInfo':{'status':false,'statusDescCode':'INF_CSA_000031'},'airlineCode':'TW','arrAirport':'ICN','cabinClass':'BUSINESS','carrierCode':'TW','depAirport':'SYD','flightDate':'2023-01-15','fltNumber':'502','possibleBaggage':true,'possibleBundle':false,'possibleBusinessMeal':true,'possibleBusinessSeat':true,'possibleInsurance':false,'possibleMeal':false,'possibleSeat':false,'segmentId':'501'}]};

    $(document).ready(function(){
        /* 타이틀 변경 */
        var tabStr = '';
        $('#tab_ancillary').find('a').on('click', function(e) {
            tabStr = $(this).text();
            $(document).attr("title", tabStr + ' | ' + title);
        });

        //backControl - 191030 PJH
        backControl(function(){
            var alert_msg_cancel_booking = '\uC120\uD0DD\uD558\uC2E0 \uC815\uBCF4\uAC00 \uCD08\uAE30\uD654\uB418\uACE0, \uC5EC\uC815 \uAC80\uC0C9\uD654\uBA74\uC73C\uB85C \uC774\uB3D9\uD569\uB2C8\uB2E4. \uACC4\uC18D\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?';//'선택하신 정보가 초기화되고, 여정 검색화면으로 이동합니다. 계속하시겠습니까?';
            if(confirm(alert_msg_cancel_booking)){

                invalidMove = true;
                cancelBookingAsync();
                beginLoadingAnimation();

                setTimeout(function() {
                    $('#getForm').attr('action','/app/booking/searchItinerary').submit();
                }, 1000);
            } else {
                return false;
            }
            //$("#buttonSearchAvail").click();
        });
    });

    /**
    * 소수점 적용 통화 리스트
    */
    var decimalCurrencyList = 'USD;EUR;SGD;AUD';

    /**
     * 선택 가능한 SSR이 없는경우 규정화면으로 바로 이동합니다.
     */
    $(document).ready(function(){
        var isAvailSSR = false;
        $.each(ancillaryAvailabilityRS.flightSegmentDetailsForAncillary, function(ai,aa){
            if(aa.possibleBaggage || aa.possibleMeal || aa.possibleBusinessMeal || aa.possibleSeat || aa.possibleBusinessSeat || aa.possibleInsurance) {
                isAvailSSR = true;
            }
        });
        if(!isAvailSSR){
            $('#wrap').hide();
            beginLoadingAnimation();
            savePnr();
        }
    });

    /**
     * check bookingTicket
     */
    $(document).ready(function(){
        var _t = 'f899cdd7-3c52-47ca-b7e4-aa9f09caef50';
        $('input.bookingTicket').val(_t);

        checkBookingTicket(_t);
    });

    /**
     * 구간 표시 및 선택영역에 편명, 날짜 등 정보 표출
     */
    $(document).ready(function(){

        var routeCount = 2;
        var seg = ['SegmentId=1&CarrierCode=TW&FltNumber=501&FlightDate=2022-12-26&FlightDateWithDay=2022-12-26(\uC6D4)&FareClass=R&SegmentIndex=1&SegmentFareClass=1-R&JourneyTime=0&FlightSegmentGroupId=1&JourneyTime=10:25&ArrivalDayChange=1&AircraftType=330&AircraftVersion=300&Stops=0&DepartureTime=22:20&ArrivalTime=10:45&DepAirport=ICN&DepartureTimeZone=GMT+09:00&ScheduledDepartureDateTimeLTC=2022-12-26T22:20:00&ScheduledDepartureDateTimeLTCStr=20221226222000&ScheduledDepartureDateTimeUTC=2022-12-26T13:20:00&ArrAirport=SYD&ArrivalTimeZone=GMT+11:00&ScheduledArrivalDateTimeLTC=2022-12-27T10:45:00&ScheduledArrivalDateTimeUTC=2022-12-26T23:45:00&IsPromoCodeApplied=false&CabinClass=BUSINESS','SegmentId=2&CarrierCode=TW&FltNumber=502&FlightDate=2023-01-15&FlightDateWithDay=2023-01-15(\uC77C)&FareClass=CC&SegmentIndex=2&SegmentFareClass=2-CC&JourneyTime=0&FlightSegmentGroupId=2&JourneyTime=10:50&ArrivalDayChange=0&AircraftType=330&AircraftVersion=300&Stops=0&DepartureTime=12:15&ArrivalTime=21:05&DepAirport=SYD&DepartureTimeZone=GMT+11:00&ScheduledDepartureDateTimeLTC=2023-01-15T12:15:00&ScheduledDepartureDateTimeLTCStr=20230115121500&ScheduledDepartureDateTimeUTC=2023-01-15T01:15:00&ArrAirport=ICN&ArrivalTimeZone=GMT+09:00&ScheduledArrivalDateTimeLTC=2023-01-15T21:05:00&ScheduledArrivalDateTimeUTC=2023-01-15T12:05:00&IsPromoCodeApplied=false&CabinClass=BUSINESS'];

        for(var i=1 ; i<=routeCount ; i++){

            $.each(seg,function(index, el){
                var param = parseQuery(el);
                if(parseInt(param.FlightSegmentGroupId,10) == i){
                    // 슬라이더 영역
                    setRouteInfoText('route_' + i, param);
                    // 전체 표출 영역
                    setRouteInfoText('box_route_' + i, param);
                }
            });
        }

    });

    /**
     * 탑승객 슬라이더 초기화
     */
    var passengerSlider;
    $(document).ready(function(){
        //수하물 선택 슬라이더
        passengerSlider = new Swiper('.sel_passenger_wrap .swiper-container', {
            slidesPerView: 5,
            centeredSlides: true,
            slideToClickedSlide: true,
            navigation: {
                nextEl: '.sel_passenger_wrap .btn_slide_next',
                prevEl: '.sel_passenger_wrap .btn_slide_prev',
            },
        });

        //슬라이드 초기화 이벤트
        passengerSlider.on('init', function () {
        });

        //슬라이드 체인지 이벤트
        passengerSlider.on('slideChange', function () {
            $('.passenger_all_wrapper li').removeClass('active');
            $('.passenger_all_wrapper li:eq(' + passengerSlider.realIndex + ')').addClass('active');

            choosePassengerFromSlide(passengerSlider.realIndex);
        });

        passengerSlider.init();

        passengerSlider.on('click', function () {
            passengerSlider.slideTo(passengerSlider.clickedIndex,400,false);
        });

        $(".sel_passenger_wrap .sel_passenger_slide li.swiper-slide-active").attr("title", "탑승객 선택됨");


        //탑승자 선택
        $('.passenger_all_wrapper li a').click(function(e){
            e.preventDefault();
            var sIdx = $(this).attr('data-slide-idx');
            $('.passenger_all_wrapper li').removeClass('active');
            $(this).parent().addClass('active');
            passengerSlider.slideTo(sIdx,400,false);
            $('.passenger_all_wrapper .btn_open_all').click();
        });

        // 번들정보 등 초기화
        resetDisplayPassengerBundleInfo();
    });

    /**
     * 탑승객 슬라이더 넘버링
     */
    $(document).ready(function(){

        // 슬라이더
        $.each($('div.sel_passenger_slide li.swiper-slide'), function(index, el){
            $(el).data('swiper-slide-index',index);
            $(el).find('i.num').text(index+1);
        });

        // 전체보기
        $.each($('div.layer_passenger_list li'), function(index, el){
            $(el).data('swiper-slide-index',index);
            $(el).find('i.num').text(index+1);
        });

    });

    /**
     * 구간 슬라이더 초기
     */
    var currentRouteSliderIndex = 0;
    var routeSlider;
    $(document).ready(function(){

        //구간별 노선 슬라이더
        routeSlider = new Swiper('.service_section_wrap .swiper-container', {
            loop: true,
            init: false,
            slidesPerView: 'auto',
            // spaceBetween: 0,
            // centeredSlides: true,
            pagination: {
                el: '.service_section_wrap .swiper-pagination',
                clickable: true,
            },
            navigation: {
                nextEl: '.service_section_wrap .btn_slide_next',
                prevEl: '.service_section_wrap .btn_slide_prev',
            },
        });

        //슬라이드 초기화시 이벤트
        routeSlider.on('init', function () {

        });

        //슬라이드 체인지 이벤트
        routeSlider.on('slideChange', function () {
            currentRouteSliderIndex = routeSlider.realIndex;
            changeRoute(routeSlider.realIndex);
        });
        routeSlider.init();

        // 선택
        $('.route_all_wrapper.type2 .btn_set_route').click(function(e){
            e.preventDefault();
            var sIdx = $(this).attr('data-slide-idx');
            if($(this).parent().hasClass('disabled')){
                //구간이 disabled 인 경우 처리
                console.log('구간이 disabled 상태임');
            }else{
                $('.route_all_wrapper.type2 .route_all_inner .routebox').removeClass('current');
                $(this).parent().addClass('current');
                routeSlider.slideTo(sIdx,400,false);
                $(this).parent().parent().parent().find('.view_layer.btn_open_all').click();
            }
        });


        // 여정 재검색
        $('button.refresh').on('click', function() {
            $('.summary_wrap').css({'z-index': 15});
            $('.dim02').fadeIn(150);
            $('.layer_plan_research').fadeIn(250);
            $('.layer_plan_research').attr('tabindex','0').focus();
        });
        $('button.cancel').on('click', function() {
            $('.summary_wrap').css({'z-index': ''});
            $('.dim02').fadeOut(150);
            $('.layer_plan_research').fadeOut(250);
            $('.layer_plan_research').removeAttr('tabindex');
            $('button.refresh').focus();
        });

        //구간 더보기 포커스 추가
        $('.btn_section_more').on('click', function(e) {
            $('.layer_section_list').slideDown(200);
        });
        $('.layer_section_list .btn_close').on('click', function(e) {
            $('.layer_section_list').slideUp(200);
            $('.btn_section_more').focus();
        });

    });

    var setRouteInfoText = function(routeId, segmentInfo){

        // 편명
        var fltNumber = $('#'+routeId+' .route_plain_info .fltNumber');
        fltNumber.html( ($.trim(fltNumber.html()) != '' ? fltNumber.html() + ' | ' : '') + segmentInfo.CarrierCode + segmentInfo.FltNumber );

        // 출발일
        var departureDate = $('#'+routeId+' .route_plain_info .departureDate');
        // departureDate.html( ($.trim(departureDate.html()) != '' ? departureDate.html() + ' | ' : '') + segmentInfo.ScheduledDepartureDateTimeLTC.substr(5,5) );
        departureDate.html( ($.trim(departureDate.html()) != '' ? departureDate.html() + ' | ' : '') + segmentInfo.FlightDateWithDay );

    };

    var parseQuery = function(queryString) {
        var query = {};
        var pairs = queryString.split('&');
        for (var i = 0; i < pairs.length; i++) {
            var pair = pairs[i].split('=');
            query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');
        }
        return query;
    };

    /**
     * 현재 구간 및 부가서비스 상태 등에 따른 버튼 노출 제어
     */
    var buttonControl = function(){

        var routeCount = 2;

        $('.buttonControl').hide();

        // 다음 구간
        if(currentRouteSliderIndex<routeCount-1){
            $('#buttonSkip').show();
            $('#buttonNextRoute').show();
            $('html').scrollTop(0);
        }

        // 다음 단계
        if(currentRouteSliderIndex==routeCount-1) {
            $('#buttonNextRoute').hide();
            $('#buttonSkip').show();
            $('#buttonNextStep').show();
        }

    };

    /**
     * next step button event bind
     */
     var nextStepButtonEventBind = function() {
        if($('div #tab_seat').css('display') == 'block'){
               $('#buttonNextStep').unbind('click').bind('click', function(){ clickSsrTab('baggage'); });
        } else if($('div #tab_baggage').css('display') == 'block'){
            if(domIntDiv == 'D') { // 국내선인 경우
                if($('div #tab_insurance').length) { // 여행보험 탭이 존재하는 경우
                       $('#buttonNextStep').unbind('click').bind('click', function(){ clickSsrTab('insurance'); });
                } else {
                    $('#buttonNextStep').unbind('click').bind('click', function(){ savePnr(); });
                }
            } else { // 국제선인 경우 기내식탭으로
                $('#buttonNextStep').unbind('click').bind('click', function(){ clickSsrTab('meal'); });
            }
        } else if($('div #tab_meal').css('display') == 'block'){
            if($('div #tab_insurance').length) {
                   $('#buttonNextStep').unbind('click').bind('click', function(){ clickSsrTab('insurance'); });
            } else {
                $('#buttonNextStep').unbind('click').bind('click', function(){ savePnr(); });
            }
        } else if($('div #tab_insurance').css('display') == 'block'){
               $('#buttonNextStep').unbind('click').bind('click', function(){ savePnr(); });
        }
    }

    /**
     * 버튼 링크 제어
     */
    $(document).ready(function(){

        // 다음 구간
        $('#buttonNextRoute').bind('click', function(){
            routeSlider.slideNext();
            if($('.summary_wrap').hasClass('open')) {
                $(this).attr('title', '항공운임 등 총액 닫기');
                $('html,body').css({'overflow-y':'unset'});
                $('.summary_wrap').removeClass('open');
            }
            $('html').scrollTop(0);
        });
        // 바로 결제
        $('#buttonSkip').bind('click', function(){ savePnr(); });

        // 처음부터 다시 예약
        /* $('#buttonSearchAvail').bind('click', function(){
            var alert_msg_cancel_booking = '\uC120\uD0DD\uD558\uC2E0 \uC815\uBCF4\uAC00 \uCD08\uAE30\uD654\uB418\uACE0, \uC5EC\uC815 \uAC80\uC0C9\uD654\uBA74\uC73C\uB85C \uC774\uB3D9\uD569\uB2C8\uB2E4. \uACC4\uC18D\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?';//'선택하신 정보가 초기화되고, 여정 검색화면으로 이동합니다. 계속하시겠습니까?';
            if(confirm(alert_msg_cancel_booking)){

                invalidMove = true;
                cancelBookingAsync();
                beginLoadingAnimation();

                setTimeout(function() {
                    $('#getForm').attr('action','/app/booking/searchItinerary').submit();
                }, 1000);
            } else {
                return false;
            }
        }); */
    });


    /**
     * 탑승객 슬라이더 및 탑승객 전체보기 레이어 영역에서 선택한 부가서비스를 삭제합니다.
     */
    var cancelSelectedSsr = function(paxLi){

        var passengerIndex = $(paxLi).parents('li').data('swiper-slide-index');

        var segmentId = $('.segmentInfo').eq(currentRouteIndex).data('segmentid');

        var passengerInfo;
        $.each($('div.guestDetails.route_'+(currentRouteSliderIndex+1)), function(gi, gu){
            if($(paxLi).parents('li').data('passengernumber') == $(gu).data('guestid')){
                passengerInfo = $(gu);
                return false;
            }
        });

        // 추가수하물
        if($('div #tab_baggage').css('display') == 'block'){
            console.log('추가수화물 삭제');
            passengerInfo.data('baggage_value', '*');
            passengerInfo.data('baggage_amount', 0);
        }
        // 좌석
        if($('div #tab_seat').css('display') == 'block'){
            console.log('좌석 삭제');
            console.log(passengerInfo.data('seat_value'));

            // 선택된 좌석 해제
            $.each($('.seatAvailability_'+segmentId+' tr td button'), function(ia,a){

                if($(a).data('seatnumber') == passengerInfo.data('seat_value')){
                    $(a).text('');
                    $(a).removeClass('-selected');
                    return false;
                }
            });

            passengerInfo.data('seat_value', '*');
            passengerInfo.data('seat_amount', 0);
        }
        // 기내식
        if($('div #tab_meal').css('display') == 'block'){
            console.log('기내식 삭제');
            passengerInfo.data('meal_value', '*');
            passengerInfo.data('meal_amount', 0);
        }

        choosePassengerFromSlide(passengerIndex);

    };


    $(document).ready(function(){
        JPayment.init();
    });

    var JPayment = {
        remainingTime : 896,		// TL remainingTime(Sec)
        informTLTime : 300,							// TL Extension InformTime(Sec)
        isInformTL : false,							// TL inform flag
        isRunning : false,							// ajax run flag
        init : function(){
            JPayment.informTimeLimit();				//extend TimeLimit
            JPayment.layerControl();				//layer Control

            //init
            JPayment.countdownTimer();
        },
        countdownTimer : function(){
            // countdown Timer
            if(JPayment.remainingTime > 0){
                var remainMinute = parseInt(JPayment.remainingTime/60);
                var remainSecond = JPayment.remainingTime % 60;

                $("#timer").empty();
                $("#temptimer").empty();
                $("#timer").append(Lpad(remainMinute,2) + ":" + Lpad(remainSecond,2));
                $("#temptimer").append(Lpad(remainMinute,2) + ":" + Lpad(remainSecond,2));

                if(JPayment.remainingTime == JPayment.informTLTime && JPayment.isInformTL){
                    //show layer
                    $("#sessionLayerTitle").append('\uC138\uC158 \uB9CC\uB8CC \uC5F0\uC7A5 \uC548\uB0B4');
                    $("#sessionLayerMsg").append("<strong class='red' id='timer'>" + Lpad(remainMinute,2) + ":" + Lpad(remainSecond,2) + "</strong><br/>" + '\uD574\uB2F9 \uC2DC\uAC04 \uC774\uB0B4\uB85C \uC138\uC158\uC774 \uC885\uB8CC\uB429\uB2C8\uB2E4.<br/>  \uC120\uD0DD\uD558\uC9C0 \uC54A\uC73C\uC2DC\uBA74 \uACB0\uC81C\uAC00 \uC885\uB8CC\uB418\uBA70, \uCC98\uC74C \uD56D\uACF5\uAD8C \uC608\uB9E4 \uD654\uBA74\uC73C\uB85C \uC774\uB3D9 \uB429\uB2C8\uB2E4.<br/><br/>  \uD655\uC778 \uBC84\uD2BC \uD074\uB9AD \uC2DC \uC120\uD0DD\uD55C \uC2DC\uC810\uC73C\uB85C \uC138\uC158\uB9CC\uB8CC\uC2DC\uAC04\uC774 15\uBD84 \uCD94\uAC00 \uC5F0\uC7A5\uB429\uB2C8\uB2E4.');
                    $("#sessionLayer").click();
                }
                JPayment.remainingTime = JPayment.remainingTime - 1;
                setTimeout("JPayment.countdownTimer()",1000); //recusive call

            }else{
                //show layer
                $("#sessionLayerTitle").empty();
                $("#sessionLayerMsg").empty();
                $("#sessionLayerTitle").append('\uACB0\uC81C \uC81C\uD55C \uC2DC\uAC04 \uB9CC\uB8CC \uC548\uB0B4');
                $("#sessionLayerMsg").append('\uC120\uD0DD\uD558\uC2E0 \uD56D\uACF5\uAD8C\uC758 \uACB0\uC81C\uAC00\uB2A5\uC2DC\uAC04\uC744 \uCD08\uACFC\uD558\uC5EC \uACB0\uC81C\uAC00 \uBD88\uAC00\uD569\uB2C8\uB2E4.<br/>\uC544\uB798 \uD655\uC778\uBC84\uD2BC \uD074\uB9AD \uC2DC \uD56D\uACF5\uAD8C \uC608\uC57D \uCD08\uAE30 \uD654\uBA74\uC73C\uB85C \uC774\uB3D9\uD569\uB2C8\uB2E4.');
                $("#sessionLayer").click();
            }
        },
        informTimeLimit : function (){
            // inform TimeLimit
            $("a[name='informTimeLimit']").click(function(){
                if(!JPayment.isInformTL){
                    //CancelBooking후 여정선택 화면으로 이동
                    cancelBookingAsync();
                    beginLoadingAnimation();
                    setTimeout(function() {
                        $('#getForm').attr('action','/app/booking/searchItinerary').submit();
                    }, 1000);
                    return;
                }
                if(!JPayment.isRunning){
                    JPayment.isInformTL = false;
                    JPayment.isRunning   = false;
                }
            });
        },
        showLayerPopup : function(title,text){
            $('.dialog').hide();
            $('.timepop').css({'display':'block'})
            $('body').addClass('no_scroll');
            $("#layerPopupTitle").empty();
            $("#layerPopupText").empty();
            $("#layerPopupTitle").append(title);
            $("#layerPopupText").append(text);
        },
        layerControl : function(){

            //layer close
            $(document).on("click",".closeLayerBtn",function(){
                if($(this).data('redirecturl') != undefined && $(this).data('redirecturl') != ''){
                    JPayment.redirectUrl($(this).data("redirecturl"));
                }
                //$(".btn_layer_close").click();
                var layerId = $(this).closest("div.layer").attr('id');
                controlLayer('#'+layerId, '0');
            });
        },
        redirectUrl : function(url){  
            beginLoadingAnimation();
            location.replace( "/app/payment/redirect?redirectUrl=" + encodeURIComponent(url));
        }
    }

</script>



<script type="text/javascript">

    var currency = 'KRW';

    /** 시작 - 페이지를 벗어나거나 뒤로가기 요청시 CancelBooking 요청 처리 **************************/

    /**
     * 뒤로가기 또는 다른페이지로 이동 요청 시 CancelBooking 처리
     * form submit 등 UI 에 정의된 정상적인 화면 이동시 invalidMove = true; 처리 해주어야 합니다.
     */
    var invalidMove = false;
    $(window).bind("beforeunload", function(event){
        if(!invalidMove){
            // cancelBookingAsync();
        }
    });

    /**
     * 이전화면(여점검색)으로 이동 - sample
     */
    /*
    $('.btn_back').on('click', function(){
        var alert_msg_cancel_booking = '\uC120\uD0DD\uD558\uC2E0 \uC815\uBCF4\uAC00 \uCD08\uAE30\uD654\uB418\uACE0, \uC5EC\uC815 \uAC80\uC0C9\uD654\uBA74\uC73C\uB85C \uC774\uB3D9\uD569\uB2C8\uB2E4. \uACC4\uC18D\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?';//'선택하신 정보가 초기화되고, 여정 검색화면으로 이동합니다. 계속하시겠습니까?';
        if(confirm(alert_msg_cancel_booking)){

            invalidMove = true;
            cancelBookingAsync();
            beginLoadingAnimation();

            setTimeout(function() {
                $('#getForm').attr('action','/app/booking/searchItinerary').submit();
            }, 1000);
        }
    });
    */

    /**
     * CancelBooking 비동기 요청
     */
    var cancelBookingAsync = function(){
        $.ajax({
            url : "/ajax/booking/cancelBooking" // ajax url
            , dataType : 'json' // ajax 통신의 데이터 형식
            , async: true // 동기(false):비동기(true)
            , type : 'post'
            , data : $('#bookingForm').serialize() // Required Parameter : encrypted 'PnrNumber'
            , success : function(data){
                console.log(data);
            }
            , error : function(xhr, status, error){
                var error_confirm=confirm('\uB370\uC774\uD130 \uC804\uC1A1 \uC624\uB958\uC785\uB2C8\uB2E4. \uD655\uC778\uC744 \uB204\uB974\uC2DC\uBA74 \uD398\uC774\uC9C0\uAC00 \uC0C8\uB85C\uACE0\uCE68\uB429\uB2C8\uB2E4.');
                if(error_confirm==true){
                    document.location.reload();
                };
            }
        });
    };


    /** 시작 - 페이지를 벗어나거나 뒤로가기 요청시 CancelBooking 요청 처리 **************************/




    /**
     * createBookingRS errorType
     */
    var errorType = '';
    $(document).ready(function(){
        if(errorType != ''){
            alert(errorType.errorCode);
        }
    });

    /**
     * domIntDiv
     */
    var domIntDiv = 'I';

    /**
     * prnStatus 확인, TODO 처리 방안 확정 필요 !!!
     */
    $(document).ready(function(){

        var prnStatus = 'ACTIVE';
        var alert_msg_pnrNumber_invalid = 'non active PNR. 메시지 및 이후 처리에 대한 정의 필요합니다.';

        if(prnStatus != 'ACTIVE'){
            alert(alert_msg_pnrNumber_invalid);
        }
    });

    /**
     * 이전화면(여점검색)으로 이동
     */
    $('.btn_back').on('click', function(){
        var alert_msg_cancel_booking = '\uC120\uD0DD\uD558\uC2E0 \uC815\uBCF4\uAC00 \uCD08\uAE30\uD654\uB418\uACE0, \uC5EC\uC815 \uAC80\uC0C9\uD654\uBA74\uC73C\uB85C \uC774\uB3D9\uD569\uB2C8\uB2E4. \uACC4\uC18D\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?';//'선택하신 정보가 초기화되고, 여정 검색화면으로 이동합니다. 계속하시겠습니까?';
        if(confirm(alert_msg_cancel_booking)){

            invalidMove = true;
            cancelBookingAsync();
            beginLoadingAnimation();

            setTimeout(function() {
                $('#getForm').attr('action','/app/booking/searchItinerary').submit();
            }, 1000);
        } else {
            return false;
        }
    });

    /**
     * 호출된 레이어에서 사용자 요청에 의해 프로세스 중단(창닫기)시 부모페이어를 재호출
     */
    var callBackOpener = function(hideLayerName){
        $('#wrap').slideDown( "slow", function() {
            $('#'+hideLayerName).remove();
        });
    };



    /**
     * 구간선택 이벤트 처리
     */
    var currentRouteIndex = 0;
    var changeRoute = function(routeIndex){

        currentRouteIndex = routeIndex;

        $('.baggageAvailability').hide();
        $('.mealAvailability').hide();
        $('.seatAvailability').hide();

        $('.baggageAvailability_'+$('.segmentInfo').eq(routeIndex).data('segmentid')).show();
        $('.mealAvailability_'+$('.segmentInfo').eq(routeIndex).data('segmentid')).show();
        $('.seatAvailability_'+$('.segmentInfo').eq(routeIndex).data('segmentid')).show();
        $('.seatLegend_'+$('.segmentInfo').eq(routeIndex).data('segmentid')).show();

        passengerSlider.slideTo(0,400,false);

        // 번들정보 등 초기화
        resetDisplayPassengerBundleInfo();

        choosePassengerFromSlide(0);

        // summary control
        var routeCount = Number(routeIndex)+1;
        changeSummaryRoute(routeCount);


    };

    /**
     * 구간 선택 및 변경에 따른 summary 영억 노출 제어
     */
    var changeSummaryRoute = function(routeCount){
        // summary 영억 내 section_box
        $('div.summary_top').find('.section_box').hide();
        $('div.summary_top').find('#summary_top_route_'+routeCount).show();
        // summary 영억 내 구간 탭 활성화
        $('div #summary_default').find('ul.tab.n4').find('li').removeClass("on");
        $.each($('div #summary_default').find('ul.tab.n4').find('a'), function(index,el){
            if($(el).attr('href') == '#tab'+routeCount){
                $(el).click();
                return false;
            }
        });
    };


    /**
     * 부가서비스 탭 영억 클릭
     */
    var clickSsrTab = function(ssrInfo){
        if($('.summary_wrap').hasClass('open')) {
            $(this).attr('title', '항공운임 등 총액 닫기');
            $('html,body').css({'overflow-y':'unset'});
            $('.summary_wrap').removeClass('open');
        }
        // 부가서비스 탭 활성화
        $('#tab_ancillary').find('li').removeClass("on");
        $.each($('#tab_ancillary').find('a'), function(index,el){
            if($(el).attr('href') == '#tab_'+ssrInfo){
                $(el).click();
                return false;
            }
        });
    };

    /**
     * 부가서비스 탭 영억 클릭하고 특정 구간으로 이동
     */
    var clickSsrTabWithIndex = function(ssrInfo,routeSliderIndex,passengerSliderIndex){
        if(ssrInfo == 'seat'){
            seatAvailability(routeSliderIndex,passengerSliderIndex);
        } else if(ssrInfo == 'meal'){
            mealAvailability(routeSliderIndex,passengerSliderIndex);
        }
    };

    /**
     * 탑승객 선택 이벤트 처리 - from slide
     */
    var currentPassengerIndex = 0;
    var choosePassengerFromSlide = function(paxIndex){
        currentPassengerIndex = paxIndex;

        displayPassengerBundleInfo(paxIndex);

        var segmentId = $('.segmentInfo').eq(currentRouteIndex).data('segmentid');

        var passengerInfo = getPassengerInfo();

        var isBusinessUser = typeof passengerInfo.data('businessserviceinfo') != "undefined" && passengerInfo.data('businessserviceinfo') != "";
        var isBundleUser = typeof passengerInfo.data('bundleinfo') != "undefined" && passengerInfo.data('bundleinfo') != 'BUND0';
        var isPetcUser = passengerInfo.data('petcinfo');
        var isMembershipUser = typeof passengerInfo.data('membershipinfo') != "undefined" && passengerInfo.data('membershipinfo') != "";

        // 수하물 선택 화면인 경우
        if($('div #tab_baggage').css('display') == 'block'){
            // 중량 기준 - 슬라이드 설정
            if(passengerInfo.data('baggage-unit')=='KG'){

                if(passengerInfo.data('baggage_value')=='*'){
                    $('div.baggageAvailability_' + segmentId).find('.range_event').val($('div.baggageAvailability_' + segmentId).find('.range_event').attr('min'));
                }
                else{
                    $('div.baggageAvailability_' + segmentId).find('.range_event').val(passengerInfo.data('baggage_value'));
                }
                $('div.baggageAvailability_' + segmentId).find('.range_event').trigger('change');
            }
            // 수량 기준
            else{
                $.each($('input[name="pieceBaggageAdd"]'), function(idx, ip){
                    var segmentId = $('.segmentInfo').eq(currentRouteIndex).data('segmentid');
                    var index = $(this).data('index');
                    var liId =  "#liBaggage_" + segmentId + "_" + index;

                    if($(this).val()==passengerInfo.data('baggage_value')){
                        $(this).prop('checked', true);
                        $(liId).addClass('on');
                    }else{
                        $(this).prop('checked', false);
                        $(liId).removeClass('on');
                    }
                });
            }

            if($('.baggageAvailability_'+segmentId).length>0) {

                // 번들선택 고객
                if (isBundleUser || isBusinessUser || (isMembershipUser && domIntDiv == 'D')) {
                    $('.baggageAvailability_' + segmentId + ' .bundleUser').show();
                    $('.baggageAvailability_' + segmentId + ' .nonBundleUser').hide();

                    $('.baggageAvailability_' + segmentId + ' .bundleUser span.ico_bag').text(passengerInfo.data('baggage-default') + passengerInfo.data('baggage-unit'));

                    if(passengerInfo.data('exbgsaleunit') == 'PC') {
                        $('.baggageAvailability_' + segmentId + ' .non_bundle_box').addClass('n1');
                        $('.baggageAvailability_' + segmentId + ' .bundleUser span.weight').text(passengerInfo.data('baggage-default') + 'KG');
                        $('.baggageAvailability_' + segmentId + ' .bundleUser span.psc').text(passengerInfo.data('baggage-pcs') + passengerInfo.data('baggage-pcs-unit'));
                    }
                } else {
                    $('.baggageAvailability_' + segmentId + ' .bundleUser').hide();
                    $('.baggageAvailability_' + segmentId + ' .nonBundleUser').show();

                    if(passengerInfo.data('exbgsaleunit') == 'PC') {
                        $('.baggageAvailability_' + segmentId + ' .non_bundle_box').removeClass('n1');
                    }
                }
            }
            else{
                $('.baggageAvailability_NA').show();
            }

        }

        // 좌석 선택 화면인 경우
        else if($('div #tab_seat').css('display') == 'block'){
            if($('.seatAvailability_'+segmentId).length>0) {
                var seatSsrCodeList = ['BZST','PRST','SPST','FNST','NMST'];
                var seatmapClassMap = {'NMST':'-standard','BZST':'-business','PRST':'-premium','SPST':'-semipremium','FNST':'-front'};
                /**
                 * 번들코드 정보에 따른 선택가능 좌석 정보
                 */
                var seatSsrSubCodeListMap = {};

                //반려동물(PETC) class 삭제
                $('.seatAvailability_'+segmentId+' tr td button').removeClass('-petc_disabled');
                //번들 class 삭제
                $('.seatAvailability_'+segmentId+' tr td button').removeClass('-bundle_disabled');
                //멤버십 class 삭제
                $('.seatAvailability_'+segmentId+' tr td button').removeClass('-membership');

                // 범례 멤버십 금액 초기화
                $("span[id^='seatZonePrice_']").each(function(i, el){
                    var basePrice = $(el).data('baseprice');
                    $(el).text(basePrice);
                    $(el).prev('small').show();
                });

                // 멤버십 탑승객 존재할 경우 적용된 멤버십의 Free Seat SubSsr List
                var mbsSeatSsrSubCodeListMap = {} != null ? {} : [];
                // 좌석 혜택 이용 가능 여부
                var isUseableSeatBnf = mbsSeatSsrSubCodeListMap[passengerInfo.data('membershipinfo')+'_'+segmentId] != null && typeof mbsSeatSsrSubCodeListMap[passengerInfo.data('membershipinfo')+'_'+segmentId] != 'undefined';
                // 범례 내 좌석 금액 설정 - Free Seat일 경우 0원 처리
                if(isMembershipUser && isUseableSeatBnf) {
                    $.each(mbsSeatSsrSubCodeListMap[passengerInfo.data('membershipinfo')+'_'+segmentId],function(i,ssr){
                        //var membershipPrice = $('#seatZonePrice_'+segmentId+'_'+ssr).data('membershipprice');
                        var membershipPrice = '';
                        $('#seatZonePrice_'+segmentId+'_'+ssr).text(membershipPrice);
                        $('#seatZonePrice_'+segmentId+'_'+ssr).prev('small').hide();
                    });
                }

                // 비지니스 고객 or 번들선택 고객
                if (isBundleUser || isBusinessUser) {
                    $('article.bundle.bundleLegend_'+segmentId).show();
                    $('article.seat_info.nonbundle').hide();

                    // 좌석종류 class 제거
                    $.each($('.seatAvailability_'+segmentId+' tr td button'), function(ia, a){
                        var seatNumber = $(a).data('seatnumber');
                        if($(a).hasClass("-disabled")){
                            $(a).prop('disabled', true);
                            $(a).attr("title", seatNumber + " 좌석, 선택 불가");
                            $(a).css('cursor','default');
                        }else{
                            if(!$(a).hasClass('-selected')) {
                                $(a).attr("title", seatNumber + " 좌석, 선택 가능");
                            } else {
                                $(a).attr("title", seatNumber + " 좌석, 선택됨");
                            }
                            $(a).prop('disabled', false);
                            $(a).css('cursor','pointer');
                        }

                        if(isBusinessUser) {
                            $('article.bundle.bundleLegend_'+segmentId).find('.change_class').addClass(seatmapClassMap["BZST"]);
                        } else if(isBundleUser) {
                            /**
                             * 번들코드 정보에 따른 선택가능 좌석 정보
                             */
                            var disableFlag = true;
                            $.each(seatSsrSubCodeListMap[passengerInfo.data('bundleinfo')],function(i,ssr){
                                if($(a).data('seattype') == ssr){
                                    disableFlag = false;
                                }
                            });
                            if(disableFlag){
                                $(a).prop('disabled', true);
                                $(a).addClass('-bundle_disabled');
                                $(a).attr("title", seatNumber + " 좌석, 선택 불가");
                                $(a).css('cursor','default');
                            }

                            for(var i = 0; i < seatSsrCodeList.length; i++) {
                                var seatSsrCode = seatSsrCodeList[i].toUpperCase();
                                var className = seatmapClassMap[seatSsrCode];
                                if($(a).data('seattype') == seatSsrCode){
                                    if($(a).data('cabinzone') == 'C') {
                                        $(a).removeClass(className).addClass(seatmapClassMap["BZST"]);
                                    } else {
                                        $(a).removeClass(className).addClass(seatmapClassMap["NMST"]);
                                    }
                                    $('article.bundle.bundleLegend_'+segmentId).find('.change_class').addClass(seatmapClassMap["NMST"]);
                                }
                            }
                        }

                        /* 반려동물(PETC) 선택 고객
                        ** facilityAttribute : J 가 아니면 모두 petc_disable class
                        */
                        if (isPetcUser) {
                            var facilityAttribute = $(a).data('facilityattribute');
                            if(facilityAttribute == "" || facilityAttribute == "undefined" || facilityAttribute == undefined || facilityAttribute.indexOf('*J*') <= -1){
                                $(a).prop('disabled', true);
                                $(a).addClass('-petc_disabled');
                                $(a).attr("title", seatNumber + " 좌석, 선택 불가");
                                $(a).css('cursor','default');
                            }
                        }

                        // 멤버십 탑승객일 경우 좌석 별 클래스 부여
                        if(isMembershipUser) {
                            var mbsSeatSsrSubCodeListMap = {} != null ? {} : [];
                            // 좌석 혜택 이용 가능 여부
                            var isUseableSeatBnf = mbsSeatSsrSubCodeListMap[passengerInfo.data('membershipinfo')+'_'+segmentId] != null && typeof mbsSeatSsrSubCodeListMap[passengerInfo.data('membershipinfo')+'_'+segmentId] != 'undefined';
                            if(isUseableSeatBnf) {
                                var priceChgFlag = false;
                                $.each(mbsSeatSsrSubCodeListMap[passengerInfo.data('membershipinfo')+'_'+segmentId],function(i,ssr){
                                    if($(a).data('seattype') == ssr){
                                        priceChgFlag = true;
                                    }
                                });
                                if(priceChgFlag){
                                    $(a).addClass('-membership');
                                }
                            }
                        }
                    });

                } else {
                    $('article.seat_info.bundle').hide();
                    $('article.nonbundle.seatLegend_'+segmentId).show();

                    // 좌석종류 class 추가
                    $.each($('.seatAvailability_'+segmentId+' tr td button'), function(index,li){
                        var seatNumber = $(li).data('seatnumber');
                        var seatType = $(li).data('seattype');
                        var seatTypeStr = '프리미엄 존';
                        if(seatType == 'SPST') {
                            seatTypeStr = '세미프리미엄 존';
                        } else if (seatType == 'FNST') {
                            seatTypeStr = '프론트 존';
                        } else if (seatType == 'NMST') {
                            seatTypeStr = '스탠다드 존';
                        } else if(seatType == 'BZST') {
                            seatTypeStr = '비지니스 존';
                        }
                        if($(li).hasClass("-disabled")){
                            $(li).prop('disabled', true);
                            $(li).attr("title", seatTypeStr + " " + seatNumber + " 좌석, 선택 불가");
                            $(li).css('cursor','default');
                        }else{
                            if(!$(li).hasClass('-selected')) {
                                $(li).attr("title", seatTypeStr + " " + seatNumber + " 좌석, 선택 가능");
                            } else {
                                $(li).attr("title", seatTypeStr + " " + seatNumber + " 좌석, 선택됨");
                            }
                            $(li).prop('disabled', false);
                            $(li).css('cursor','pointer');
                        }

                        for(var i = 0; i < seatSsrCodeList.length; i++) {
                            var seatSsrCode = seatSsrCodeList[i].toUpperCase();
                            var className = seatmapClassMap[seatSsrCode];
                            if($(li).data('seattype') == seatSsrCode){
                                $(li).removeClass(seatmapClassMap["NMST"]).addClass(className);
                            }
                        }

                        /* 반려동물(PETC) 선택 고객
                         * facilityAttribute : J 가 아니면 모두 petc_disable class
                        */
                        if (isPetcUser) {
                            var facilityAttribute = $(li).data('facilityattribute');
                            if(facilityAttribute == "" || facilityAttribute == "undefined" || facilityAttribute == undefined || facilityAttribute.indexOf('J') <= -1){
                                $(li).prop('disabled', true);
                                $(li).addClass('-petc_disabled');
                                $(li).attr("title", seatNumber + " 좌석, 선택 불가");
                                $(li).css('cursor','default');
                            }
                        }

                        // 멤버십 탑승객일 경우 좌석 별 클래스 부여
                        if(isMembershipUser) {
                            var mbsSeatSsrSubCodeListMap = {} != null ? {} : [];
                            // 좌석 혜택 이용 가능 여부
                            var isUseableSeatBnf = mbsSeatSsrSubCodeListMap[passengerInfo.data('membershipinfo')+'_'+segmentId] != null && typeof mbsSeatSsrSubCodeListMap[passengerInfo.data('membershipinfo')+'_'+segmentId] != 'undefined';
                            if(isUseableSeatBnf) {
                                var priceChgFlag = false;
                                $.each(mbsSeatSsrSubCodeListMap[passengerInfo.data('membershipinfo')+'_'+segmentId],function(i,ssr){
                                    if($(li).data('seattype') == ssr){
                                        priceChgFlag = true;
                                    }
                                });
                                if(priceChgFlag){
                                    $(li).addClass('-membership');
                                }
                            }
                        }
                    });
                }

            }
            else{
                $('.seatAvailability_NA').show();
            }
        }

        // 기내식 선택 화면인 경우
        else if($('div #tab_meal').css('display') == 'block'){
            if(passengerInfo.data("free_all_meal_yn") == "Y") {
                $('div.mealAvailability_FR').find("p.note").text().replace('{0}',passengerInfo.data('mealcount'));
                $('div.mealAvailability_FR').show();
            } else if($('.mealAvailability_'+segmentId).length>0 && $('.mealAvailability_'+segmentId).find('div.sel_food_wrap').length>0 && passengerInfo.data("free_all_meal_yn") == "N") {
                $('.mealAvailability_NI').hide();
                $('.mealAvailability_'+ segmentId).show();

                // 번들선택 고객
                if (isBundleUser) {
                    var includeMeal = passengerInfo.data('includemeal');
                    if(includeMeal) {
                        $('.mealAvailability_NI').hide();
                        $('.mealAvailability_'+ segmentId).show();
                    } else {
                        $('.mealAvailability_NI').show();
                        $('.mealAvailability_'+ segmentId).hide();
                    }
                }

                // radio button 초기화
                var mealCount = passengerInfo.data('mealcount');
                for(var j=1; j<=mealCount; j++){
                    $.each($('div.mealAvailability_'+segmentId+' div.mealGroupInfo_'+ j +' li input.meal_value'), function (index, el) {
                        if ($(el).val() == passengerInfo.data('meal_value' + j)) {
                            $(el).prop('checked', true);
                            $(el).parents('div.sel_food_info').find('div.img').addClass('on');
                        } else {
                            $(el).parents('div.sel_food_info').find('div.img').removeClass('on');
                            $(el).prop('checked', false);
                        }
                    });
                }
            }
            else{
                if(isBusinessUser) {
                    $('div.mealAvailability_BZ_NA').show();
                } else {
                    $('div.mealAvailability_NA').show();
                }
            }

        }
    };

    /**
     * 현재 선택된 탑승객 정보 반환
     */
    var getPassengerInfo = function(){

        var guestId = $('.layer_passenger_list li').eq(currentPassengerIndex).data('guestid');
        var passengerInfo;

        $.each($('.guestDetails.route_' + (currentRouteIndex+1)), function(index, el){
            if(guestId == $(el).data('guestid')){
                passengerInfo = $(el);
            }
        });

        return passengerInfo;
    }

    /**
     * 구간 변경 및 초기화시에 각 부가서비스와 번들 선택 정보를 탑승객 슬라이드 영역에 표출
     */
    var displayPassengerBundleInfo = function(paxIndex){

        if( $('.guestDetails.route_' + (currentRouteIndex+1)).length==0 ){
            return false;
        }

        var guestId = $('.layer_passenger_list li').eq(paxIndex).data('guestid');
        var passenger = $('.layer_passenger_list li').eq(paxIndex);
        var segmentId = $('.segmentInfo').eq(currentRouteIndex).data('segmentid');

        var passengerInfo;

        $.each($('.guestDetails.route_' + (currentRouteIndex+1)), function(index, el){
            if(guestId == $(el).data('guestid')){
                passengerInfo = $(el);
            }
        });

        var isBundleUser = typeof passengerInfo.data('bundleinfo') != "undefined" && passengerInfo.data('bundleinfo') != 'BUND0';
        var isBusinessUser = typeof passengerInfo.data('businessserviceinfo') != "undefined" && passengerInfo.data('businessserviceinfo') != "";
        var isMembershipUser = typeof passengerInfo.data('membershipinfo') != "undefined" && passengerInfo.data('membershipinfo') != "";

        // 부가서비스 선택 정보
        var ssrInfo = '';

        // 수하물 선택 화면인 경우
        if($('div #tab_baggage').css('display') == 'block'){

            // 기본제공 수하물
            var baggage_min = 0;
            if(parseInt($('div.baggageAvailability_'+ segmentId +' .range_event').attr('min'),10)!=10){
                var range_min = $('div.baggageAvailability_'+ segmentId +' .range_event').attr('min');
                if(typeof range_min == 'undefined'){
                    baggage_min = 0;
                }
                else{
                    baggage_min = parseInt(range_min,10);
                }
            }

            /**
             * #1431 항공권예매>이벤트운임선택한 경우>부가서비스구매화면 아이콘 FBA표시
             * FBA가 없는 경우 BaggageAllowance 0kg인 경우 0kg을 표시해주세요.
             */
            // ssrInfo = passengerInfo.data('baggage-default')!='0' ? (passengerInfo.data('baggage-default') + 'KG') : '';
            ssrInfo = '<p>' + passengerInfo.data('baggage-default') + 'KG';

            ssrInfo += passengerInfo.data('exbgsaleunit') == 'PC' ? ('X' + passengerInfo.data('baggage-pcs') + passengerInfo.data('baggage-pcs-unit')) : '';

            // 추가선택 수하물
            var baggageUnit = '';
            if(passengerInfo.data('exbgsaleunit') == 'PC') {
                if(parseInt(passengerInfo.data('baggage_value'),10) > 1) {
                    baggageUnit = 'PCS';
                } else {
                    baggageUnit = 'PC';
                }
            } else {
                baggageUnit = 'KG';
            }
            ssrInfo += passengerInfo.data('baggage_value')!='*' ? (ssrInfo!=''?' + ':'')
                    + (parseInt(passengerInfo.data('baggage_value'),10) - baggage_min) + baggageUnit : '';

            ssrInfo += '</p>';
        }

        // 좌석 선택 화면인 경우
        else if($('div #tab_seat').css('display') == 'block'){
            var seatValue = passengerInfo.data('seat_value');
            ssrInfo = seatValue != '*' ? '<p>' + seatValue + '</p>' : '';

            // 멤버십 탑승객 존재할 경우 적용된 멤버십의 Free Seat SubSsr List
            var mbsSeatSsrSubCodeListMap = {} != null ? {} : [];
            // 좌석 혜택 이용 가능 여부
            var isUseableSeatBnf = mbsSeatSsrSubCodeListMap[passengerInfo.data('membershipinfo')+'_'+segmentId] != null && typeof mbsSeatSsrSubCodeListMap[passengerInfo.data('membershipinfo')+'_'+segmentId] != 'undefined';
            // 멤버십 탑승객일 경우 좌석 별 클래스 부여
            if(isMembershipUser && isUseableSeatBnf) {
                // 범례 내 좌석 금액 설정 - Free Seat일 경우 0원 처리
                $.each(mbsSeatSsrSubCodeListMap[passengerInfo.data('membershipinfo')+'_'+segmentId],function(i,ssr){
                    //var membershipPrice = $('#seatZonePrice_'+segmentId+'_'+ssr).data('membershipprice');
                    var membershipPrice = '';
                    $('#seatZonePrice_'+segmentId+'_'+ssr).text(membershipPrice);
                    $('#seatZonePrice_'+segmentId+'_'+ssr).prev('small').hide();
                });

                $.each($('article.seatAvailability_'+ segmentId +' tr td button'), function(index, el) {
                    var priceChgFlag = false;
                    $.each(mbsSeatSsrSubCodeListMap[passengerInfo.data('membershipinfo')+'_'+segmentId],function(i,ssr){
                        if($(el).data('seattype') == ssr){
                            priceChgFlag = true;
                        }
                    });
                    if(priceChgFlag){
                        $(el).addClass('-membership');
                    }
                });
            }

            /**
             * 좌석점유정보표기
             */
            if(seatValue != '*'){
                $.each($('article.seatAvailability_'+ segmentId +' tr td button'), function(index, el) {
                    if($(el).data('seatnumber') == seatValue){
                        $(el).text((paxIndex+1));
                        $(el).addClass('-selected');

                        if(passengerInfo.data('hasinfant')){
                            $(el).data('baby','Y');
                        }
                    }
                });
            }
        }

        // 기내식 선택 화면인 경우
        else if($('div #tab_meal').css('display') == 'block'){
            $('div.mealAvailability_'+ segmentId +' li').show();

            // 무상제공인 기내식 돔 loop
            $.each($('div.mealAvailability_' + segmentId + ' input.meal_value.free'), function(){
                var meal_groupIndex = $(this).data('meal_groupindex');
                // 무상 기내식 checked 처리
                $(this).prop("checked", true);
                // 각각의 승객 정보에 data 셋팅
                passengerInfo.data('meal_currency', $(this).data('meal_currency'));
                passengerInfo.data('meal_value' + meal_groupIndex, $(this).val());
                passengerInfo.data('meal_name' + meal_groupIndex, $(this).parent().find('label').find('p').text());
                passengerInfo.data('meal_time' + meal_groupIndex, $(this).data('meal_time'));
                passengerInfo.data('meal_menudiv' + meal_groupIndex, $(this).data('meal_menudiv'));
                passengerInfo.data('meal_amount' + meal_groupIndex, $(this).data('meal_amount'));
                passengerInfo.data('meal_bundlechildssrcode' + meal_groupIndex, $(this).data('meal_bundlechildssrcode'));
                passengerInfo.data('meal_groupssrcode' + meal_groupIndex, $(this).data('meal_groupssrcode'));
                // 모든 기내식이 무상으로 제공되는지 여부 판단 (무상 기내식 제공 여부 Y & 제공 기내식 수 = 무상 기내식 수)
                if(passengerInfo.data('meal_hasfreemealyn') == 'Y' && passengerInfo.data('meal_freemealcount') == passengerInfo.data('meal_mealcount')) {
                    passengerInfo.data('free_all_meal_yn', 'Y');
                }
            });

            /**
             * 번들코드 정보에 따른 선택가능 기내식 정보
             */
            var mealSsrSubCodeListMap = {};

            // 비지니스인 경우, 자동으로 기내식 SET
            if(isBusinessUser) {
                var mealCount = Number(passengerInfo.data('mealcount'));
                // 무상제공 문구 제거
                $(".food_title").find("h2.freeMeal_"+segmentId).remove();
                for(var j=1; j<=mealCount; j++){
                    $.each($('div.mealAvailability_'+segmentId+' div.mealGroupInfo_'+ j +' li input.meal_value'), function (index, el) {
                        if ($(el).val() == passengerInfo.data('mealinfo' + j)) {
                            passengerInfo.data('meal_value' + j, $(el).val());
                            passengerInfo.data('meal_name' + j, $(el).parent().find('label').find('p').text());
                            passengerInfo.data('meal_time' + j, $(el).data('meal_time'));
                            passengerInfo.data('meal_menudiv' + j, $(el).data('meal_menudiv'));
                            passengerInfo.data('meal_bundlechildssrcode' + j, $(el).data('meal_bundlechildssrcode'));
                        }
                    });
                }
            } else if(isBundleUser){ // 번들구매고객인 경우 가격표시 삭제하고, 해당 번들코드에서 선택 가능한 기내식만 노출
                $('div.mealAvailability_'+ segmentId +' div.sel_food_info span.price').hide();

                $.each($('div.mealAvailability_'+ segmentId +' li'), function(index, el){
                    var displayFlag = 'none';
                    var mealCount = passengerInfo.data('mealcount');
                    if(mealCount == 1) {
                        $.each(mealSsrSubCodeListMap[passengerInfo.data('bundleinfo') + '_SHML'], function(i,ssr){
                            if($(el).find('input.meal_value').val() == ssr){
                                displayFlag = '';
                                return false;
                            }
                        });
                    } else {
                        for(var j=1; j<=mealCount; j++){
                            var bundleChildSsrCode = $(el).parents('div.mealAvailability_'+ segmentId).find("input[id='bundleChildSsrCode_" + j + "']").val();
                            $.each(mealSsrSubCodeListMap[passengerInfo.data('bundleinfo') + '_' + bundleChildSsrCode], function(i,ssr){
                                if($(el).find('input.meal_value').data('meal_bundlechildssrcode') == bundleChildSsrCode
                                        && $(el).find('input.meal_value').val() == ssr){
                                    displayFlag = '';
                                    return false;
                                }
                            });
                        }
                    }
                    $(el).css('display',displayFlag);
                });
            }
            else{
                $('div.mealAvailability_'+ segmentId +' div.sel_food_info span.price').show();
            }

            var mealCount = passengerInfo.data('mealcount');
            var mealSsrInfo = '';
            for(var j=1; j<=mealCount; j++){
                if(passengerInfo.data('meal_value' + j)!='*'){
                    if(mealSsrInfo != '') {
                        mealSsrInfo += '<p>';
                        mealSsrInfo += '& ';
                        mealSsrInfo += passengerInfo.data('meal_name' +j);
                        mealSsrInfo += '</p>';
                    } else {
                        mealSsrInfo += '<p>';
                        mealSsrInfo += passengerInfo.data('meal_name' +j);
                        mealSsrInfo += '</p>';
                    }
                }
            }
            ssrInfo = mealSsrInfo;
        }


        // 탑승객 슬라이더
        $.each($('.sel_passenger_slide .swiper-slide'), function(index,el){
            if(parseInt($(el).data('swiper-slide-index'),10)==paxIndex){
                var isBundleUser = typeof passengerInfo.data('bundleinfo') != "undefined" && passengerInfo.data('bundleinfo') != 'BUND0';
                var isBusinessUser = typeof passengerInfo.data('businessserviceinfo') != "undefined" && passengerInfo.data('businessserviceinfo') != "";
                var isMembershipUser = typeof passengerInfo.data('membershipinfo') != "undefined" && passengerInfo.data('membershipinfo') != "";
                if(isBusinessUser) {
                    // 슬라이더
                    $(el).find('span.logo_twayplus').hide();
                    if(isMembershipUser) {
                        $(el).find('span.logo_twayplus').show();
                    }
                    $(el).find('span.sel_print').removeClass('ico_add_bundle').addClass('ico_add_bus').show();
                    $(el).find('span.ico').find('p').remove();
                    $(el).find('span.ico').append(ssrInfo);
                    $(el).find('p.add_price').hide();
                    $(el).find('a.btn_del').hide();

                    // 전체보기
                    /* $('.layer_passenger_list li').eq(paxIndex).find('span.sel_print').removeClass('ico_add_bundle').addClass('ico_add_bus').show();
                    $('.layer_passenger_list li').eq(paxIndex).find('span.ico').text(ssrInfo);
                    $('.layer_passenger_list li').eq(paxIndex).find('p.add_price').hide();
                    $('.layer_passenger_list li').eq(paxIndex).find('a.btn_del').hide(); */
                } else if(isBundleUser){
                    // 슬라이더
                    $(el).find('span.logo_twayplus').hide();
                    $(el).find('span.sel_print').removeClass('ico_add_bus').addClass('ico_add_bundle').show();
                    $(el).find('span.ico').find('p').remove();
                    $(el).find('span.ico').append(ssrInfo);
                    $(el).find('p.add_price').hide();
                    $(el).find('a.btn_del').hide();

                    //기내식 선택 화면인 경우, 해당 번들에 기내식 불포함 일 경우 번들 스티커 제거
                    if($('div #tab_meal').css('display') == 'block'){
                        var includeMeal = passengerInfo.data('includemeal');
                        if(!includeMeal){
                            // 슬라이더
                            $(el).find('span.sel_print').removeClass('ico_add_bus').removeClass('ico_add_bundle').hide();

                            // 선택한 부가서비스가 있는 경우 노출
                            ssrPrice = parseFloat(passengerInfo.data('meal_amount'));
                            if(ssrPrice>0){
                                $(el).find('p.add_price').show();
                                $('.layer_passenger_list li').eq(paxIndex).find('p.add_price').show();
                                $(el).find('p.add_price span.price').text(currencyNumberFormat(currency,ssrPrice, decimalCurrencyList));
                            }
                            else{
                                $(el).find('p.add_price').hide();
                                $('.layer_passenger_list li').eq(paxIndex).find('p.add_price').hide();
                            }
                        }
                    }

                    // 전체보기
                    /* $('.layer_passenger_list li').eq(paxIndex).find('span.sel_print').removeClass('ico_add_bus').addClass('ico_add_bundle').show();
                    $('.layer_passenger_list li').eq(paxIndex).find('span.ico').text(ssrInfo);
                    $('.layer_passenger_list li').eq(paxIndex).find('p.add_price').hide();
                    $('.layer_passenger_list li').eq(paxIndex).find('a.btn_del').hide(); */
                } else if(isMembershipUser && ($('div #tab_baggage').css('display') != 'block' || ($('div #tab_baggage').css('display') == 'block' && domIntDiv == 'D'))) {
                    // 슬라이더
                    $(el).find('span.sel_print').removeClass('ico_add_bus').removeClass('ico_add_bundle').hide();
                    $(el).find('span.logo_twayplus').show();
                    $(el).find('span.ico').find('p').remove();
                    $(el).find('span.ico').append(ssrInfo);
                    $(el).find('p.add_price').hide();
                    $(el).find('a.btn_del').hide();

                } else {
                    var ssrPrice = 0;

                    // 수하물 선택 화면인 경우
                    if($('div #tab_baggage').css('display') == 'block'){
                        ssrPrice = parseFloat(passengerInfo.data('baggage_amount'));
                    }
                    // 좌석 선택 화면인 경우
                    else if($('div #tab_seat').css('display') == 'block'){
                        ssrPrice = parseFloat(passengerInfo.data('seat_amount'));
                    }
                    // 기내식 선택 화면인 경우
                    else if($('div #tab_meal').css('display') == 'block'){
                        ssrPrice = parseFloat(passengerInfo.data('meal_amount'));
                    }

                    // 슬라이더
                    if(!isMembershipUser) {
                        $(el).find('span.logo_twayplus').hide();
                    }
                    $(el).find('span.sel_print').removeClass('ico_add_bus').removeClass('ico_add_bundle').hide();
                    $(el).find('span.ico').find('p').remove();
                    $(el).find('span.ico').append(ssrInfo);
                    $(el).find('p.add_price span.price').text(currencyNumberFormat(currency,ssrPrice, decimalCurrencyList));

                    // 선택한 부가서비스가 있는 경우 노출
                    if(ssrPrice>0){
                        $(el).find('p.add_price').show();
                        $(el).find('a.btn_del').show();
                    }
                    else{
                        $(el).find('p.add_price').hide();
                        $(el).find('a.btn_del').hide();
                    }


                    // 전체보기
                    /* $('.layer_passenger_list li').eq(paxIndex).find('span.sel_print').removeClass('ico_add_bus').removeClass('ico_add_bundle').hide();
                    $('.layer_passenger_list li').eq(paxIndex).find('span.ico').text(ssrInfo);
                    $('.layer_passenger_list li').eq(paxIndex).find('p.add_price span.price').text(currencyNumberFormat(currency,ssrPrice, decimalCurrencyList)); */

                    if(ssrPrice>0){
                        $('.layer_passenger_list li').eq(paxIndex).find('p.add_price').show();
                        $('.layer_passenger_list li').eq(paxIndex).find('a.btn_del').show();
                    }
                    else{
                        $('.layer_passenger_list li').eq(paxIndex).find('p.add_price').hide();
                        $('.layer_passenger_list li').eq(paxIndex).find('a.btn_del').hide();
                    }
                }

                // 반려동물 구매 탑승객
                if(passengerInfo.data('petcinfo')){
                    $(el).find('.pet').show();
                    $('.layer_passenger_list li').eq(paxIndex).find('.pet').show();
                }else{
                    $(el).find('.pet').hide();
                    $('.layer_passenger_list li').eq(paxIndex).find('.pet').hide();
                }
            }
        });

        calculateFareSummary();
    };

    /**
     * 탑승객 슬라이드 영역에 표출되는 부가서비스와 번들 선택 정보를 모든 탑승객에 대해 초기화합니다.
     */
    var resetDisplayPassengerBundleInfo = function(){
        $.each($('.layer_passenger_list li'),function(index,el){
            displayPassengerBundleInfo(index);
        });

        buttonControl();
        nextStepButtonEventBind();
    };

    /**
     * 다음 탑승객선택, 마지막 탑승객인 경우 첫번째 탑승객으로 이동
     */
    var showNextPassenger = function(){
        if($('.layer_passenger_list li').length-1 > currentPassengerIndex){
            passengerSlider.slideTo(++currentPassengerIndex,400,false);
        }
        else{
            currentPassengerIndex = 0;
            passengerSlider.slideTo(currentPassengerIndex,400,false);
        }
        choosePassengerFromSlide(currentPassengerIndex);

        // 구간 및 탑승객 이동 타겟 메세지, 2020-03-03 jebaek
        var routeNo = parseInt(currentRouteSliderIndex) + 1;
        var passengerInfo = getPassengerInfo();
        var passengerName = passengerInfo.data('lastname')+'/'+passengerInfo.data('firstname');
        var targetMessage = '\uAD6C\uAC04 {0} - {1} \uD0D1\uC2B9\uAC1D\uC73C\uB85C \uC774\uB3D9 \uC911';
        if($('.layer_passenger_list li').length > 1){
            targetMessageLayer(targetMessage.replace('{0}', routeNo).replace('{1}', passengerName));
        }
    };

    var callBackOpener = function(hideLayerName){
        $('#wrap').slideDown( "slow", function() {
            $('#'+hideLayerName).remove();
        });
    };

    /**************************************************************************/

    var reInitRouteSlider = function() {
        routeSlider.init();

        $('.swiper-container').removeClass("swiper-no-swiping");
        $('.swiper-wrapper').removeClass("swiper-no-swiping");

        $('#routeSlider').next().show();
        $('a.btn_slide_prev').show();
        $('a.btn_slide_next').show();
        $('div.swiper-pagination-wrapper').show();
    }

    /**
     * 수하물 선택 화면 load - baggageAvailability
     */
    var baggageAvailability = function(){

        $( 'html, body' ).animate( { scrollTop : 0 }, 400 );

        reInitRouteSlider();

        /**
         * 2019-01-14 추가
         * ancillaryAvailabilityRS 통한 SSR 구매 가능 구간인지 확인
         */
        var postForm = $('#postForm');
        postForm.find('input[name="segmentIdList"]').remove();

        $.each(ancillaryAvailabilityRS.flightSegmentDetailsForAncillary, function(index,anc){
            if(anc.possibleBaggage){
                postForm.append('<input type="hidden" name="segmentIdList" value="'+anc.segmentId+'"/>');
            }
        });
        /**
         * 2019-01-14 추가 끝
         */

        beginLoadingAnimation();
        $('.sel_passenger_wrap').show();

        $.post('/app/booking/SSR/baggage', $('#postForm').serialize(), function(return_data,status) {
            $('#tab_baggage').html(return_data);
            endLoadingAnimation();

            $('#tab_insurance').hide();
            $('#tab_meal').hide();
            $('#tab_seat').hide();
            $('#tab_baggage').show();

            $('#tab_ancillary_seat').removeClass('on');
            $('#tab_ancillary_baggage').addClass('on');
            $('#tab_ancillary_meal').removeClass('on');
            $('#tab_ancillary_insurance').removeClass('on');

            baggageSlideInit();

            /**
             * 첫번째구간 수하물 정보 노출
             */
            if ($('.baggageAvailability_' + $('.segmentInfo').eq(0).data('segmentid')).length > 0) {
                $('.baggageAvailability_' + $('.segmentInfo').eq(0).data('segmentid')).show();
            }
            else{
                $('.baggageAvailability_NA').show();
            }

            routeSlider.slideTo(0,400,false);
            passengerSlider.slideTo(0,400,false);

            choosePassengerFromSlide(0);
            resetDisplayPassengerBundleInfo();
            displayPassengerBundleInfo(0);
        });
    };


    /**
     * 좌석 선택 화면 load - seatAvailability
     */
    var seatAvailability = function(routeSliderIndex, passengerSliderIndex){

        $( 'html, body' ).animate( { scrollTop : 0 }, 400 );

        if(typeof routeSliderIndex == "undefined" || typeof passengerSliderIndex == "undefined"){
            routeSliderIndex = 0;
            passengerSliderIndex = 0;
        }

        reInitRouteSlider();

        /**
         * 2019-01-14 추가
         * ancillaryAvailabilityRS 통한 SSR 구매 가능 구간인지 확인
         */
        var postForm = $('#postForm');
        postForm.find('input[name="segmentIdList"]').remove();

        $.each(ancillaryAvailabilityRS.flightSegmentDetailsForAncillary, function(index,anc){
            if(anc.possibleSeat || anc.possibleBusinessSeat){
                postForm.append('<input type="hidden" name="segmentIdList" value="'+anc.segmentId+'"/>');
            }
        });
        /**
         * 2019-01-14 추가 끝
         */

        beginLoadingAnimation();
        $('.sel_passenger_wrap').show();

        $.post('/app/booking/SSR/seat', $('#postForm').serialize(), function(return_data,status) {
            $('#tab_seat').html(return_data);
            endLoadingAnimation();

            $('#tab_baggage').hide();
            $('#tab_insurance').hide();
            $('#tab_meal').hide();
            $('#tab_seat').show();

            $('#tab_ancillary_seat').addClass('on');
            $('#tab_ancillary_baggage').removeClass('on');
            $('#tab_ancillary_meal').removeClass('on');
            $('#tab_ancillary_insurance').removeClass('on');

            /**
             * 첫번째구간 seat map 노출
             */
            $('.seatAvailability_'+$('.segmentInfo').eq(routeSliderIndex).data('segmentid')).show();
            $('.seatLegend_'+$('.segmentInfo').eq(routeSliderIndex).data('segmentid')).show();

            routeSlider.slideTo(routeSliderIndex,400,false);
            passengerSlider.slideTo(passengerSliderIndex,400,false);

            choosePassengerFromSlide(passengerSliderIndex);
            resetDisplayPassengerBundleInfo();
            displayPassengerBundleInfo(passengerSliderIndex);
        });
    };

    /**
     * 기내식 선택 화면 load - mealAvailability
     */
    var mealAvailability = function(routeSliderIndex, passengerSliderIndex){

        $( 'html, body' ).animate( { scrollTop : 0 }, 400 );

        if(typeof routeSliderIndex == "undefined" || typeof passengerSliderIndex == "undefined"){
            routeSliderIndex = 0;
            passengerSliderIndex = 0;
        }

        reInitRouteSlider();

        /**
         * 2019-01-14 추가
         * ancillaryAvailabilityRS 통한 SSR 구매 가능 구간인지 확인
         */
        var postForm = $('#postForm');
        postForm.find('input[name="segmentIdList"]').remove();

        $.each(ancillaryAvailabilityRS.flightSegmentDetailsForAncillary, function(index,anc){
            if(anc.possibleMeal || anc.possibleBusinessMeal){
                postForm.append('<input type="hidden" name="segmentIdList" value="'+anc.segmentId+'"/>');
            }
        });
        /**
         * 2019-01-14 추가 끝
         */

        beginLoadingAnimation();
        $('.sel_passenger_wrap').show();

        $.post('/app/booking/SSR/meal', $('#postForm').serialize(), function(return_data,status) {
            $('#tab_meal').html(return_data);

            endLoadingAnimation();

            $('#tab_seat').hide();
            $('#tab_baggage').hide();
            $('#tab_insurance').hide();
            $('#tab_meal').show();

            $('#tab_ancillary_seat').removeClass('on');
            $('#tab_ancillary_baggage').removeClass('on');
            $('#tab_ancillary_meal').addClass('on');
            $('#tab_ancillary_insurance').removeClass('on');

            /**
             * 선택한 구간 기내식 노출
             */
            $('.mealAvailability_'+$('.segmentInfo').eq(routeSliderIndex).data('segmentid')).show();

            routeSlider.slideTo(routeSliderIndex,400,false);
            passengerSlider.slideTo(passengerSliderIndex,400,false);

            choosePassengerFromSlide(passengerSliderIndex);
            resetDisplayPassengerBundleInfo();
            displayPassengerBundleInfo(passengerSliderIndex);
        });

    };

    /**
     * 최초 진입시 수하물 선택 화면 요청
     */
    $(document).ready(function(){


        var isAvailSSR = false;
        $.each(ancillaryAvailabilityRS.flightSegmentDetailsForAncillary, function(ai,aa){
            if(aa.possibleBaggage || aa.possibleMeal || aa.possibleBusinessMeal || aa.possibleSeat || aa.possibleBusinessSeat || aa.possibleInsurance){
                isAvailSSR = true;
            }
        });
        if(isAvailSSR){
            var postForm = $('#postForm');
            var PnrNumber = 'EBWDyI6IqvBGDsA/ZJEXGA==';

            postForm.append('<input type="hidden" name="PnrNumber" value="'+PnrNumber+'"/>');

            clickSsrTab('seat');
        }

    });

    /**
     * 번들 구매 고객의 좌석 선택 여부 확인
     */
    var bundleCustomerSeatCheck = function(){

        var routeCount = 2;

        /**
         * 번들선택 고객의 부가서비스 선택 여부 체크
         */
        var alert_msg_choose_all_ssr = '{0}\uBC88\uC9F8 \uAD6C\uAC04 [{1}] \uD0D1\uC2B9\uAC1D\uC758 \uBD80\uAC00\uC11C\uBE44\uC2A4-{2}\uC774 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uD574\uB2F9 \uD654\uBA74\uC73C\uB85C \uC774\uB3D9\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?'; // {0}번째 구간 [{1}] 탑승객의 부가서비스-{2}가 선택되지 않았습니다. 해당 화면으로 이동하시겠습니까?
        var msg_seat = '\uC88C\uC11D'; // 좌석

        var loopFlag = true;
        for(var i=1 ; i<=routeCount && loopFlag; i++){

            /**
             * 구간별 확인
             */
            var infantCount = 0;

            $.each($('.guestDetails.route_' + i), function(index, el){
                var passengerInfo = $(el);

                if(passengerInfo.data('paxtype')=='INFANT'){
                    infantCount++;
                }

                var isBundleUser = typeof passengerInfo.data('bundleinfo') != "undefined" && passengerInfo.data('bundleinfo') != 'BUND0';

                if(isBundleUser){

                    // 좌석 선택 여부
                    if(passengerInfo.data('seat_value')=='*'){
                        if(confirm(alert_msg_choose_all_ssr
                                .replace('{0}', i)
                                .replace('{1}', passengerInfo.data('lastname')+'/'+passengerInfo.data('firstname'))
                                .replace('{2}', msg_seat)
                        )){
                            seatAvailability(i-1, index-infantCount);
                        }
                        loopFlag = false;
                        return loopFlag;
                    }

                }
            });
        }

        return loopFlag;
    };

    var getOffsetTop = function(el){
        var top = 0;
        if(el.offsetParent) {
            do {
                top += el.offsetTop;
            } while (el = el.offsetParent);
            return [top]
        }
    };

    /**
     * STEP4 로 이동
     */
    var savePnr = function(){
        var frm = $('form[name="bookingForm"]');
        frm.find('input.SavePnrElementInfo').remove();

        var loopFlag = true;

        var possibleInsurance = true;
        if(possibleInsurance && $("input[name='chkInscPax']:checked").length > 0) {
            var validInsure = true;
            var validBirth = false;

            var policyStartDate = $("input[id='policyStartDate']").val();
            var policyEndDate = $("input[id='policyEndDate']").val();

            var toDay = new Date();
            var year = toDay.getFullYear();
            var month = (toDay.getMonth() + 1);
            var day = toDay.getDate();
            var todayVal = new String(year)+"-"+new String(month < 10 ? "0"+month : month)+"-"+new String(day < 10 ? "0" + day : day);

            if($("input[name*='phoneNo']").val() == '') {
                alert('\uD734\uB300\uC804\uD654\uBC88\uD638\uB97C \uC785\uB825\uD574 \uC8FC\uC138\uC694.');
                validInsure = false;
                loopFlag = false;
                window.scroll(0, getOffsetTop(document.getElementById('ssr_detail')));
                return false;
            }

            $("input[name='chkInscPax']:checked").each(function() {
                var guestId = $(this).data('guestid');
                var planSelect = $("#planSelect_" + guestId).val();
                if(planSelect == null || planSelect == '') {
                    alert('\uAC00\uC785\uD50C\uB79C\uC744 \uC120\uD0DD\uD574\uC8FC\uC2DC\uAE30 \uBC14\uB78D\uB2C8\uB2E4.');
                    validInsure = false;
                    loopFlag = false;
                    window.scroll(0, getOffsetTop(document.getElementById('ssr_detail')));
                    return false;
                }

                var birth = $('#birth_' + guestId).val();
                var age = getInsuranceAge(todayVal, birth);
                var usAge = getUSAge(todayVal, birth);
                if(age >= 100) { //100세 이상일 경우 알럿 생성
                    var msg = '\uD574\uB2F9 \uD50C\uB79C\uC740 \uC120\uD0DD \uBD88\uAC00 \uD569\uB2C8\uB2E4.\\n(100\uC138 \uC774\uC0C1 \uAC00\uC785 \uBD88\uAC00)';
                    var message = msg.replace(/\\n/, "\n");
                    alert(message);

                    validInsure = false;
                    loopFlag = false;
                    window.scroll(0, getOffsetTop(document.getElementById('ssr_detail')));
                    return false;
                }
                if(usAge >= 80) { // 만 80세 이상 : 최대가입기간 1달 1달 이상 선택 시 얼럿생성
                    var dateDiffValue = dateDiff(policyStartDate, policyEndDate);
                    if(dateDiffValue > 30) {
                        var msg = '\uD574\uB2F9 \uD50C\uB79C\uC740 \uC120\uD0DD \uBD88\uAC00 \uD569\uB2C8\uB2E4.\\n(\uB9CC 80\uC138 \uC774\uC0C1 \uCD5C\uB300 \uAC00\uC785\uAE30\uAC04 1\uB2EC)';
                        var message = msg.replace(/\\n/, "\n");
                        alert(message);

                        validInsure = false;
                        loopFlag = false;
                        window.scroll(0, getOffsetTop(document.getElementById('ssr_detail')));
                        return false;
                    }
                }

                if(usAge > 19) { // 만 19세 이하 단독인 경우
                    validInsure = true;
                    validBirth = true;
                }
            });

            if(validInsure && !validBirth) {
                alert('19\uC138 \uBBF8\uB9CC \uC2B9\uAC1D\uC740 \uBCF4\uD5D8\uAC00\uC785\uC774 \uBD88\uAC00\uD569\uB2C8\uB2E4.');
                validInsure = false;
                loopFlag = false;
                window.scroll(0, getOffsetTop(document.getElementById('ssr_detail')));
                return false;
            }

            if(validInsure) {
                var agreeInscInfo = $("input[type=checkbox][name*='agreeInscInfo']").prop('checked');
                var agreeInscGuide = $("input[type=checkbox][name*='agreeInscGuide']").prop('checked');
                var agreeInscRuleAndPrivacy = $("input[type=checkbox][name*='agreeInscRuleAndPrivacy']").prop('checked');
                if(!agreeInscInfo || !agreeInscGuide || !agreeInscRuleAndPrivacy) {
                    alert('\uBAA8\uB4E0\uC57D\uAD00\uC5D0 \uB3D9\uC758\uD574\uC57C \uBCF4\uD5D8\uAC00\uC785\uC774 \uAC00\uB2A5\uD569\uB2C8\uB2E4.  (\uAC00\uC785\uC744 \uC6D0\uD558\uC9C0 \uC54A\uC744\uC2DC \uAC00\uC785\uC790\uBA85 \uC55E \uCCB4\uD06C\uBC15\uC2A4\uB97C \uCDE8\uC18C\uD574\uC8FC\uC138\uC694.)');
                    validInsure = false;
                    loopFlag = false;
                    window.scroll(0, getOffsetTop(document.getElementById('termsArea')));
                    return false;
                }
            }

            if(validInsure) {
                beginLoadingAnimation();
                callInsertQuote();
            }
        }

        var routeCount = 2;

        /**
         * 번들선택 고객의 부가서비스 선택 여부 체크
         */
        var alert_msg_choose_all_ssr = '{0}\uBC88\uC9F8 \uAD6C\uAC04 [{1}] \uD0D1\uC2B9\uAC1D\uC758 \uBD80\uAC00\uC11C\uBE44\uC2A4-{2}\uC774 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uD574\uB2F9 \uD654\uBA74\uC73C\uB85C \uC774\uB3D9\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?'; // {0}번째 구간 [{1}] 탑승객의 부가서비스-{2}가 선택되지 않았습니다. 해당 화면으로 이동하시겠습니까?
        var alert_business_poss_default_meal = '\uAE30\uB0B4\uC2DD\uC740 \uAE30\uBCF8 \uAE30\uB0B4\uC2DD\uC73C\uB85C \uC81C\uACF5\uB429\uB2C8\uB2E4.'; // 기내식은 기본 기내식으로 제공됩니다.
        var alert_business_imposs_default_meal = '\uAE30\uB0B4\uC2DD \uC0AC\uC804 \uC8FC\uBB38 \uAE30\uAC04\uC774 \uB9C8\uAC10\uB418\uC5B4 \uAE30\uBCF8 \uAE30\uB0B4\uC2DD\uC73C\uB85C \uC81C\uACF5\uB429\uB2C8\uB2E4.'; // 기내식 사전 주문 기간이 마감되어 기본 기내식으로 제공됩니다.
        var msg_meal = '\uAE30\uB0B4\uC2DD'; // 기내식
        var msg_seat = '\uC88C\uC11D'; // 좌석
        var businessSegmentIdArray = [];

        for(var i=1 ; i<=routeCount && loopFlag; i++){
            /**
             * 구간별 확인
             */
             $.each($('div.sel_passenger_slide ul.swiper-wrapper li.swiper-slide'), function(index, el){
                var passengerInfo = '';
                var guestId = $(el).data('passengernumber');

                $.each($('.guestDetails.route_' + i), function(index, el){
                    if(guestId == $(el).data('guestid')){
                        passengerInfo = $(el);
                    }
                });

                var segmentId = passengerInfo.data('segmentid');
                var isBundleUser = typeof passengerInfo.data('bundleinfo') != "undefined" && passengerInfo.data('bundleinfo') != 'BUND0';
                var isBusinessUser = typeof passengerInfo.data('businessserviceinfo') != "undefined" && passengerInfo.data('businessserviceinfo') != "";

                if(isBusinessUser) {
                    businessSegmentIdArray.push(segmentId);

                    // 비지니스운임을 선택 한 경우, 좌석 필수 선택
                    if(passengerInfo.data('seat_value')=='*'){
                        if(confirm(alert_msg_choose_all_ssr
                                .replace('{0}', i)
                                .replace('{1}', passengerInfo.data('lastname')+'/'+passengerInfo.data('firstname'))
                                .replace('{2}', msg_seat)
                                )){
                            clickSsrTabWithIndex('seat',i-1, index);
                        }
                        loopFlag = false;
                        return loopFlag;
                    }
                } else if(isBundleUser){
                    // 좌석 선택 여부
                    if(passengerInfo.data('seat_value')=='*'){
                        if(confirm(alert_msg_choose_all_ssr
                                .replace('{0}', i)
                                .replace('{1}', passengerInfo.data('lastname')+'/'+passengerInfo.data('firstname'))
                                .replace('{2}', msg_seat)
                                )) {
                                clickSsrTabWithIndex('seat',i-1, index);
                        }
                        loopFlag = false;
                        return loopFlag;
                    }


                // 국내선이 아닌 경우 기내식 선택 여부
                    if (isSelectedSeatByBundleUser(i)) {
                        if(domIntDiv != 'D'){
                            var includeMeal = passengerInfo.data('includemeal');
                            if(includeMeal) {
                                var selectMeal = true;
                                var mealCount = passengerInfo.data('mealcount');
                                for(var j=1; j<=mealCount; j++){
                                    if(passengerInfo.data('meal_value' + j)=='*'){
                                        selectMeal = false;
                                    }
                                }
                                if(!selectMeal) {
                                    if(confirm(alert_msg_choose_all_ssr
                                            .replace('{0}', i)
                                            .replace('{1}', passengerInfo.data('lastname')+'/'+passengerInfo.data('firstname'))
                                            .replace('{2}', msg_meal)
                                    )){
                                        clickSsrTabWithIndex('meal',i-1, index);
                                    }
                                    loopFlag = false;
                                    return loopFlag;
                                }
                            }
                        }
                    }
                }
            });

        }

        // 국내선이 아닌 경우 기내식 선택 여부
        if(domIntDiv != 'D'){
            var possibleBusinessMeal = true;
            $.each(ancillaryAvailabilityRS.flightSegmentDetailsForAncillary, function(index,anc){
                if(businessSegmentIdArray.indexOf(anc.segmentId) > 0) {
                    if(!anc.possibleBusinessMeal){
                        possibleBusinessMeal = false;
                    }
                }
            });

            if(!possibleBusinessMeal) {
                // 기내식을 선택하지 못한 경우
                if(confirm(alert_business_imposs_default_meal)) {
                    submitPnr();
                    return false;
                } else {
                    loopFlag = false;
                    return loopFlag;
                }
            }
        }

        if(loopFlag){
            submitPnr();
        }
    };

    var isSelectedSeatByBundleUser = function(segmentIndex) {
        var isSelectedSeatByBundleUser = true;

        $.each($('.guestDetails.route_' + segmentIndex), function(index, el){
            var isBundleUser = typeof $(el).data('bundleinfo') != "undefined" && $(el).data('bundleinfo') != 'BUND0';
            if(isBundleUser && $(el).data('seat_value') == '*') {
                isSelectedSeatByBundleUser = false;
                return isSelectedSeatByBundleUser;
            }
        });

        return isSelectedSeatByBundleUser;
    }

    var submitPnr = function(){
        var frm = $('form[name="bookingForm"]');

        var routeCount = 2;

        var paramValues = [];

        for(var i=1 ; i<=routeCount; i++){

            $.each($('.guestDetails.route_' + i), function(index, el) {
                var passengerInfo = $(el);
                var val = '';

                var isBundleUser = typeof passengerInfo.data('bundleinfo') != "undefined" && passengerInfo.data('bundleinfo') != 'BUND0';
                var isBusinessUser = typeof passengerInfo.data('businessserviceinfo') != "undefined" && passengerInfo.data('businessserviceinfo') != "";
                var isMembershipUser = typeof passengerInfo.data('membershipinfo') != "undefined" && passengerInfo.data('membershipinfo') != "";

                /**
                 * <div data-baggage_addtype="*" data-baggage_amount="0" data-baggage-default="25" data-baggage_ssrtype="EXBG" data-baggage_value="*"  data-baggage-pcs="0"
                 * data-meal_amount="0" data-meal_name="*" data-meal_ssrtype="MEAL" data-meal_value="*"
                 * data-seat_amount="0" data-seat_ssrtype="SEAT" data-seat_value="*" data-bundleinfo="JPB4F"
                 * data-guestid="81555560"
                 * data-firstname="SANGJUN" data-segmentid="105470536" data-baggage-unit="KG" data-lastname="LEE"
                 * class="guestDetails debug route_1">SANGJUN/LEE</div>
                 */
                if (isBundleUser || isBusinessUser) {

                    // 번들구매 탑승객에 대한 기본정보
                    if(isBusinessUser) {
                        val = 'SsrType=BUNDLE';
                        val += '&SsrCode=' + passengerInfo.data('businessserviceinfo');
                    } else {
                        val = 'SsrType=BUNDLE';
                        val += '&SsrCode=' + passengerInfo.data('bundleinfo');
                    }
                    val += '&GuestId=' + passengerInfo.data('guestid');
                    val += '&SegmentId=' + passengerInfo.data('segmentid');
                    val += '&MealCount=' + passengerInfo.data('mealcount');
                    val += '&IsFreeSsr=false';
                    // 번들구매자의 경우 별도의 수하물 정보는 전달하지 않습니다.

                    // 좌석
                    val += '&SeatNumber='+passengerInfo.data('seat_value');

                    // 기내식
                    var includeMeal = passengerInfo.data('includemeal');
                    if(includeMeal) {
                        var mealCount = passengerInfo.data('mealcount');
                        for(var j=1; j<=mealCount; j++){
                            if(passengerInfo.data('meal_value' + j) != '*') {
                                var meal_bundleChildSsrCode = passengerInfo.data('meal_bundlechildssrcode' + j);
                                if(meal_bundleChildSsrCode != '*') {
                                    val += '&MealInfo' + j + '='+passengerInfo.data('meal_value' + j) + ';' + passengerInfo.data('meal_bundlechildssrcode' + j);
                                } else {
                                    val += '&MealInfo' + j + '='+passengerInfo.data('meal_value' + j);
                                }
                            }
                        }
                    }

                    paramValues.push(val);
                }

                else{


                    // 수하물
                    if(passengerInfo.data('baggage_value')!='*'){
                        val = 'GuestId=' + passengerInfo.data('guestid');
                        val += '&SegmentId=' + passengerInfo.data('segmentid');
                        val += '&IsFreeSsr=false';
                        val += '&SsrType=' + passengerInfo.data('baggage_ssrtype');
                        val += '&BaggageValue=' + passengerInfo.data('baggage_value');
                        val += '&BaggagePCS=' + passengerInfo.data('baggage-pcs');
                        val += '&BaggageAddType=' +(passengerInfo.data('baggage-unit')=='KG'?'WT':'PC');
                        /**
                         *     public static final String              BAGGAGE_ADD_TYPE_WEIGHT = "WT";
                         *     public static final String              BAGGAGE_ADD_TYPE_PIECE  = "PC";
                         */
                        paramValues.push(val);
                    }

                    // 좌석
                    if(passengerInfo.data('seat_value')!='*'){
                        val = 'GuestId=' + passengerInfo.data('guestid');
                        val += '&SegmentId=' + passengerInfo.data('segmentid');
                        val += '&IsFreeSsr=false';
                        val += '&SeatNumber=' + passengerInfo.data('seat_value');
                        if(isMembershipUser && passengerInfo.data('seat_isbenefit')) {
                            val += '&SsrType=MEMBERSHIP';
                            val += '&SsrCode=' + passengerInfo.data('membershipinfo');
                            val += '&SeatSsrCode=' + passengerInfo.data('seat_type');
                            val += '&IsBenefitSeat=' + passengerInfo.data('seat_isbenefit');
                        } else {
                            val += '&SsrType=' + passengerInfo.data('seat_ssrtype');
                        }
                        paramValues.push(val);
                    }

                    // 기내식
                    var selMeal = false;
                    var mealCount = passengerInfo.data('mealcount');
                    for(var j=1; j<=mealCount; j++){
                        if(passengerInfo.data('meal_value' + j)!='*'){
                            selMeal = true;
                            val = (val != '' ? val + '&' : '') + 'SsrCode' + j + '=' + passengerInfo.data('meal_value' + j);
                            var meal_parentSsrCode = passengerInfo.data('meal_groupssrcode' + j);
                            if(meal_parentSsrCode != '*') {
                                val += '&ParentSsrCode' + j + '=' + meal_parentSsrCode;
                            }
                        }
                    }
                    if(selMeal) {
                        val += '&GuestId=' + passengerInfo.data('guestid');
                        val += '&SegmentId=' + passengerInfo.data('segmentid');
                        val += '&IsFreeSsr=false';
                        val += '&SsrType=' + passengerInfo.data('meal_ssrtype');
                        val += '&MealCount=' + passengerInfo.data('mealcount');

                        paramValues.push(val);
                    }
                }
            });
        }
        console.log(paramValues);
        $.each(paramValues, function(index,val){
            frm.append('<input type="hidden" class="SavePnrElementInfo" name="SavePnrElementInfo" value="'+ val +'" />');
        });

        invalidMove = true;
        // twaygtm > push > 선택한 부가서비스 정보 push
        gtmSsrDataPush();
        frm.submit();

        beginLoadingAnimation();
    }

    /**************************************************************************/


</script>




<script type="text/javascript">
    /**************************************************************************/

    /**
     * summary 영역 subtotal 계산 및 성인, 소아, 유아 노출 순서 조정
     */

    $(document).ready(function() {
        calculateFareSummary();
    });

    var calculateFareSummary = function(){
        var routeCount = 2;
        var msg_ssr_baggage = '\uC704\uD0C1\uC218\uD558\uBB3C';//'수하물';
        var msg_ssr_seat = '\uC88C\uC11D';//'좌석';
        var msg_ssr_meal = '\uAE30\uB0B4\uC2DD';//'기내식';
        var msg_ssr_insc = '\uC5EC\uD589\uBCF4\uD5D8';//'여행자보험';

        var bundleInfo = [];
        var totalAmount = 0;

        /**
         * 선택한 번들상품 하단 summary 영역에 적용
         */
        var currency = 'KRW';

        for( var i=1 ; i<=routeCount ; i++) {

            var routeAmount = 0; //구간별 요금 합계
            var fareAmount = 0;
            var bundleAmount = 0;
            var paxAmount = 0;
            var ssrAmount = 0;


            $.each($('.summary_wrap div.route_'+i+' div.passenger_list li'),function(index, el){

                var ssrPaxAmount = 0;// 탑승객별 부가서비스 요금 합계

                fareAmount = parseFloat($(el).data('fareamount'));
                bundleAmount = parseFloat($(el).data('bundleamount'));

                paxAmount = bundleAmount + fareAmount;
                routeAmount += paxAmount;

                $(el).data('bundleamount', bundleAmount);
                $(el).data('paxamount', paxAmount);

                var passengerInfo;
                $.each($('div.guestDetails.route_'+i), function(gi, gu){
                    if($(el).data('passengernumber') == $(gu).data('guestid')){
                        passengerInfo = $(gu);
                        return false;
                    }
                });

                var isBundleUser = typeof passengerInfo.data('bundleinfo') != "undefined" && passengerInfo.data('bundleinfo') != 'BUND0';
                var isBusinessUser = typeof passengerInfo.data('businessserviceinfo') != "undefined" && passengerInfo.data('businessserviceinfo') != "";

                // 부가서비스 개별 내역 초기화
                var ssrHtml = '';
                var ssrElement = $(el).find('div.added_box.ssr');
                ssrElement.empty();

                // 번들을 선택하지 않은 경우 부가서비스 선택에 따라 합계요금 변경, 합산
                if(!isBundleUser && !isBusinessUser){
                    // 부가서비스 개별 요금 정보 추가

                    // 부가서비스 - 수하물
                    if(passengerInfo.data('baggage_value')!='*'){
                        var baggageUnit = '';
                        if(passengerInfo.data('exbgsaleunit') == 'PC') {
                            if(parseInt(passengerInfo.data('baggage_value'),10) > 1) {
                                baggageUnit = 'PCS';
                            } else {
                                baggageUnit = 'PC';
                            }
                        } else {
                            baggageUnit = 'KG';
                        }
                        ssrHtml += '<dt>'+msg_ssr_baggage+'('+passengerInfo.data('baggage_value')+baggageUnit+
                                ( parseInt(passengerInfo.data('baggage-pcs'),10)>1?' '+passengerInfo.data('baggage-pcs')+passengerInfo.data('baggage-pcs-unit'):'' )+')</dt>' +
                                '<dd><span>'+currency+'</span> <em class="amount">'+ currencyNumberFormat(currency, parseFloat(passengerInfo.data('baggage_amount')), decimalCurrencyList) +'</em></dd>';
                        ssrPaxAmount += parseFloat(passengerInfo.data('baggage_amount'));
                    }

                    // 부가서비스 - 좌석
                    if(passengerInfo.data('seat_value')!='*'){
                        ssrHtml += '<dt>'+msg_ssr_seat+'('+passengerInfo.data('seat_value')+')</dt>';
                        if(!passengerInfo.data('seat_isbenefit')) {
                            ssrHtml += '<dd class="view"><span>'+currency+'</span> <em class="amount">'+ currencyNumberFormat(currency, parseFloat(passengerInfo.data('seat_amount')), decimalCurrencyList) +'</em></dd>';
                            ssrPaxAmount += parseFloat(passengerInfo.data('seat_amount'));
                        }
                    }

                    // 부가서비스 - 기내식
                    var mealCount = passengerInfo.data('mealcount');
                    for(var j=1; j<=mealCount; j++){
                        if(passengerInfo.data('meal_value' + j)!='*'){
                            ssrHtml += '<dt>'+msg_ssr_meal+'('+passengerInfo.data('meal_name' + j)+')</dt>' +
                                    '<dd class="view"><span>'+currency+'</span> <em class="amount">'+ currencyNumberFormat(currency, parseFloat(passengerInfo.data('meal_amount' + j)), decimalCurrencyList) +'</em></dd>';
                            ssrPaxAmount += parseFloat(passengerInfo.data('meal_amount' + j));
                        }
                    }
                }
                else{
                    //-- 번들사용자인 경우 선택한 부가서비스 상품 표기
                    // 부가서비스 - 좌석
                    if(passengerInfo.data('seat_value')!='*'){
                        $(el).find('div.added_box.bundle dt.bund.SEAT span.view').text('('+passengerInfo.data('seat_value')+')');
                    }
                    // 부가서비스 - 기내식
                    var mealCount = passengerInfo.data('mealcount');
                    for(var j=1; j<=mealCount; j++){
                        if(passengerInfo.data('meal_value' + j)!='*'){
                            $(el).find('div.added_box.bundle dt.bund.MEAL:eq('+ (j-1) + ')').find('span.view').text('('+passengerInfo.data('meal_time' + j)+' / ' + passengerInfo.data('meal_name' + j)+')');
                        }
                    }
                }

                // 여행자보험 계산 - 구간 1인 경우만 포함
                if(i==1) {
                    var totalInsureAmount = 0;
                    $('select[id^=planSelect]').each(function() {
                        // 순번 데이터를 위한 설정
                        if(this.value != '') {
                            var insureAmount = $(this).val();
                            totalInsureAmount += parseFloat(insureAmount);
                        }
                    });
                    $('#totalInsureAmount').text(currencyNumberFormat(currency, parseFloat(totalInsureAmount), decimalCurrencyList) + ' ' + currency);

                    var guestId = $(el).data('passengernumber');
                    var planSelect = $('#planSelect_' + guestId + ' option:selected');
                    if(planSelect.length > 0 && planSelect.val() != undefined && planSelect.val() != '') {
                        ssrHtml += '<dt>' + msg_ssr_insc + '</dt>' +
                        '<dd class="view"><span>'+currency+'</span> <em class="amount">'+ currencyNumberFormat(currency, parseFloat(planSelect.val()), decimalCurrencyList) +'</em></dd>';
                        ssrPaxAmount += parseFloat(planSelect.val());
                    }
                }

                if(ssrHtml!=''){
                    ssrElement.append(ssrHtml);
                    ssrElement.show();
                }
                else{
                    ssrElement.hide();
                }

                // 탑승객별 요금 합계
                $(el).find('div.price_wrap span.price').text(currencyNumberFormat(currency, (paxAmount + ssrPaxAmount), decimalCurrencyList));

                ssrAmount += ssrPaxAmount;
            });

            routeAmount += ssrAmount;

            totalAmount += routeAmount;

            // 구간별 요금 표기
            $('.summary_wrap div.route_'+i+' div.sub_price span.price').text(currencyNumberFormat(currency, routeAmount, decimalCurrencyList));

        }

        // 전체 합산 요금 표기
        $('#summary_title_amount').text(currencyNumberFormat(currency, totalAmount, decimalCurrencyList));


    };
</script>
<!-- /total summary -->



<script type="text/javascript">
    $(function(){
        //수화물 선택 슬라이더바
        $('.range_event').rangeslider({
            polyfill: false,

            // Callback function
            onInit: function(){
                $rangeEl = this.$range;
                // get range index labels
                var rangeLabels = this.$element.attr('data-labels');
                var rangePrices = this.$element.attr('data-prices');
                var label = '';
                rangeLabels = rangeLabels.split(', ');
                rangePrices = rangePrices.split(', ');
                // add labels
                $rangeEl.append('<div class="rangeslider__labels"></div>');
                $(rangeLabels).each(function(index, value) {
                    if(index == 0){
                        label = '<span class="rangeslider__labels__label active" data-price="' + rangePrices[index] + '">' + value + '</span>'
                    }else{
                        label = '<span class="rangeslider__labels__label" data-price="' + rangePrices[index] + '">' + value + '</span>'
                    }
                    $rangeEl.find('.rangeslider__labels').append(label);
                });
                //reset label width
                var labelW = 100 / (this.$element.attr('max') / this.$element.attr('step') + 1);
                //$rangeEl.find('.rangeslider__labels__label').css('width',labelW + '%');
                //2019.03.25
                $rangeEl.each(function(){
                    var rangeNum = $rangeEl.find('.rangeslider__labels__label');
                    if(rangeNum.length == 1){
                        rangeNum.parent($rangeEl).addClass("range_n1");
                        rangeNum.css("width", labelW + "%");
                    }else if(rangeNum.length == 2){
                        rangeNum.parent($rangeEl).addClass("range_n2");
                        rangeNum.css("width", labelW + "%");
                    }else if(rangeNum.length == 3){
                        rangeNum.parent($rangeEl).addClass("range_n3");
                        rangeNum.css("width", labelW + "%");
                    }else if(rangeNum.length == 4){
                        rangeNum.parent($rangeEl).addClass("range_n4");
                        rangeNum.css("width", labelW + "%");
                    }else if(rangeNum.length == 5){
                        rangeNum.parent($rangeEl).addClass("range_n5");
                        rangeNum.css("width", labelW + "%");
                    }else if(rangeNum.length == 6){
                        rangeNum.parent($rangeEl).addClass("range_n6");
                        rangeNum.css("width", labelW + "%");
                    }else if(rangeNum.length == 7){
                        rangeNum.parent($rangeEl).addClass("range_n7");
                        rangeNum.css("width", labelW + "%");
                    }else{}
                });
            },

            // 합산
            onSlide: function(position, value){
                $rangeEl = this.$range;
                //console.log('position: ' + position, 'value: ' + value);
                var $weight = this.$element.parent().find('.range_slider_info').find('.weight  span');
                $weight.text(value + 'KG');
                var $price = this.$element.parent().find('.range_slider_info').find('.price dd span');
                var rangeLabels = this.$element.attr('data-labels');
                rangeLabels = rangeLabels.split(', ');
                $rangeEl.find('.rangeslider__labels__label').removeClass('active');
                var currentWeight = this.$element.parent().find('.range_slider_info').find('.weight dd span').text();
                var currentPrice = 0;
                $(rangeLabels).each(function(index, value) {
                    if(currentWeight == value){
                        $rangeEl.find('.rangeslider__labels__label:eq(' + index + ')').addClass('active');
                        currentPrice = $rangeEl.find('.rangeslider__labels__label:eq(' + index + ')').attr('data-price');
                    }
                });
                $price.text(Number(currentPrice).toLocaleString());
            },

            onSlideEnd: function(position, value){
                //console.log('position: ' + position, 'value: ' + value);
            }
        });

        $('.non_bundle_wrap li a').click(function() {
            $(this).parent().toggleClass('on');

            if ($(this).parent('.non_bundle_wrap li').find('input:checkbox').prop('checked')){
                $(this).parent('.non_bundle_wrap li').find('input:checkbox').prop('checked', false);
            }else{
                $(this).parent('.non_bundle_wrap li').find('input:checkbox').prop('checked', true);
            }

        });

    });

    // taxList조회, kjlee
    var taxInfo = function(guestId, segmentIndex) {
        var encPnrNumber = $('input[name=PnrNumber]').val();
        var formData = 'encPnrNumber=' + encodeURIComponent(encPnrNumber) + '&guestId=' + guestId + '&segmentIndex=' + (parseInt(segmentIndex, 10) - 1);
        
        beginLoadingAnimation();
        taxInfoLayer(formData);
    };
</script>

<!-- 여행자 보험 -->
<script type="text/javascript">
    var currency = 'KRW';
    var domIntDiv = 'I';

    $(function(){
        $("input[name='birth']").prop('disabled', true);
        $("input[name='planType']").prop('disabled', true);

        /* 첫번째 달력*/
        $('a#start').on('click', function(){
            $(this).addClass('focus');
            $('#datepicker_layer_s').fadeIn(200);
            $('#datepicker_layer_s').css({'left': 187});
            $('#singleCalendarDP').attr('tabindex','0').focus();
        });

        /* 두번째 달력*/
        $('a#end').on('click', function(){
            $(this).addClass('focus');
            $('#datepicker_layer_s').fadeIn(200);
            $('#datepicker_layer_s').css({'left': 457});
            $('#singleCalendarDP').attr('tabindex','0').focus();
        });

        /* 날짜 선택시 닫기 */
        $('a.day').on('click', function(){
            $('a.focus').focus();
            $('a#start, a#end').removeClass('focus');
            $('#datepicker_layer_s').fadeOut(200);

        });
    });

    $("input[name='agreeInscGuide']").on('click', function(e){
        var allAgreeInscIndGuide = true;
        $("input[name='agreeInscIndGuide']").each(function() {
            var agreeInscIndGuide = $(this).val();
            if(agreeInscIndGuide == 'false') {
                allAgreeInscIndGuide = false;
            }
        })

        if($(this).prop('checked')) {
            if(!allAgreeInscIndGuide) {
                alert('[\uBCF4\uD5D8\uACC4\uC57D \uC911\uC694 \uC548\uB0B4 \uC0AC\uD56D]\uC744 \uBC18\uB4DC\uC2DC \uD655\uC778\uD574\uC8FC\uC2DC\uAE30 \uBC14\uB78D\uB2C8\uB2E4.');
                $("input[name='agreeInscGuide']").prop('checked', false);
                showInsuranceGuide();
                return false;
            } else {
                $("input[name='agreeInscGuide']").prop('checked', true);
            }
        }
    });

    $("input[name='agreeInscRuleAndPrivacy']").on('click', function(e){
        var agreeInscRule = $("input[name='agreeInscRule']").val();
        var agreeInscPrivacy = $("input[name='agreeInscPrivacy']").val();

        if($(this).prop('checked')) {
            if(agreeInscRule == 'false' || agreeInscPrivacy == 'false') {
                alert('[\uAC00\uC785 \uADDC\uC57D \uBC0F \uC81C3\uC790 \uC81C\uACF5 \uB3D9\uC758] \uB97C \uBC18\uB4DC\uC2DC \uD655\uC778\uD574\uC8FC\uC2DC\uAE30 \uBC14\uB78D\uB2C8\uB2E4.');
                $("input[name='agreeInscRuleAndPrivacy']").prop('checked', false);
                showInsurancePrivacy();
                return false;
            } else {
                $("input[name='agreeInscRuleAndPrivacy']").prop('checked', true);
            }
        } else {
            $("input[name='agreeInscRule']").val(false)
            $("input[name='agreeInscPrivacy']").val(false)
        }
    });

    $("input[name='chkInscPax']").on('click', function(e){
        var guestId = $(this).data('guestid');

        if($(this).prop('checked')) {
            if($("input[name='policyEndDate']").val() == '') {
                alert('\uC5EC\uD589 \uC885\uB8CC\uC77C\uC790\uB97C \uC785\uB825\uD558\uC138\uC694.');
                return false;
            }

            var policyStartDate = $("input[name='policyStartDate']").val();
            var policyEndDate = $("input[name='policyEndDate']").val();
            var dateDiffValue = dateDiff(policyStartDate, policyEndDate);

            if(dateDiffValue < 1) { //기간은 최소 2일. 최대3개월까지 설정가능(국내선의 경우 최대1개월 까지 가능)
                alert('\uC5EC\uD589\uAE30\uAC04\uC740 \uCD5C\uC18C 2\uC77C\uC785\uB2C8\uB2E4.');
                return false;
            }
            var maxPolicyMonth = 30; //국내선의 경우 → (최대 1개월까지 가입가능)
            if(domIntDiv == 'I') {
                maxPolicyMonth = 90; //국제선의 경우 → (최대 3개월까지 가입가능)
            }
            if(dateDiffValue > maxPolicyMonth) {
                alert('\uC5EC\uD589\uAE30\uAC04\uC740 \uAD6D\uB0B4\uC120 \uCD5C\uB300 1\uAC1C\uC6D4, \uAD6D\uC81C\uC120 \uCD5C\uB300 3\uAC1C\uC6D4\uC785\uB2C8\uB2E4.');
                return false;
            }

            $('#birth_' + guestId).prop('disabled', false);
            $("#planSelect_" + guestId).prop('disabled', false);

            var birth = $('#birth_' + guestId).val();
            if(birth != null && birth != '') {
                getPlanList(guestId);
            }
        } else {
            $('#birth_' + guestId).val('');
            $('#birth_' + guestId).prop('disabled', true);
            $("#planSelect_" + guestId).prop('disabled', true);

            getPlanList(guestId);
        }

        if($("input[name='chkInscPax']:checked").length == 0) {
            $("#termsArea").css('display', 'none');

            $("input[name*='agreeInscInfo']").prop('checked', false);
            $("input[name*='agreeInscGuide']").prop('checked', false);
            $("input[name*='agreeInscRuleAndPrivacy']").prop('checked', false);
        } else {
            $("#termsArea").css('display', 'block');
        }

        $("#joinInscCnt").text($("input[name='chkInscPax']:checked").length);
    });

    var dateDiff = function(bookingStartDate, bookingEndDate){
        var arr1 = bookingStartDate.split('-');
        var dat1 = new Date(arr1[0], arr1[1] - 1, arr1[2]);

        var arr2 = bookingEndDate.split('-');
        var dat2 = new Date(arr2[0], arr2[1] - 1, arr2[2]);

        var diff = dat2-dat1;
        var currDay = 24 * 60 * 60 * 1000;

        return diff/currDay;
    };

    var showEndCalendar = function(){
        var policyEndDate = $("input[name='policyEndDate']").val();
        var policyEndDateValue = new Date();
        if(policyEndDate != '') {
            policyEndDateValue = new Date(policyEndDate);
            singleCalendarLayer(policyEndDateValue.getFullYear(), policyEndDateValue.getMonth()+1, policyEndDateValue.getDate(), "policyEndDate", 637, 535, 'N', null, null);
        } else {
            singleCalendarLayer(policyEndDateValue.getFullYear(), policyEndDateValue.getMonth()+1, policyEndDateValue.getDate(), "policyEndDate", 637, 535, 'N', null, null);
        }

        changePolicyDate();
    };

    var changePolicyDate = function() {
        $("input[name*='phoneNo']").val('');
        $("input[name*='chkInscPax']").prop('checked', false);
        $("input[name*='birth']").val('');
        $("#joinInscCnt").text(0);

        $("input[name*='agreeInscGuide']").prop('checked', false);
        $("input[name*='agreeInscIndGuide']").val(false);

        $("input[name*='agreeInscInfo']").prop('checked', false);
        $("input[name*='agreeInscRule']").val(false);
        $("input[name*='agreeInscRuleAndPrivacy']").prop('checked', false);
        $("input[name*='agreeInscPrivacy']").val(false);

        $("input[name='chkInscPax']").each(function() {
            var guestId = $(this).data('guestid');
            getPlanList(guestId);
        });
    };

    /**
     * 여행자보험 선택 화면 load - insuranceAvailability
     */
    var insuranceAvailability = function() {
        $( 'html, body' ).animate( { scrollTop : 0 }, 400 );

        destroyRouteSlider();

        $('.sel_passenger_wrap').hide();

        resetDisplayPassengerBundleInfo();
        displayPassengerBundleInfo(0);

           // 여행자 보험 탭인 경우
        $('#buttonNextRoute').hide();
        $('#buttonSkip').show();
           $('#buttonNextStep').show();
           // 버튼 이벤트 설정
           $('#buttonNextStep').unbind('click').bind('click', function(){ savePnr(); });

        $('#tab_ancillary_seat').removeClass('on');
        $('#tab_ancillary_baggage').removeClass('on');
        $('#tab_ancillary_meal').removeClass('on');
        $('#tab_ancillary_insurance').addClass('on');

        $('#tab_meal').hide();
        $('#tab_seat').hide();
        $('#tab_baggage').hide();
        $('#tab_insurance').show();
    };

    var destroyRouteSlider = function() {
        routeSlider.init();

        $('.swiper-container').addClass("swiper-no-swiping");
        $('.swiper-wrapper').addClass("swiper-no-swiping");

        $('#routeSlider').next().hide();
        $('a.btn_slide_prev').hide();
        $('a.btn_slide_next').hide();
        $('div.swiper-pagination-wrapper').hide();
    }

    var getInsuranceAge = function(todayVal, birth) {
        var today = new Date(todayVal); //YYYY-MM-DD
        if(birth.indexOf('-') <= -1) {
            birth = birth.substring(0,4) + '-' + birth.substring(4,6) + '-' + birth.substring(6,8);
        }
        var birthDate = new Date(birth); //YYYY-MM-DD

        var age = today.getFullYear() - birthDate.getFullYear() + 1;
        return age;
    }

    var getUSAge = function(todayVal, birth) {
        var today = new Date(todayVal); //YYYY-MM-DD
        if(birth.indexOf('-') <= -1) {
            birth = birth.substring(0,4) + '-' + birth.substring(4,6) + '-' + birth.substring(6,8);
        }
        var birthDate = new Date(birth); //YYYY-MM-DD

        var usAge = today.getFullYear() - birthDate.getFullYear();
        var month = today.getMonth() - birthDate.getMonth();

        if (month < 0 || (month == 0 && today.getDate() < birthDate.getDate())) {
            usAge--;
        }

        return usAge;
    }

    var changeDateFormat = function(guestId) {
        var agent = navigator.userAgent.toLowerCase();
        if ((navigator.appName == 'Netscape' && navigator.userAgent.search('Trident') != -1) || (agent.indexOf("msie") != -1) || agent.search( "edge/" ) != -1 ) {
            if($('#birth_' + guestId).val().indexOf('-') <= -1) {
                $('#birth_' + guestId).val($('#birth_' + guestId).val().replace(/(\d\d\d\d)(\d\d)(\d\d)/g, '$1-$2-$3'));
                getPlanList(guestId);
            }
        }
    }

    var getPlanList = function(guestId) {
        var birth = $('#birth_' + guestId).val();

        if(birth == '') {
            $("td[name='amt_" + guestId + "']").text('-');

            $("#planSelect_" + guestId).find("option").remove();
            $("#planSelect_" + guestId).append("<option value=''>" + '\uC120\uD0DD' + "</option>");
            $("#planSelect_" + guestId).prop('disabled', true);

            calculateFareSummary();
        } else {
            if(isValidDate(birth)) {
                var policyStartDate = $("input[id='policyStartDate']").val();
                var policyEndDate = $("input[id='policyEndDate']").val();

                $.ajax({
                    url : "/ajax/booking/insurance/getPlanList" // ajax url
                    , async: false // 동기(false):비동기(true)
                    , dataType: 'json'
                    , type : 'post'
                    //, contentType: "application/x-www-form-urlencoded; charset=UTF-8", dataType: "json"
                    , data : {
                        birth : birth.indexOf('-') > -1 ? birth.replace(/-/gi, "") : birth,
                        sexDiv : $('#gender_' + guestId).val(),
                        domIntDiv : domIntDiv,
                        policyStartDate : policyStartDate.indexOf('-') > -1 ? policyStartDate.replace(/-/gi, "") : policyStartDate,
                        policyEndDate : policyEndDate.indexOf('-') > -1 ? policyEndDate.replace(/-/gi, "") : policyEndDate
                    }
                    , beforeSend: function (xhr) {
                        xhr.setRequestHeader($("meta[name='_csrf_header']").attr("content"), $("meta[name='_csrf']").attr("content"));
                    }
                    , success : function(data){
                        $("#planSelect_" + guestId).find("option").remove();
                        $("#planSelect_" + guestId).append("<option value=''>" + '\uC120\uD0DD' + "</option>");
                        $("#planSelect_" + guestId).prop('disabled', false);

                        // 조회된 플랜 저장
                        var planArr = new Array();
                        $.each(data.data.planList, function(i, item) {
                            var insurePlanCode = item.insurePlanCode;
                            var lineupOrder = item.lineupOrder;
                            var planTitle = item.planTitle;
                            var planTitleCode = item.planTitleCode;
                            var insureAmt = item.insureAmt;
                            var planAmt = item.planAmt;

                            planArr.push(lineupOrder);

                            //$("#planTitle_"+lineupOrder).text(planTitle);
                            $("#planAmt_"+guestId +"_"+lineupOrder).text(planAmt);
                            $("#insureAmt_"+guestId +"_"+lineupOrder).text(currencyNumberFormat(currency, parseFloat(insureAmt), decimalCurrencyList));

                            $("#planSelect_" + guestId).append("<option value='"+ insureAmt +"' data-plantitlecode='" + planTitleCode + "'>"+ planTitle +"</option>");
                        });

                        // 조회되지 않은 플랜 초기화
                        for(i=1;i<4;i++) {
                            if(jQuery.inArray(i, planArr) == -1) {
                                $("#planAmt_"+guestId +"_"+i).text("-");
                                $("#insureAmt_"+guestId +"_"+i).text("-");
                            }
                        }
                    }
                    , error : function(xhr, status, error) {
                        console.log(error);
                    }
                });
            } else {
                $("td[name='amt_" + guestId + "']").text('-');

                $("#planSelect_" + guestId).find("option").remove();
                $("#planSelect_" + guestId).append("<option value=''>" + '\uC120\uD0DD' + "</option>");
                $("#planSelect_" + guestId).prop('disabled', true);
            }
        }
    }

    var createInsuranceForm = function() {
        var insureForm = $('#insureForm');
        insureForm.find('input.relatorList').remove();

        var totalInsureAmount = 0;
           var i = 0;
        $('select[id^=planSelect]').each(function() {
            // 순번 데이터를 위한 설정
            if(this.value != '') {
                i++;
                var insureAmount = $(this).val();
                totalInsureAmount += parseFloat(insureAmount);

                var guestId = $(this).data('guestid');
                var insureAmount = $(this).val();
                var birth = $('#birth_'+guestId).val().indexOf('-') > -1 ? $('#birth_'+guestId).val().replace(/-/gi, "") : $('#birth_'+guestId).val();
                var relator = 'guestId=' + guestId;
                relator += '&relatorNo=' + i;
                relator += '&name=' + $('#name_'+guestId).val();
                relator += '&gender=' + $('#gender_'+guestId).val();
                relator += '&birth=' + birth;
                relator += '&planType=' + $(this).find(':selected').data('plantitlecode');
                relator += '&guestInsureAmount=' + insureAmount;

                insureForm.append('<input type="hidden" class="relatorList" name="relatorList" value="'+ relator +'" />');
            }
        });

        // AccessToken
        var accessToken = insureForm.find("input[name*='accessToken']").val();
        if(accessToken == null || accessToken == '') {
            $.ajax({
                url : "/ajax/booking/insurance/getAccessToken" // ajax url
                , async: false // 동기(false):비동기(true)
                , dataType: 'json'
                , type : 'post'
                , beforeSend: function (xhr) {
                    xhr.setRequestHeader($("meta[name='_csrf_header']").attr("content"), $("meta[name='_csrf']").attr("content"));
                }
                , success : function(data) {
                    insureForm.find("input[name*='accessToken']").val(data.data.accessToken);
                }
                , error : function(xhr, status, error) {
                    // 설계저장 API 호출 error 시 알럿 필요
                    alert('\uC5EC\uD589\uC790 \uBCF4\uD5D8 \uC11C\uBE44\uC2A4 \uCC98\uB9AC\uC5D0 \uC2E4\uD328\uD558\uC600\uC2B5\uB2C8\uB2E4.');
                    console.log(error);
                    // 이후 savePnr 진행
                }
            });
        }
    }

    var showInsuranceGuide = function() {
        // 여행자보험 선택한 탑승객이 있는 경우
        var validInsure = true;
        var validBirth = false;

           var policyStartDate = $("input[id='policyStartDate']").val();
        var policyEndDate = $("input[id='policyEndDate']").val();

        var toDay = new Date();
        var year = toDay.getFullYear();
        var month = (toDay.getMonth() + 1);
        var day = toDay.getDate();
        var todayVal = new String(year)+"-"+new String(month < 10 ? "0"+month : month)+"-"+new String(day < 10 ? "0" + day : day);

           if($("input[name*='phoneNo']").val() == '') {
               alert('\uD734\uB300\uC804\uD654\uBC88\uD638\uB97C \uC785\uB825\uD574 \uC8FC\uC138\uC694.');
               validInsure = false;
               window.scroll(0, getOffsetTop(document.getElementById('tab_wrap')));
               return false;
           }

           $("input[name='chkInscPax']:checked").each(function() {
               var guestId = $(this).data('guestid');
               var planSelect = $("#planSelect_" + guestId).val();
               if(planSelect == null || planSelect == '') {
                   alert('\uAC00\uC785\uD50C\uB79C\uC744 \uC120\uD0DD\uD574\uC8FC\uC2DC\uAE30 \uBC14\uB78D\uB2C8\uB2E4.');
                   validInsure = false;
                   window.scroll(0, getOffsetTop(document.getElementById('tab_wrap')));
                   return false;
               }

               var birth = $('#birth_' + guestId).val();
            var age = getInsuranceAge(todayVal, birth);
            var usAge = getUSAge(todayVal, birth);
            if(age >= 100) { //100세 이상일 경우 알럿 생성
                var msg = '\uD574\uB2F9 \uD50C\uB79C\uC740 \uC120\uD0DD \uBD88\uAC00 \uD569\uB2C8\uB2E4.\\n(100\uC138 \uC774\uC0C1 \uAC00\uC785 \uBD88\uAC00)';
                var message = msg.replace(/\\n/, "\n");
                alert(message);

                validInsure = false;
                   window.scroll(0, getOffsetTop(document.getElementById('tab_wrap')));
                return false;
            }
            if(usAge >= 80) { // 만 80세 이상 : 최대가입기간 1달 1달 이상 선택 시 얼럿생성
                var dateDiffValue = dateDiff(policyStartDate, policyEndDate);
                if(dateDiffValue > 30) {
                    var msg = '\uD574\uB2F9 \uD50C\uB79C\uC740 \uC120\uD0DD \uBD88\uAC00 \uD569\uB2C8\uB2E4.\\n(\uB9CC 80\uC138 \uC774\uC0C1 \uCD5C\uB300 \uAC00\uC785\uAE30\uAC04 1\uB2EC)';
                    var message = msg.replace(/\\n/, "\n");
                    alert(message);

                    validInsure = false;
                    window.scroll(0, getOffsetTop(document.getElementById('tab_wrap')));
                    return false;
                }
            }

            if(usAge > 19) { // 만 19세 이하 단독인 경우
                validInsure = true;
                validBirth = true;
            }
           });

           if(validInsure && !validBirth) {
               alert('19\uC138 \uBBF8\uB9CC \uC2B9\uAC1D\uC740 \uBCF4\uD5D8\uAC00\uC785\uC774 \uBD88\uAC00\uD569\uB2C8\uB2E4.');
               validInsure = false;
               window.scroll(0, getOffsetTop(document.getElementById('tab_wrap')));
               return false;
        }

        if(validInsure) {
            createInsuranceForm();
            insuranceGuideLayer($('#insureForm').serialize());
        }
    }

    var showInsurancePrivacy = function() {
        insurancePrivacyLayer();
    }

    var callInsertQuote = function() {
        createInsuranceForm();

        $.ajax({
            url : "/ajax/booking/insurance/callInsertQuote" // ajax url
            , async: false // 동기(false):비동기(true)
            , dataType: 'json'
            , type : 'post'
            //, contentType: "application/x-www-form-urlencoded; charset=UTF-8", dataType: "json"
            , data : $('#insureForm').serialize()
            , beforeSend: function (xhr) {
                xhr.setRequestHeader($("meta[name='_csrf_header']").attr("content"), $("meta[name='_csrf']").attr("content"));
            }
            , success : function(data) {
                if(!data.success) {
                    var msg = '\uC124\uACC4 \uC2E4\uD328\uB85C \uC5EC\uD589\uC790\uBCF4\uD5D8\uC744 \uC81C\uC678\uD55C \uD56D\uACF5\uAD8C \uC608\uB9E4\uB97C \uC9C4\uD589\uD569\uB2C8\uB2E4.\\n(\uC0AC\uC720 : {0})';
                    var message = msg.replace(/\\n/, "\n").replace('{0}', data.messageCode);
                    alert(message);
                    console.log(data.messageCode);
                } else {
                    // 리턴받은 탑승객별 보험료, 총 합 비교해서 savePnrElement RQ set
                    $.each(data.data.inscSavePnrElementList, function(i, item) {
                        $('#bookingForm').append('<input type="hidden" class="SavePnrElementInfo" name="SavePnrElementInfo" value="'+ item +'" />');
                    });
                    // 이후 savePnr 진행
                }
            }
            , error : function(xhr, status, error) {
                // 설계저장 API 호출 error 시 알럿 필요
                alert('\uC124\uACC4 \uC2E4\uD328\uB85C \uC5EC\uD589\uC790\uBCF4\uD5D8\uC744 \uC81C\uC678\uD55C \uD56D\uACF5\uAD8C \uC608\uB9E4\uB97C \uC9C4\uD589\uD569\uB2C8\uB2E4.\\n(\uC0AC\uC720 : {0})');
                console.log(error);
                // 이후 savePnr 진행
            }
        });
       }
</script>


<div class="dim" style="width: 873px; height: 2473px; display: none;"></div>
<div id="layer_area"></div>
<div id="layer_inLayerArea"></div>
<div id="address_area"></div>


<!-- 전체메뉴 시작 -->
<div class="layer_allmenu_wrap">
    <div class="layer_allmenu">
        <h2>전체메뉴</h2>

        <div class="allmenu">
            <ul class="dep1">
                <li id="allmenu_1244" class="on">
                    <a tabindex="0" href="#menu_0">항공권 예매</a>
                </li>
                <li id="allmenu_1014">
                    <a tabindex="0" href="#menu_1">나의 예약</a>
                </li>
                <li id="allmenu_1009">
                    <a tabindex="0" href="#menu_2">서비스 안내</a>
                </li>
                <li id="allmenu_1400">
                    <a tabindex="0" href="#menu_3">온라인면세점</a>
                </li>
                <li id="allmenu_1223">
                    <a tabindex="0" href="#menu_4">이벤트</a>
                </li>
                <li id="allmenu_1445">
                    <a tabindex="0" href="#menu_5">제휴</a>
                </li>
            </ul>            
        </div>

        <div class="depth_scroll">
            <!-- 항공권 예매 -->
            <div class="section_menu dep1_1244" id="menu_0">
                <div class="menu_list dep2">
                    <h3 class="dep1">
                        <a href="javascript:gnbCall('/app/booking/searchItinerary', 'N');">항공권 예매</a>
                    </h3>
                    <ul>
                    <li id="gnb_1245" class="gnb2depth dep2_1245 last_depth" data-pmenuseq="1244" data-menuurl="/app/booking/searchItinerary" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>항공권 예매</strong></a></li><li id="gnb_1428" class="gnb2depth dep2_1428 last_depth" data-pmenuseq="1244" data-menuurl="/app/promotion/event/being" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>이벤트/프로모션</strong></a></li><li id="gnb_1139" class="gnb2depth dep2_1139 last_depth" data-pmenuseq="1244" data-menuurl="/app/serviceInfo/feeInfo" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>운임 및 수수료 안내</strong></a></li></ul>
                </div>
            </div>
            <div class="section_menu dep1_1014" id="menu_1">
                <div class="menu_list dep2">
                    <h3 class="dep1">
                        <a href="javascript:gnbCall('/app/reservation/reservationList', 'N');">나의 예약</a>
                    </h3>
                    <ul>
                    <li id="gnb_1015" class="gnb2depth dep2_1015 last_depth" data-pmenuseq="1014" data-menuurl="/app/reservation/reservationList" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>예약 조회</strong></a></li><li id="gnb_1065" class="gnb2depth dep2_1065 last_depth" data-pmenuseq="1014" data-menuurl="/app/reservation/searchCheckinItinerary" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>온라인 체크인</strong></a></li><li id="gnb_1430" class="gnb2depth dep2_1430 last_depth" data-pmenuseq="1014" data-menuurl="/app/reservation/reservationList" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>부가서비스 추가 구매</strong></a></li></ul>
                </div>
            </div>
            <div class="section_menu dep1_1009" id="menu_2">
                <div class="menu_list dep2 customer">
                    <h3 class="dep1">
                        <a href="javascript:gnbCall('/app/serviceInfo/contents/1119', 'N');">서비스 안내</a>
                    </h3>
                    <ul>
                    <li id="gnb_1010" class="gnb2depth dep2_1010" data-pmenuseq="1009" data-menuurl="/app/serviceInfo/contents/1119" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>여행 준비</strong></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1119', 'N');" id="gnb_1119" data-pmenuseq="1010" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>항공권 예매 안내</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1277', 'N');" id="gnb_1277" data-pmenuseq="1010" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>단체 항공권 예매 안내</span></a><a href="javascript:gnbCall('/app/serviceInfo/familyTravel', 'N');" id="gnb_1068" data-pmenuseq="1010" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>가족 동반 여행</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1069', 'N');" id="gnb_1069" data-pmenuseq="1010" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>도움이 필요한 고객</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1070', 'N');" id="gnb_1070" data-pmenuseq="1010" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>t’pet(반려동물 동반 여행)</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1069', 'N');" id="gnb_1429" data-pmenuseq="1010" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>혼자 여행하는 어린이</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1444', 'N');" id="gnb_1444" data-pmenuseq="1010" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>티웨이페이</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1322', 'N');" id="gnb_1322" data-pmenuseq="1010" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>항공기 정보</span></a></li><li id="gnb_1125" class="gnb2depth dep2_1125" data-pmenuseq="1009" data-menuurl="/app/serviceInfo/flightSchedule" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>항공편 및 공항 정보</strong></a><a href="javascript:gnbCall('/app/serviceInfo/flightSchedule', 'N');" id="gnb_1126" data-pmenuseq="1125" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>운항스케줄 조회</span></a><a href="javascript:gnbCall('/app/serviceInfo/flightStatus', 'N');" id="gnb_1127" data-pmenuseq="1125" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>출/도착 조회</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1129', 'N');" id="gnb_1129" data-pmenuseq="1125" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>셀프 체크인 안내</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1121', 'N');" id="gnb_1121" data-pmenuseq="1125" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>온라인 체크인 안내</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1130', 'N');" id="gnb_1130" data-pmenuseq="1125" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>탑승 수속 안내</span></a><a href="javascript:gnbCall('/app/serviceInfo/airportCounter', 'N');" id="gnb_1135" data-pmenuseq="1125" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>공항 카운터 정보</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1450', 'N');" id="gnb_1450" data-pmenuseq="1125" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>코로나 19 종합 안내</span></a></li><li id="gnb_1152" class="gnb2depth dep2_1152" data-pmenuseq="1009" data-menuurl="/app/serviceInfo/ancBund" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>부가서비스</strong></a><a href="javascript:gnbCall('/app/serviceInfo/ancBund', 'N');" id="gnb_1153" data-pmenuseq="1152" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>부가서비스 번들 구매</span></a><a href="javascript:gnbCall('/app/serviceInfo/wantedSeat', 'N');" id="gnb_1154" data-pmenuseq="1152" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>사전좌석 구매</span></a><a href="javascript:gnbCall('/app/serviceInfo/luggageAmtCal', 'N');" id="gnb_1159" data-pmenuseq="1152" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>수하물 추가 구매</span></a><a href="javascript:gnbCall('/app/serviceInfo/mealInfo', 'N');" id="gnb_1160" data-pmenuseq="1152" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>기내식 사전 주문</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1431', 'N');" id="gnb_1431" data-pmenuseq="1152" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>결제시한연장 서비스</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1163', 'N');" id="gnb_1163" data-pmenuseq="1152" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>옆좌석 구매</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1165', 'N');" id="gnb_1165" data-pmenuseq="1152" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>t'carrier(펫 운송용기)/포장용 비닐 구매</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1316', 'N');" id="gnb_1316" data-pmenuseq="1152" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>t’care 서비스</span></a><a href="javascript:gnbCall('/app/affiliate/insurance', 'N');" id="gnb_1353" data-pmenuseq="1152" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>원클릭 여행자보험</span></a></li><li id="gnb_1147" class="gnb2depth dep2_1147" data-pmenuseq="1009" data-menuurl="/app/serviceInfo/contents/1148" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>수하물 안내</strong></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1148', 'N');" id="gnb_1148" data-pmenuseq="1147" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>무료 수하물</span></a><a href="javascript:gnbCall('/app/serviceInfo/luggageAmtCal', 'N');" id="gnb_1459" data-pmenuseq="1147" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>초과 수하물</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1149', 'N');" id="gnb_1149" data-pmenuseq="1147" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>특수 수하물</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1150', 'N');" id="gnb_1150" data-pmenuseq="1147" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>운송 제한 물품</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1151', 'N');" id="gnb_1151" data-pmenuseq="1147" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>수하물 배상</span></a></li><li id="gnb_1140" class="gnb2depth dep2_1140" data-pmenuseq="1009" data-menuurl="/app/serviceInfo/contents/1141" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>기내 서비스</strong></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1141', 'N');" id="gnb_1141" data-pmenuseq="1140" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>기내 제공 서비스</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1142', 'N');" id="gnb_1142" data-pmenuseq="1140" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>t’shop</span></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1145', 'N');" id="gnb_1145" data-pmenuseq="1140" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>기내 면세품 예약 및 구매 안내</span></a><a href="javascript:gnbCall('/app/board/inflightEvent', 'N');" id="gnb_1227" data-pmenuseq="1140" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>기내 이벤트</span></a></li><li id="gnb_1463" class="gnb2depth dep2_1463" data-pmenuseq="1009" data-menuurl="/app/serviceInfo/contents/1464" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>하늘 나는 피카츄 프로젝트</strong></a><a href="javascript:gnbCall('/app/serviceInfo/contents/1464', 'N');" id="gnb_1464" data-pmenuseq="1463" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>프로젝트 소개</span></a><a href="javascript:gnbCall('/app/serviceInfo/specialFlightSchedule', 'N');" id="gnb_1465" data-pmenuseq="1463" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>운항스케줄</span></a></li></ul>
                </div>
            </div>
            <div class="section_menu dep1_1400" id="menu_3">
                <div class="menu_list dep2 customer">
                    <h3 class="dep1">
                        <a href="javascript:gnbCall('/app/dutyFree/main', 'N');">온라인면세점</a>
                    </h3>
                    <ul>
                    <li id="gnb_1411" class="gnb2depth dep2_1411" data-pmenuseq="1400" data-menuurl="/app/dutyFree/productList/A" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>카테고리</strong></a><a href="javascript:gnbCall('/app/dutyFree/productList/A', 'N');" id="gnb_1421" data-pmenuseq="1411" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>주류</span></a><a href="javascript:gnbCall('/app/dutyFree/productList/Z', 'N');" id="gnb_1422" data-pmenuseq="1411" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>화장품 &amp; 향수</span></a><a href="javascript:gnbCall('/app/dutyFree/productList/Y', 'N');" id="gnb_1423" data-pmenuseq="1411" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>쥬얼리 &amp; 선물용품</span></a><a href="javascript:gnbCall('/app/dutyFree/productList/H', 'N');" id="gnb_1425" data-pmenuseq="1411" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>건강제품류</span></a></li><li id="gnb_1413" class="gnb2depth dep2_1413" data-pmenuseq="1400" data-menuurl="/app/dutyFree/orderList" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>나의 주문</strong></a><a href="javascript:gnbCall('/app/dutyFree/orderList', 'N');" id="gnb_1426" data-pmenuseq="1413" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>주문 조회</span></a></li><li id="gnb_1405" class="gnb2depth dep2_1405 last_depth" data-pmenuseq="1400" data-menuurl="/app/dutyFree/event/being" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>이벤트</strong></a></li><li id="gnb_1401" class="gnb2depth dep2_1401 last_depth" data-pmenuseq="1400" data-menuurl="/app/dutyFree/notice" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>공지사항</strong></a></li><li id="gnb_1408" class="gnb2depth dep2_1408" data-pmenuseq="1400" data-menuurl="/app/dutyFree/contents/1409" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>이용 안내</strong></a><a href="javascript:gnbCall('https://www.twayair.com/app/customerCenter/faq?priCategoryId=F0900', 'Y');" id="gnb_1432" data-pmenuseq="1408" class="gnb3depth" data-new-window-yn="Y" data-del-yn="N"><span>FAQ</span></a></li></ul>
                </div>
            </div>
            <div class="section_menu dep1_1223" id="menu_4">
                <div class="menu_list dep2">
                    <h3 class="dep1">
                        <a href="javascript:gnbCall('/app/promotion/event/being', 'N');">이벤트</a>
                    </h3>
                    <ul>
                    <li id="gnb_1224" class="gnb2depth dep2_1224 last_depth" data-pmenuseq="1223" data-menuurl="/app/promotion/event/being" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>이벤트/프로모션</strong></a></li><li id="gnb_1233" class="gnb2depth dep2_1233" data-pmenuseq="1223" data-menuurl="/app/promotion/coupon" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>쿠폰</strong></a><a href="javascript:gnbCall('/app/promotion/coupon/guide', 'N');" id="gnb_1250" data-pmenuseq="1233" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>쿠폰 안내</span></a><a href="javascript:gnbCall('/app/promotion/coupon', 'N');" id="gnb_1251" data-pmenuseq="1233" class="gnb3depth" data-new-window-yn="N" data-del-yn="N"><span>쿠폰북</span></a></li></ul>
                </div>
            </div>
            <div class="section_menu dep1_1445" id="menu_5">
                <div class="menu_list dep2 customer">
                    <h3 class="dep1">
                        <a href="javascript:gnbCall('/app/allianceCompany/HOTL', 'N');">제휴</a>
                    </h3>
                    <ul>
                    <li id="gnb_1456" class="gnb2depth dep2_1456 last_depth" data-pmenuseq="1445" data-menuurl="/app/allianceCompany/HOTL" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>호텔</strong></a></li><li id="gnb_1457" class="gnb2depth dep2_1457 last_depth" data-pmenuseq="1445" data-menuurl="/app/allianceCompany/RENT" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>렌터카</strong></a></li><li id="gnb_1449" class="gnb2depth dep2_1449 last_depth" data-pmenuseq="1445" data-menuurl="/app/allianceCompany/FNNC" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>금융 및 여행자보험</strong></a></li><li id="gnb_1448" class="gnb2depth dep2_1448 last_depth" data-pmenuseq="1445" data-menuurl="/app/allianceCompany/SHPN" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>쇼핑 및 편의</strong></a></li><li id="gnb_1454" class="gnb2depth dep2_1454 last_depth" data-pmenuseq="1445" data-menuurl="/app/allianceCompany/ACTY" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>액티비티</strong></a></li><li id="gnb_1455" class="gnb2depth dep2_1455 last_depth" data-pmenuseq="1445" data-menuurl="/app/allianceCompany/WIFI" data-new-window-yn="N" data-del-yn="N"><a href="#none"><strong>OTT &amp; WIFI</strong></a></li></ul>
                </div>
            </div>
            <!--// 항공권 예매 -->
        </div>
    </div>

    <div class="allmenu_close">
        <a class="btn_allmenu_close" href="#none">닫기</a>
    </div>

</div>
<!-- 전체메뉴 끝 -->


            
            
        
        <!--// end footerFragment -->

        <!--// begin navigationFragment (GNB 메뉴 영역) -->
        
        <!--// end navigationFragment (GNB 메뉴 영역) -->
    </div>

    <script>
    $(function(){

        //전체메뉴
        $('.btn_allmenu').on('click', function() {
            $('html, body').css('overflow', 'hidden');
            $('.btn_allmenu').css('background-image','none');
            $('.dim').fadeIn(150);
            $('.dim').css('z-index','200');
            $('.layer_allmenu_wrap').fadeIn(150);
            $('.layer_allmenu_wrap').attr('tabindex', '0').focus();
        });

        $('.btn_allmenu_close').on('click', function() {
            $('html, body').css('overflow', '');
            $('.btn_allmenu').css('background-image','');
            $('.dim').fadeOut(150);
            $('.dim').css('z-index','');
            $('.layer_allmenu_wrap').fadeOut(150);
            $('.layer_allmenu_wrap').removeAttr('tabindex');
            $('.btn_allmenu').focus();
        });

        //언어선택
        $('.sel_lang_wrap li a').on('click', function() {
            $(this).parents('.sel_lang_wrap').find('.layer_language').fadeIn(150);
            $('.layer_language').attr('tabindex', '0').focus();
        });
        $('.btn_language_close').on('click', function() {
            $(this).parents('.sel_lang_wrap').find('.layer_language').fadeOut(150);
            $('.layer_language').removeAttr('tabindex');
        });

        //검색
        $('.btn_search').on('click', function() {
            $(this).parents('.util_menu').find('.layer_search').fadeIn(150);
            $('.layer_search').attr('tabindex', '0').focus();
        });
        $('.btn_search_close').on('click', function() {
            $(this).parents('.util_menu').find('.layer_search').fadeOut(150);
            $('.layer_search').removeAttr('tabindex');
            $('.btn_search').focus();
        });

        // 기내면세 플로팅
        var gnbFragment = 'booking';
        if(gnbFragment == 'dutyFree') {
            var token = $("meta[name='_csrf']").attr("content");
            $('div.nav_sticky').load('/app/dutyFree/main/stickyLayer', {_csrf:token}, function() {
            });
        }
    });

    </script>
    
    <!-- 챗봇 서비스 -->
    

<div class="dim02"></div><script type="text/javascript" id="gtm-jq-ajax-listen">(function(){function h(b){"undefined"!==typeof jQuery?(k=jQuery,n()):20>b&&setTimeout(h,500)}function n(){k(document).bind("ajaxComplete",function(b,a,f){var c=document.createElement("a");c.href=f.url;var g="/"===c.pathname[0]?c.pathname:"/"+c.pathname,d="?"===c.search[0]?c.search.slice(1):c.search;d=l(d,"\x26","\x3d",!0);var e=l(a.getAllResponseHeaders(),"\n",":");dataLayer.push({event:"ajaxComplete",attributes:{type:f.type||"",url:c.href||"",queryParameters:d,pathname:g||"",hostname:c.hostname||
"",protocol:c.protocol||"",fragment:c.hash||"",statusCode:a.status||"",statusText:a.statusText||"",headers:e,timestamp:b.timeStamp||"",contentType:f.contentType||"",response:a.responseJSON||a.responseXML||a.responseText||""}})})}function l(b,a,f,c){var g={};if(!b||!a||!f)return{};if(b=b.split(a))for(a=0;a<b.length;a++){var d=c?decodeURIComponent(b[a]):b[a],e=d.split(f);d=m(e[0]);e=m(e[1]);d&&e&&(g[d]=e)}return g}function m(b){if(b)return b.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var k;h()})();</script> 
<script type="text/javascript" id="">(function(b,a,c){b=a.getElementsByTagName(c)[0];a=a.createElement(c);a.async=!0;a.src="//cdn.tbase.co.kr/tbase/common/1069_common.js";b.parentNode.insertBefore(a,b)})(window,document,"script");</script> 

<script type="text/javascript" id="" src="https://www.googletagmanager.com/gtag/js?id=AW-815758399"></script> 
<script type="text/javascript" id="" src="//wcs.naver.net/wcslog.js"></script>
<script type="text/javascript" id="">function mobRf(){var a=new EN;a.setData("userid","twayair");a.setSSL(!0);a.sendRf()};</script>
<script type="text/javascript" id="" src="https://cdn.megadata.co.kr/js/en_script/3.6/enliple_min3.6.js"></script>
<script type="text/javascript" id="">!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","371419434194566");fbq("track","PageView");</script>
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=371419434194566&amp;ev=PageView&amp;noscript=1"></noscript>


<script type="text/javascript" id="" src="https://www.googletagmanager.com/gtag/js?id=AW-11008077408"></script>
<script type="text/javascript" id="" src="https://www.googletagmanager.com/gtag/js?id=AW-11000412613"></script>
<script type="text/javascript" id="">window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date);gtag("config","AW-815758399");</script>

<script type="text/javascript" id="">if(!wcs_add)var wcs_add={};wcs_add.wa="s_12514e83073b";if(!_nasa)var _nasa={};wcs.inflow();wcs_do(_nasa);</script>



<script type="text/javascript" id="">window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date);gtag("config","AW-11008077408");</script>
<script type="text/javascript" id="">window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date);gtag("config","AW-11000412613");</script></body></html>